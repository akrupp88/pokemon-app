import{c as Ji,e as R,f as Lu,g as bc,h as An,j as Wv,k as re,l as _,r as Mu,s as Ou,t as x}from"./chunk-5YYWQE6R.js";import{Aa as Co,Ab as Ps,Ae as Zv,Ba as So,Bb as ie,Cc as Hv,Dc as Du,Ea as Ao,Ec as ko,Fe as qv,G as uc,Gb as se,Ha as Ds,Hb as ke,Ia as nt,Ib as vt,Ic as Kr,Jb as yt,Jc as vc,Kb as zv,Lb as gi,Ld as Uv,Ma as Bv,Mb as To,Md as yc,Nb as gc,Pa as W,Qa as y,Qd as Jr,Ra as fc,Rd as ta,Sa as Pi,Tb as At,Ub as T,Vd as Gv,Wa as Sn,Xa as $i,Za as Au,_a as k,_d as ea,a as _u,ae as Pu,b as Iv,ba as Su,ce as ia,db as Ht,de as ne,eb as Vv,f as Dv,fa as Yr,fb as j,ga as Ki,gb as Rs,ha as Lv,hc as qr,ja as Mv,je as wc,k as Rv,ke as Li,l as Pv,la as Zr,ld as Ru,me as Xv,ne as Yv,ob as ut,oc as xc,pa as Ov,pb as _t,pc as Iu,pd as $r,qa as A,qb as Mt,qc as Qr,qd as jv,ra as Fv,rb as Tu,sa as $t,sb as ku,tb as Eu,tf as Qv,ub as mc,v as Cu,vf as Kv,ya as Nv,za as _o,ze as Fu}from"./chunk-7RZE3ISM.js";var ri="arc",Nu="ArrowUp",Bu="ArrowDown",Vu="ArrowLeft",zu="ArrowRight",$v="Tab",ts="aria-activedescendant",Jv="axisLabelClick",J="#000",X="bottom",B="center",Ot="circle";var Tn="cross",ge="date",_c="12px sans-serif";var Ls="end",ty="Enter",ey="Escape",Hu=/\{\d+:?/,Eo="height";var Cc="inside",Sc="inherit",V="left",rt=Number.MAX_VALUE,dt=-Number.MAX_VALUE,Ac="none",iy="noteClick",sy="noteHover",oy="noteLeave",es="object",kn="outside",Q="right",Tc="roundedRect",Io="start",En="string",U="top",ny="triangle",ry="square",ay="rect",ce="value",q="#fff",Do="width",P="x",L="y",ju=1,sa="pointer",oa="horizontal",ly="vertical";function ft(n){return Array.isArray(n)}function st(n,t){let e=ft(t)?t:[t];for(let i=0;i<e.length;i++){let s=e[i];n.className.indexOf(s)===-1&&(n.className+=" "+s)}}var dC=/\s+/g;function is(n,t){n&&n.className&&(n.className=n.className.replace(t,"").replace(dC," "))}function Ft(n){let t=.5;n.options.stroke&&x.util.defined(n.options.stroke.width)&&n.options.stroke.width%2===0&&(t=0);for(let e=0;e<n.segments.length;e++)n.segments[e].anchor().round(0).translate(t,t);return n}function na(n,t){return-n.x*t.y+n.y*t.x<0}function Y(n){return typeof n=="number"&&!isNaN(n)}function Nt(n){return typeof n===En}function In(n){return Y(n)||Nt(n)&&isFinite(n)}function ra(n,t){return(n+1)%t}function aa(n,t){let e=n-1;return e<0?t-1:e}function ss(n,t){return t===1||n%t===0?0:n<0?t+n%t:n>=t?n%t:n}function K(n){return typeof n=="function"}var cy="object",pC="undefined";function hy(n,t){for(let e in t){if(e==="__proto__"||e==="constructor")continue;let i=t[e],s=typeof i,o;if(s===cy&&i!==null?o=i.constructor:o=null,o&&o!==Array)if(i instanceof Date)n[e]=new Date(i.getTime());else if(K(i.clone))n[e]=i.clone();else{let r=n[e];typeof r===cy?n[e]=r||{}:n[e]={},hy(n[e],i)}else s!==pC&&(n[e]=i)}return n}function f(n){let t=arguments.length;for(let e=1;e<t;e++)hy(n,arguments[e]);return n}function jt(n){return typeof n=="object"}function Mi(n){return Y(n)?n+"px":n}var uC=/width|height|top|left|bottom|right/i;function fC(n){return uC.test(n)}function bt(n,t){let e=Nt(t)?[t]:t;if(ft(e)){let i={},s=window.getComputedStyle(n);for(let o=0;o<e.length;o++){let r=e[o];i[r]=fC(r)?parseFloat(s[r]):s[r]}return i}else if(jt(t))for(let i in t)n.style[i]=Mi(t[i])}function Z(n,t=0){let e={top:0,right:0,bottom:0,left:0};return typeof n=="number"?e[U]=e[Q]=e[X]=e[V]=n:(e[U]=n[U]||t,e[Q]=n[Q]||t,e[X]=n[X]||t,e[V]=n[V]||t),e}var dy={compile:function(n){return n}},Uu=class{static register(t){dy=t}static compile(t,e){return dy.compile(t,e)}},os=Uu;function mt(n={}){let t;return n.template?n.template=t=os.compile(n.template):K(n.content)&&(t=n.content),t}function Dn(n={}){let t;return n.ariaTemplate?n.ariaTemplate=t=os.compile(n.ariaTemplate):K(n.ariaContent)&&(t=n.ariaContent),t}var mC=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,la={};la.undefined=function(n){return n};function xe(n){if(la[n])return la[n];let t=[];return n.replace(mC,function(e,i,s,o){t.push(x.util.defined(i)?i:s||o)}),la[n]=function(e){let i=e;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i},la[n]}function Ut(n,t){let e=n.length,i=[];for(let s=0;s<e;s++)t(n[s])&&i.push(n[s]);return i}function Oi(n,t){if(n.className){let e=t.split(" ");for(let i=0;i<e.length;i++)if(n.className.indexOf&&n.className.indexOf(e[i])!==-1)return!0}}var ca=class{constructor(){this._map=new Map}get(t){return this._map.get(t)}set(t,e){this._map.set(t,e)}};function z(n,t){if(t)return t.indexOf(n)!==-1}function qt(n,t,e){return x.util.round(n+(t-n)*e,3)}var py="trigger",Gu=class{constructor(t,e){this.observer=t,this.handlerMap=f({},this.handlerMap,e)}trigger(t,e){let{observer:i,handlerMap:s}=this,o;return s[t]?o=this.callObserver(s[t],e):i[py]&&(o=this.callObserver(py,t,e)),o}callObserver(t,...e){return this.observer[t].apply(this.observer,e)}requiresHandlers(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(let e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0}},Rn=Gu;function kc(n){return Object.prototype.toString.call(n)==="[object Object]"}function Pn(n,t){let e=n.length,i=[];for(let s=0;s<e;s++){let o=t(n[s]);x.util.defined(o)&&i.push(o)}return i}var gC=bc.browser||{};function Ms(n){let t=0;return n.wheelDelta?(t=-n.wheelDelta/120,gC.webkit&&(t=t/(2*Math.max(window.devicePixelRatio,.625)))):n.detail&&(t=n.detail/3),t=t>0?Math.ceil(t):Math.floor(t),t}var{append:Be,bindEvents:Ro,defined:b,deg:ai,elementOffset:Fi,elementSize:We,eventCoordinates:Ec,eventElement:Qt,hashKey:uy,last:gt,limitValue:M,objectKey:fy,rad:kt,round:D,unbindEvents:Po,valueOrDefault:F}=x.util;var Wu=class n{static fetchFonts(t,e,i={depth:0}){!t||i.depth>5||!document.fonts||Object.keys(t).forEach(function(o){let r=t[o];o==="dataSource"||o[0]==="$"||!r||(o==="font"?e.push(r):typeof r=="object"&&(i.depth++,n.fetchFonts(r,e,i),i.depth--))})}static loadFonts(t,e){let i=[];if(t.length>0&&document.fonts){try{i=t.map(function(s){return document.fonts.load(s)})}catch(s){Lu(s)}Promise.all(i).then(e,e)}else e()}static preloadFonts(t,e){let i=[];n.fetchFonts(t,i),n.loadFonts(i,e)}},Xu=Wu;function v(n,t){let e=n.prototype;e.options?e.options=f({},e.options,t):e.options=t}var xC="k-icon",Yu="k-i-",vC="k-font-icon",yC="k-svg-icon",my="k-svg-i-",ha=class{constructor(t,e){this.element=t,this.options=f({},this.options,e),this.wrapper()}wrapper(){this.addClasses()}addClasses(){}html(){return this.element.outerHTML}};v(ha,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var Ic=class extends ha{constructor(t,e){super(t,e)}wrapper(){let t=this.element.className.split(" ").find(i=>i.startsWith(Yu)),e=this.options.icon?`${this.options.icon.startsWith(Yu)?"":Yu}${this.options.icon}`:"";this._className=e,st(this.element,xC),st(this.element,vC),is(this.element,t),st(this.element,e),st(this.element,this.options.iconClass||""),super.wrapper()}};v(Ic,{name:"HTMLFontIcon",icon:null});var Dc=class extends ha{constructor(t,e){t.innerHTML="",super(t,e)}wrapper(){let t=this.options.icon,e=this.options.iconClass,i=this.element.className.split(" ").find(o=>o.startsWith(my));if(!t&&e){let o=/k-i-(\w+(?:-\w+)*)/,r=e.match(o);r&&(t=r[1],e=e.replace(r[0],""))}Nt(t)&&(t=t.replace("k-i-","").replace(/-./g,o=>o[1].toUpperCase()),t=this.options.svgIcons[t]||this.options.svgIcons[`${t}Icon`]);let s=t&&t.name?`${my}${t.name}`:"";if(this._className=s,st(this.element,yC),is(this.element,i),st(this.element,s),st(this.element,e||""),this.element.setAttribute("aria-hidden","true"),t&&kc(t)){let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox",t.viewBox||""),o.setAttribute("focusable","false"),o.innerHTML=t.content||"",this.element.appendChild(o)}super.wrapper()}};v(Dc,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var gy={svg:Dc,font:Ic};function xi(n,t){let e=n,i=t;return(!e||jt(e)&&!(e instanceof HTMLElement)||Nt(e))&&(i=e,e=document.createElement("span")),Nt(i)&&(i={icon:i}),i.type||(i.type="svg"),gy[i.type]?new gy[i.type](e,i).html():null}function Lo(n){let t=rt,e=dt;for(let i=0,s=n.length;i<s;i++){let o=n[i];o!==null&&isFinite(o)&&(t=Math.min(t,o),e=Math.max(e,o))}return{min:t===rt?void 0:t,max:e===dt?void 0:e}}function Ln(n,t){for(let e=0;e<n.length;e++){let i=n[e];if(t(i,e,n))return i}}var Rc=_.Matrix,bC=/matrix\((.*)\)/;function wC(n){let t=n.match(bC);if(t===null||t.length!==2)return Rc.unit();let e=t[1].split(",").map(i=>parseFloat(i));return new Rc(...e)}function xy(n){let t=getComputedStyle(n).transform;return t==="none"?Rc.unit():wC(t)}function Pc(n){if(!n)return Rc.unit();let t=xy(n),e=n.parentElement;for(;e;){let i=xy(e);t=t.multiplyCopy(i),e=e.parentElement}return t.b=t.c=t.e=t.f=0,t}function _C(n){return new re(n).isDark()?q:J}var ns=_C;var vy={},Zu=class{constructor(t){this._index={},this._values=t?t.slice(0):[];for(let e=0;e<this._values.length;e++)this._index[this._values[e]]=e}values(){return this._values.filter(t=>t!==vy)}has(t){return this._index[t]!==void 0}add(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))}delete(t){let e=this._index[t];e!==void 0&&(this._values[e]=vy,delete this._index[t])}clear(){this._index={},this._values=[]}get size(){return this._values.length}},qu=class{constructor(t){this._set=new Set(t)}values(){return Array.from(this._set)}has(t){return this._set.has(t)}add(t){this._set.add(t)}delete(t){this._set.delete(t)}clear(){this._set.clear()}get size(){return this._set.size}},CC=()=>{let n=!1;return typeof Set=="function"&&(n=new Set([1]).has(1)),n};function da(n){return CC()?new qu(n):new Zu(n)}function Mn(n){throw n}var SC={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},rs=SC;function Os(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Qu=class n{constructor(){this.height=0,this.width=0,this.data=[]}clone(){let t=new n;return t.height=this.height,t.width=this.width,t.data=this.data.map(e=>e.slice()),t}get(t,e){let i=this.data[t];return i?i[e]:null}set(t,e,i){let s=this.data[t];s==null&&(s=this.data[t]=[]),s[e]=i,t>=this.height&&(this.height=t+1),e>=this.width&&(this.width=e+1)}each(t,e){for(let i=0;i<this.height;++i)for(let s=0;s<this.width;++s){let o=this.get(i,s);if((e||o!=null)&&(o=t(o,i,s),o!==void 0))return o}}map(t,e){let i=new n;return this.each(function(s,o,r){i.set(o,r,t(s,o,r))},e),i}transpose(){let t=new n;return this.each(function(e,i,s){t.set(s,i,e)}),t}unit(t){this.width=this.height=t;let e=this.data=new Array(t);for(let i=t;--i>=0;){let s=e[i]=new Array(t);for(let o=t;--o>=0;)s[o]=i===o?1:0}return this}multiply(t){let e=this,i=new n;for(let s=0;s<e.height;++s)for(let o=0;o<t.width;++o){let r=0;for(let a=0;a<e.width;++a){let l=e.get(s,a),c=t.get(a,o);typeof l=="number"&&typeof c=="number"&&(r+=l*c)}i.set(s,o,r)}return i}inverse(){let t=this.width,e=this.augment(new n().unit(t)),i=e.data;for(let s=0;s<t;++s){let o=AC(s,t,function(r){return i[r][s]});if(!i[o][s])return null;if(s!==o){let r=i[s];i[s]=i[o],i[o]=r}for(let r=s+1;r<t;++r){for(let a=s+1;a<2*t;++a)i[r][a]-=i[s][a]*i[r][s]/i[s][s];i[r][s]=0}}for(let s=0;s<t;++s)for(let o=i[s][s],r=0;r<2*t;++r)i[s][r]/=o;for(let s=t;--s>=0;)for(let o=s;--o>=0;)if(i[o][s])for(let r=2*t;--r>=t;)i[o][r]-=i[s][r]*i[o][s];return e.slice(0,t,t,t)}augment(t){let e=this.clone(),i=e.width;return t.each(function(s,o,r){e.set(o,r+i,s)}),e}slice(t,e,i,s){let o=new n;for(let r=0;r<i;++r)for(let a=0;a<s;++a)o.set(r,a,this.get(t+r,e+a));return o}};function AC(n,t,e){let i=e(n),s=n;for(let o=n+1;o<t;o++){let r=e(n);r>i&&(i=r,s=n)}return s}var Lc=Qu;var Fs={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};function TC(n){return Fs[n]||n}var vi=n=>{let t=/([^ ]+)/g;return n.replace(t,TC)};function yi(){let n="",t,e;for(t=0;t<32;t++)e=Math.random()*16|0,(t===8||t===12||t===16||t===20)&&(n+="-"),n+=(t===12?4:t===16?e&3|8:e).toString(16);return n}var Ku=new WeakMap,Mc=Symbol("id");function Jt(n,t,e,i,s){EC(n,t,e,i,s)}function oe(n,t,e,i,s){DC(n,t,e,i,s)}function kC(n){return typeof n=="string"}function EC(n,t,e,i,s){(ft(t)?t:(t||"").split(" ")).forEach(function(r){IC(n,r,e,i,s)})}function IC(n,t,e,i,s){let o=i,r;e&&K(e)&&!i?o=e:e&&kC(e)&&K(o)&&(r=e);let a=function(c){let h=c.target?c.target.closest(r):null;if(!r||r&&c.target&&h){let d=r?h:c.currentTarget;Object.defineProperty(c,"currentTarget",{value:d}),Object.defineProperty(c,"delegateTarget",{value:n}),o(c)}};o[Mc]=yi();let l=Ku.get(n);l||(l=new Map,Ku.set(n,l)),l.set(o[Mc],a),n.addEventListener(t,a,!!s)}function DC(n,t,e,i){(ft(t)?t:(t||"").split(" ")).forEach(function(o){RC(n,o,e,i)})}function RC(n,t,e,i){let s=Ku.get(n);if(s&&e&&e[Mc]){let o=e[Mc],r=s.get(o);s.delete(o),r&&n.removeEventListener(t,r,!!i)}}function bi(){let n=PC(navigator.userAgent),t={};return t.mobileOS=n,t}function PC(n){let t=!1,e={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i},i={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i};for(let s in e)if(n.match(e[s])){if(s==="windows"&&"plugins"in navigator)return!1;t={},t.device=s,t.name=LC(s,i),t[t.name]=!0;break}return t}function LC(n,t,e){for(let i in t)if(t[i].test(n))return i;return e!==void 0?e:n}function pa(){}function Xe(){return new Date().getTime()}var yy="string",by="function",MC=function(){this._defaultPrevented=!0},OC=function(){return this._defaultPrevented===!0},Gt=class extends R{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(t,e,i){let s=this,o,r=typeof t===yy?[t]:t||[],a,l,c,h=typeof e===by,d;if(e===void 0){for(o in t)s.bind(o,t[o]);return s}for(o=0,a=r.length;o<a;o++){let p=r[o];c=h?e:e[p],c&&(i&&(l=c,c=function(){s.unbind(p,c),l.apply(s,arguments)},c.original=l),d=s._events[p]=s._events[p]||[],d.push(c))}return s}one(t,e){return this.bind(t,e,!0)}first(t,e){let i=this,s,o=typeof t===yy?[t]:t,r,a,l=typeof e===by,c;for(s=0,r=o.length;s<r;s++){let h=o[s];a=l?e:e[h],a&&(c=i._events[h]=i._events[h]||[],c.unshift(a))}return i}trigger(t,e){let i=this,s=i._events[t],o,r;if(s){let a=e||{};for(a.sender=i,a._defaultPrevented=!1,a.preventDefault=MC,a.isDefaultPrevented=OC,s=s.slice(),o=0,r=s.length;o<r;o++)s[o].call(i,a);return a._defaultPrevented===!0}return!1}unbind(t,e){let i=this,s=i._events[t],o;if(t===void 0)i._events={};else if(s)if(e)for(o=s.length-1;o>=0;o--)(s[o]===e||s[o].original===e)&&s.splice(o,1);else i._events[t]=[];return i}_setEvents(t){let e=(this.events||[]).length;for(let i=0;i<e;i++){let s=this.events[i];this.options[s]&&t[s]&&(this.unbind(s,this.options[s]),this._events&&this._events[s]&&delete this._events[s])}this.bind(this.events,t)}};var Oc=Object.assign,FC=n=>{n.preventDefault()},wy=800,NC=300,_y=0,Dy="press",Ry="hold",Cy="select",Py="start",$u="move",Ju="end",Sy="cancel",Fc="tap",Ly="doubleTap",My="release",BC="gesturestart",Ay="gesturechange",Ty="gestureend",ky="gesturetap",VC={api:0,touch:0,mouse:9,pointer:9};function zC(n,t){let e=n.x.location,i=n.y.location,s=t.x.location,o=t.y.location,r=e-s,a=i-o;return{center:{x:(e+s)/2,y:(i+o)/2},distance:Math.sqrt(r*r+a*a)}}function Ey(n){let t=[],e=n.originalEvent||n,i=n.currentTarget;return n.api?t.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"}):t.push({location:e,event:n,target:n.target,currentTarget:i,id:e.pointerId,type:"pointer"}),t}var Nc=class extends R{constructor(t,e){super();let i=this;i.support=bi(),i.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,i.axis=t,i._updateLocationData(e),i.startLocation=i.location,i.velocity=i.delta=0,i.timeStamp=Xe()}move(t){let e=this,i=t["page"+e.axis],s=Xe(),o=s-e.timeStamp||1;!i&&this.invalidZeroEvents||(e.delta=i-e.location,e._updateLocationData(t),e.initialDelta=i-e.startLocation,e.velocity=e.delta/o,e.timeStamp=s)}_updateLocationData(t){let e=this,i=e.axis;e.location=t["page"+i],e.client=t["client"+i],e.screen=t["screen"+i]}},tf=class extends R{constructor(t,e,i){super(),Oc(this,{x:new Nc("X",i.location),y:new Nc("Y",i.location),type:i.type,threshold:t.threshold||VC[i.type],userEvents:t,target:e,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:t._clicks,supportDoubleTap:t.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(()=>this._hold(),this.userEvents.minHold),this._trigger(Dy,this.pressEvent)}_tap(t){let e=this;e.userEvents._clicks++,e.userEvents._clicks===1&&(e._clickTimeout=setTimeout(function(){e.userEvents._clicks===1?e._trigger(Fc,t):e._trigger(Ly,t),e.userEvents._clicks=0},NC))}_hold(){this._trigger(Ry,this.pressEvent)}move(t){let e=this,i=t.type!=="api"&&e.userEvents._shouldNotMove;if(!(e._finished||i)){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(!as.current||as.current===e.userEvents)e._start(t);else return e.dispose()}e._finished||e._trigger($u,t)}}end(t){this.endTime=Xe(),!this._finished&&(this._finished=!0,this._trigger(My,t),this._moved?this._trigger(Ju,t):this.supportDoubleTap?this._tap(t):this._trigger(Fc,t),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let t=this.userEvents,e=t.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);let i=e.indexOf(this);e.splice(i,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(t){clearTimeout(this._holdTimeout),this.startTime=Xe(),this._moved=!0,this._trigger(Py,t)}_trigger(t,e){let i=e.event,s={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(t,s)&&i.preventDefault()}_withinIgnoreThreshold(){let t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold}};function Iy(n){let t=Fs.up.split(" "),e=0,i=t.length;for(;e<i;e++)n(t[e])}var as=class n extends Gt{constructor(t,e){super();let i=this,s,o=bi();if(this.support=o,e=e||{},this.options=e,s=i.filter=e.filter,i.threshold=e.threshold||_y,i.minHold=e.minHold||wy,i.touches=[],i._maxTouches=e.multiTouch?2:1,i.allowSelection=e.allowSelection,i.captureUpIfMoved=e.captureUpIfMoved,i._clicks=0,i.supportDoubleTap=e.supportDoubleTap,Oc(i,{element:t,surface:e.surface||t,stopPropagation:e.stopPropagation,pressed:!1}),this._surfaceMoveHandler=this._move.bind(this),Jt(i.surface,vi("move"),this._surfaceMoveHandler),this._surfaceEndHandler=this._end.bind(this),Jt(i.surface,vi("up cancel"),this._surfaceEndHandler),this._elementStartHandler=this._start.bind(this),Jt(t,vi("down"),s,this._elementStartHandler),t.style["touch-action"]=e.touchAction||"none",e.preventDragEvent&&(this._elementDragStartHandler=FC,Jt(t,vi("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=this._select.bind(this),Jt(t,vi("mousedown"),s,this._elementSelectHandler),i.captureUpIfMoved){let r=i.surface,a=i.preventIfMoving.bind(i);Iy(function(l){r.addEventListener(l,a,!0)})}i.bind([Dy,Ry,Fc,Ly,Py,$u,Ju,My,Sy,BC,Ay,Ty,ky,Cy],e)}preventIfMoving(t){this._isMoved()&&t.preventDefault()}destroy(){let t=this,e=this.options,i=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved){let s=t.surface;Iy(function(o){s.removeEventListener(o,t.preventIfMoving)})}oe(t.surface,vi("move"),this._surfaceMoveHandler),oe(t.surface,vi("up cancel"),this._surfaceEndHandler),oe(i,vi("down"),this._elementStartHandler),e.preventDragEvent&&oe(i,vi("dragstart"),this._elementDragStartHandler),oe(i,vi("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}}capture(){n.current=this}cancel(){this._disposeAll(),this.trigger(Sy)}notify(t,e){let i=this,s=i.touches,o=t;if(this._isMultiTouch()){switch(o){case $u:o=Ay;break;case Ju:o=Ty;break;case Fc:o=ky;break;default:break}Oc(e,{touches:s},zC(s[0],s[1]))}return this.trigger(o,Oc(e,{type:o}))}press(t,e,i){this._apiCall("_start",t,e,i)}move(t,e){this._apiCall("_move",t,e)}end(t,e){this._apiCall("_end",t,e)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let t=this.touches;for(;t.length>0;)t.pop().dispose()}_isMoved(){return Ut(this.touches,function(t){return t.isMoved()}).length}_select(t){(!this.allowSelection||this.trigger(Cy,{event:t}))&&t.preventDefault()}_start(t){if(t.which&&t.which>1||this._maxTouchesReached())return;n.current=null,this.currentTarget=t.currentTarget,this.stopPropagation&&t.stopPropagation();let e,i=Ey(t);for(let s=0;s<i.length&&!this._maxTouchesReached();s++){let o=i[s];if(this.filter?e=o.currentTarget:e=this.element,e&&e.length===0)continue;let r=new tf(this,e,o);this.touches.push(r),r.press(),this._isMultiTouch()&&this.notify("gesturestart",{})}}_move(t){this._eachTouch("move",t)}_end(t){this._eachTouch("end",t)}_eachTouch(t,e){let i=this,s={},o=Ey(e),r=i.touches,a,l,c,h;for(a=0;a<r.length;a++)l=r[a],s[l.id]=l;for(a=0;a<o.length;a++)c=o[a],h=s[c.id],h&&(t==="move"&&c.type==="pointer"&&!this.surface.hasPointerCapture(c.id)&&this.surface.setPointerCapture(c.id),h[t](c))}_apiCall(t,e,i,s){this[t]({api:!0,pageX:e,pageY:i,clientX:e,clientY:i,target:s||this.element,stopPropagation:pa,preventDefault:pa})}static defaultThreshold(t){_y=t}static minHold(t){wy=t}};function Ye(n,t){let e=D(t-n,9);if(e===0){if(t===0)return .1;e=Math.abs(t)}let i=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))),s=D(e/i,10),o=1;return s<1.904762?o=.2:s<4.761904?o=.5:s<9.523809?o=1:o=2,D(i*o,10)}var ef=class n extends R{constructor(t,e){super(),this.x=t||0,this.y=e||0}clone(){return new n(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}rotate(t,e){let i=kt(e),s=Math.cos(i),o=Math.sin(i),{x:r,y:a}=t,{x:l,y:c}=this;return this.x=D(r+(l-r)*s+(c-a)*o,3),this.y=D(a+(c-a)*s-(l-r)*o,3),this}multiply(t){return this.x*=t,this.y*=t,this}distanceTo(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}static onCircle(t,e,i){let s=kt(e);return new n(t.x-i*Math.cos(s),t.y-i*Math.sin(s))}},N=ef;var sf=class n extends R{constructor(t,e,i,s){super(),this.x1=t||0,this.y1=e||0,this.x2=i||0,this.y2=s||0}equals(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}move(t,e){let i=this.height(),s=this.width();return b(t)&&(this.x1=t,this.x2=this.x1+s),b(e)&&(this.y1=e,this.y2=this.y1+i),this}wrap(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this}wrapPoint(t){let e=ft(t),i=e?t[0]:t.x,s=e?t[1]:t.y;return this.wrap(new n(i,s,i,s)),this}snapTo(t,e){return(e===P||!e)&&(this.x1=t.x1,this.x2=t.x2),(e===L||!e)&&(this.y1=t.y1,this.y2=t.y2),this}alignTo(t,e){let i=this.height(),s=this.width(),o=e===U||e===X?L:P,r=o===L?i:s;if(e===B){let a=t.center(),l=this.center();this.x1+=a.x-l.x,this.y1+=a.y-l.y}else e===U||e===V?this[o+1]=t[o+1]-r:this[o+1]=t[o+2];return this.x2=this.x1+s,this.y2=this.y1+i,this}shrink(t,e){return this.x2-=t,this.y2-=e,this}expand(t,e){return this.shrink(-t,-e),this}pad(t){let e=Z(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(t){let e=Z(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new n(this.x1,this.y1,this.x2,this.y2)}center(){return new N(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2}points(){return[new N(this.x1,this.y1),new N(this.x2,this.y1),new N(this.x2,this.y2),new N(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)}rotate(t){let e=this.width(),i=this.height(),{x:s,y:o}=this.center(),r=Bc(0,0,s,o,t),a=Bc(e,0,s,o,t),l=Bc(e,i,s,o,t),c=Bc(0,i,s,o,t);return e=Math.max(r.x,a.x,l.x,c.x)-Math.min(r.x,a.x,l.x,c.x),i=Math.max(r.y,a.y,l.y,c.y)-Math.min(r.y,a.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+i,this}toRect(){return new _.Rect([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return this.width()!==0&&this.height()!==0}align(t,e,i){let s=e+1,o=e+2,r=e===P?Do:Eo,a=this[r]();z(i,[V,U])?(this[s]=t[s],this[o]=this[s]+a):z(i,[Q,X])?(this[o]=t[o],this[s]=this[o]-a):i===B&&(this[s]=t[s]+(t[r]()-a)/2,this[o]=this[s]+a)}};function Bc(n,t,e,i,s){let o=kt(s);return new N(e+(n-e)*Math.cos(o)+(t-i)*Math.sin(o),i-(n-e)*Math.sin(o)+(t-i)*Math.cos(o))}var S=sf;var of=class n extends R{constructor(t,e,i,s,o){super(),this.center=t,this.innerRadius=e,this.radius=i,this.startAngle=s,this.angle=o}clone(){return new n(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(t,e){return e?this.innerRadius=t:this.radius=t,this}point(t,e){let i=kt(t),s=Math.cos(i),o=Math.sin(i),r=e?this.innerRadius:this.radius,a=D(this.center.x-s*r,3),l=D(this.center.y-o*r,3);return new N(a,l)}adjacentBox(t,e,i){let s=this.clone().expand(t),o=s.middle(),r=s.point(o),a=e/2,l=i/2,c=Math.sin(kt(o)),h=Math.cos(kt(o)),d=r.x-a,p=r.y-l;return Math.abs(c)<.9&&(d+=a*-h/Math.abs(h)),Math.abs(h)<.9&&(p+=l*-c/Math.abs(c)),new S(d,p,d+e,p+i)}containsPoint(t){let e=this.center,i=this.innerRadius,s=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=t.x-e.x,l=t.y-e.y,c=new N(a,l),h=this.point(o),d=new N(h.x-e.x,h.y-e.y),p=this.point(r),u=new N(p.x-e.x,p.y-e.y),m=D(a*a+l*l,3);return(d.equals(c)||na(d,c))&&!na(u,c)&&m>=i*i&&m<=s*s}getBBox(){let t=new S(rt,rt,dt,dt),e=D(this.startAngle%360),i=D((e+this.angle)%360),s=this.innerRadius,o=[0,90,180,270,e,i].sort(HC),r=o.indexOf(e),a=o.indexOf(i),l;e===i?l=o:r<a?l=o.slice(r,a+1):l=[].concat(o.slice(0,a+1),o.slice(r,o.length));for(let c=0;c<l.length;c++){let h=this.point(l[c]);t.wrapPoint(h),t.wrapPoint(h,s)}return s||t.wrapPoint(this.center),t}expand(t){return this.radius+=t,this}};function HC(n,t){return n-t}var Ni=of;var jC=.001,ua=class extends R{createRing(t,e){let i=t.startAngle+180,s=t.angle+i;(t.angle===0||t.angle>0&&i===s)&&(s+=jC);let o=new _.Point(t.center.x,t.center.y),r=Math.max(t.radius,0),a=Math.max(t.innerRadius,0),l=new _.Arc(o,{startAngle:i,endAngle:s,radiusX:r,radiusY:r}),c=x.Path.fromArc(l,e).close();if(a){l.radiusX=l.radiusY=a;let h=l.pointAt(s);c.lineTo(h.x,h.y),c.arc(s,i,a,a,!0)}else c.lineTo(o.x,o.y);return c}};ua.current=new ua;var ls=ua;var Vc=class extends R{constructor(t){super(),this.children=[],this.options=f({},this.options,this.initUserOptions(t))}initUserOptions(t){return t}reflow(t){let e=this.children,i;for(let s=0;s<e.length;s++){let o=e[s];o.reflow(t),i=i?i.wrap(o.box):o.box.clone()}this.box=i||t}destroy(){let t=this.children;this.animation&&this.animation.destroy();for(let e=0;e<t.length;e++)t[e].destroy()}getRoot(){let t=this.parent;return t?t.getRoot():null}getSender(){let t=this.getService();if(t)return t.sender}getService(){let t=this;for(;t;){if(t.chartService)return t.chartService;t=t.parent}}translateChildren(t,e){let i=this.children,s=i.length;for(let o=0;o<s;o++)i[o].box.translate(t,e)}append(){for(let t=0;t<arguments.length;t++){let e=arguments[t];this.children.push(e),e.parent=this}}renderVisual(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){let t=this.children,e=t.length;for(let i=0;i<e;i++)t[i].renderVisual()}createVisual(){this.visual=new x.Group({zIndex:this.options.zIndex,visible:F(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=x.Animation.create(this.visual,this.options.animation))}appendVisual(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):b(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(t){let e=t.options.zIndex||0,i=this.visual.children,s=i.length,o;for(o=0;o<s;o++){let r=i[o];if(F(r.options.zIndex,0)>e)break}this.visual.insert(o,t)}traverse(t){let e=this.children,i=e.length;for(let s=0;s<i;s++){let o=e[s];t(o),o.traverse&&o.traverse(t)}}closest(t){let e=this,i=!1;for(;e&&!i;)i=t(e),i||(e=e.parent);if(i)return e}renderComplete(){}hasHighlight(){let t=(this.options||{}).highlight;return!(!this.createHighlight||t&&t.visible===!1||this.visible===!1)}toggleHighlight(t,e){let i=(this.options||{}).highlight||{},s=i.visual,o=this._highlight;if(!o){let r={fill:{color:q,opacity:e||.2},stroke:{color:q,width:1,opacity:e||.2}};if(s){if(o=this._highlight=s(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(r),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(r);b(o.options.zIndex)||(o.options.zIndex=F(i.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(t)}toggleFocusHighlight(t){let e=(this.options||{}).focusHighlight||{},i=this._focusHighlight;if(!(!t&&!i)){if(!i){let s=this.getRoot().options.background,o=ns(s),r={fill:{opacity:e.opacity,color:e.color},stroke:Object.assign({},{color:o},e.border),zIndex:e.zIndex};i=this._focusHighlight=this.createFocusHighlight(r),this.appendVisual(i)}i.visible(t)}}createGradientOverlay(t,e,i){let s=new x.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:t.options.closed},e));return s.segments.elements(t.segments.elements()),s}createGradient(t){if(this.parent)return this.parent.createGradient(t)}supportsPointInactiveOpacity(){return!0}};Vc.prototype.options={};var H=Vc;var{dotsPattern:UC,verticalStripesPattern:GC,crosshatchPattern:WC,diagonalStripesPattern:XC,gridPattern:YC}=x,ZC={dots:UC,verticalStripes:GC,crosshatch:WC,diagonalStripes:XC,grid:YC};function qC(n,t){return K(n)?n(t):n}function he(n,t,e){let i=qC(n,e),s=i&&ZC[i.type];return s?s(Object.assign({},t,i)):t}var zc=class extends H{constructor(t){super(t),this.options.margin=Z(this.options.margin),this.options.padding=Z(this.options.padding)}reflow(t){let e=this.options,{width:i,height:s,shrinkToFit:o}=e,r=i&&s,a=e.margin,l=e.padding,c=e.border.width,h,d=()=>{this.align(t,P,e.align),this.align(t,L,e.vAlign),this.paddingBox=h.clone().unpad(a).unpad(c)},p=t.clone();r&&(p.x2=p.x1+i,p.y2=p.y1+s),o&&p.unpad(a).unpad(c).unpad(l),super.reflow(p),r?h=this.box=new S(0,0,i,s):h=this.box,o&&r?(d(),p=this.contentBox=this.paddingBox.clone().unpad(l)):(p=this.contentBox=h.clone(),h.pad(l).pad(c).pad(a),d()),this.translateChildren(h.x1-p.x1+a.left+c+l.left,h.y1-p.y1+a.top+c+l.top);let u=this.children;for(let m=0;m<u.length;m++){let g=u[m];g.reflow(g.box)}}align(t,e,i){this.box.align(t,e,i)}hasBox(){let t=this.options;return t.border.width||t.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(x.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){let t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:F(e.opacity,t.opacity),dashType:e.dashType},fill:he(t.pattern,{color:t.background,opacity:t.opacity},void 0),cursor:t.cursor}}};v(zc,{align:V,vAlign:U,margin:{},padding:{},border:{color:J,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var Ee=zc;function Mo(n,t){t&&(n.options.className=t.className,n.options.role=t.role,n.options.ariaLabel=t.ariaLabel,n.options.ariaRoleDescription=t.ariaRoleDescription,n.options.ariaChecked=t.ariaChecked)}var Hc=class extends Ee{constructor(t,e){super(t),this.pointData=e}getElement(){let{options:t,paddingBox:e}=this,{type:i,rotation:s}=t,o=e.center(),r=e.width()/2,a=e.height()/2;if(!t.visible||!this.hasBox())return null;let l=this.visualStyle(),c;if(i===Ot)c=new x.Circle(new _.Circle([D(e.x1+r,3),D(e.y1+a,3)],Math.min(r,a)),l);else if(i===ny)c=x.Path.fromPoints([[e.x1+r,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close();else if(i===Tn)c=new x.MultiPath(l),c.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),c.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{let h=e.toRect();if(i===Tc){let d=F(t.borderRadius,h.width()/5);h.setCornerRadius(d)}c=x.Path.fromRect(h,l)}return s&&c.transform(_.transform().rotate(-s,[o.x,o.y])),c.options.zIndex=t.zIndex,c}createElement(){let t=this.options.visual,e=this.pointData||{},i;return t?i=t({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):i=this.getElement(),i}visualOptions(){let t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}}createVisual(){this.visual=this.createElement(),Mo(this.visual,this.options.accessibilityOptions)}};v(Hc,{type:Ot,align:B,vAlign:B});var Lt=Hc;var QC="linear",fa="radial",KC={glass:{type:QC,rotation:0,stops:[{offset:0,color:q,opacity:0},{offset:.25,color:q,opacity:.3},{offset:1,color:q,opacity:0}]},sharpBevel:{type:fa,stops:[{offset:0,color:q,opacity:.55},{offset:.65,color:q,opacity:0},{offset:.95,color:q,opacity:.25}]},roundedBevel:{type:fa,stops:[{offset:.33,color:q,opacity:.06},{offset:.83,color:q,opacity:.2},{offset:.95,color:q,opacity:0}]},roundedGlass:{type:fa,supportVML:!1,stops:[{offset:0,color:q,opacity:0},{offset:.5,color:q,opacity:.3},{offset:.99,color:q,opacity:0}]},sharpGlass:{type:fa,supportVML:!1,stops:[{offset:0,color:q,opacity:.2},{offset:.15,color:q,opacity:.15},{offset:.17,color:q,opacity:.35},{offset:.85,color:q,opacity:.05},{offset:.87,color:q,opacity:.15},{offset:.99,color:q,opacity:0}]},bubbleShadow:{type:fa,center:[.5,.5],radius:.5}},nf=KC;function rf(n,t){if(n.x1===t.x1&&n.y1===t.y1&&n.x2===t.x2&&n.y2===t.y2)return t;let e=Math.min(n.x1,t.x1),i=Math.max(n.x1,t.x1),s=Math.min(n.x2,t.x2),o=Math.max(n.x2,t.x2),r=Math.min(n.y1,t.y1),a=Math.max(n.y1,t.y1),l=Math.min(n.y2,t.y2),c=Math.max(n.y2,t.y2),h=[];return h[0]=new S(i,r,s,a),h[1]=new S(e,a,i,l),h[2]=new S(s,a,o,l),h[3]=new S(i,l,s,c),n.x1===e&&n.y1===r||t.x1===e&&t.y1===r?(h[4]=new S(e,r,i,a),h[5]=new S(s,l,o,c)):(h[4]=new S(s,r,o,a),h[5]=new S(e,l,i,c)),Ut(h,function(d){return d.height()>0&&d.width()>0})[0]}var jc=class extends H{constructor(t){super(t);let e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){let{options:t,children:e}=this,i=new S(0,0,t.width,t.height);this.box=i.unpad(t.margin);for(let s=0;s<e.length;s++)e[s].reflow(i),i=rf(i,e[s].box)||new S}createVisual(){this.visual=new x.Group,this.createBackground()}createBackground(){let t=this.options,e=t.border||{},i=this.box.clone().pad(t.margin).unpad(e.width),s=x.Path.fromRect(i.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(s)}getRoot(){return this}createGradient(t){let e=this.gradients,i=fy(t),s=nf[t.gradient],o;if(e[i])o=e[i];else{let r=Object.assign({},s,t);s.type==="linear"?o=new x.LinearGradient(r):(t.innerRadius&&(r.stops=$C(r)),o=new x.RadialGradient(r),o.supportVML=s.supportVML!==!1),e[i]=o}return o}cleanGradients(){let t=this.gradients;for(let e in t)t[e]._observers=[]}size(){let t=this.options;return new S(0,0,t.width,t.height)}};v(jc,{width:600,height:400,background:q,border:{color:J,width:0},margin:Z(5),zIndex:-2});function $C(n){let t=n.stops,e=n.innerRadius/n.radius*100,i=t.length,s=[];for(let o=0;o<i;o++){let r=Object.assign({},t[o]);r.offset=(r.offset*(100-e)+e)/100,s.push(r)}return s}var lf=jc;var Uc=class extends H{constructor(t){super(t),this._initDirection()}_initDirection(){let t=this.options;t.vertical?(this.groupAxis=P,this.elementAxis=L,this.groupSizeField=Do,this.elementSizeField=Eo,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=L,this.elementAxis=P,this.groupSizeField=Eo,this.elementSizeField=Do,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)}reflow(t){this.box=t.clone(),this.reflowChildren()}reflowChildren(){let{box:t,elementAxis:e,groupAxis:i,elementSizeField:s,groupSizeField:o}=this,{groups:r,groupsSize:a,maxGroupElementsSize:l}=this.groupOptions(),c=r.length,h=t[i+1]+this.alignStart(a,t[o]());if(c){let d=h;for(let p=0;p<c;p++){let u=r[p],m=u.groupElements,g=t[e+1],w=m.length;for(let E=0;E<w;E++){let I=m[E],G=this.elementSize(I),$=d+this.alignStart(G[o],u.groupSize),et=new S;et[i+1]=$,et[i+2]=$+G[o],et[e+1]=g,et[e+2]=g+G[s],I.reflow(et),g+=G[s]+this.elementSpacing}d+=u.groupSize+this.groupSpacing}t[i+1]=h,t[i+2]=h+a,t[e+2]=t[e+1]+l}}alignStart(t,e){let i=0,s=this.options.align;return s===Q||s===X?i=e-t:s===B&&(i=(e-t)/2),i}groupOptions(){let{box:t,children:e,elementSizeField:i,groupSizeField:s,elementSpacing:o,groupSpacing:r}=this,a=D(t[i]()),l=e.length,c=[],h=0,d=0,p=0,u=0,m=[];for(let g=0;g<l;g++){let w=e[g];w.box||w.reflow(t);let E=this.elementSize(w);this.options.wrap&&D(d+o+E[i])>a&&(c.push({groupElements:m,groupSize:h,groupElementsSize:d}),u=Math.max(u,d),p+=r+h,h=0,d=0,m=[]),h=Math.max(h,E[s]),d>0&&(d+=o),d+=E[i],m.push(w)}return c.push({groupElements:m,groupSize:h,groupElementsSize:d}),u=Math.max(u,d),p+=h,{groups:c,groupsSize:p,maxGroupElementsSize:u}}elementSize(t){return{width:t.box.width(),height:t.box.height()}}createVisual(){}};v(Uc,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var Oo=Uc;var JC=x.Text,Gc=class extends H{constructor(t,e){super(e),this.content=t,this.reflow(new S)}reflow(t){let e=this.options,i=e.size=x.util.measureText(this.content,{font:e.font});this.baseline=i.baseline,this.box=new S(t.x1,t.y1,t.x1+i.width,t.y1+i.height)}createVisual(){let{font:t,color:e,opacity:i,cursor:s,stroke:o,paintOrder:r}=this.options;this.visual=new JC(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:e,opacity:i},cursor:s,stroke:o,paintOrder:r})}};v(Gc,{font:_c,color:J});var cf=Gc;function Ze(n){let t=n.origin,e=n.bottomRight();return new S(t.x,t.y,e.x,e.y)}var tS=/\n/m,hf=class extends Ee{constructor(t,e,i){super(e),this.content=t,this.data=i,this._initContainer(),this.options._autoReflow!==!1&&this.reflow(new S)}_initContainer(){let t=this.options,e=String(this.content).split(tS),i=new Oo({vertical:!0,align:t.align,wrap:!1}),s=f({},t,{opacity:1,animation:null});this.container=i,this.append(i);for(let o=0;o<e.length;o++){let r=new cf(e[o].trim(),s);i.append(r)}}reflow(t){let e=this.options,i=e.visual;if(this.container.options.align=e.align,i&&!this._boxReflow){let s=t;s.hasSize()||(this._boxReflow=!0,this.reflow(s),this._boxReflow=!1,s=this.box);let o=this.visual=i(this.visualContext(s));o&&(s=Ze(o.clippedBBox()||new _.Rect),o.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=s}else if(super.reflow(t),e.rotation){let s=Z(e.margin),o=this.box.unpad(s);this.targetBox=t,this.normalBox=o.clone(),o=this.rotate(),o.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=o.clone(),o.pad(s)}}createVisual(){let t=this.options;if(this.visual=new x.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){let e=x.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}}renderVisual(){if(this.options.visible)if(this.options.visual){let t=this.visual;t&&!b(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(t){let e={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(t),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();let t=this.visual;return delete this.visual,t}rotate(){let t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,P,t.align),this.align(this.targetBox,L,t.vAlign),this.box}rotationTransform(){let t=this.options.rotation;if(!t)return null;let{x:e,y:i}=this.normalBox.center(),s=this.rotatedBox.center();return _.transform().translate(s.x-e,s.y-i).rotate(t,[e,i])}},It=hf;var Wc=class n extends H{constructor(t){super(t),this._textBox=new It(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(t){super.reflow(t),this.box.snapTo(t,P)}static buildTitle(t,e){let i=t;typeof t=="string"&&(i={text:t}),i=Object.assign({visible:!0},e,i);let s;return i&&i.visible&&i.text&&(s=new n(i)),s}static orderTitles(t){let e=[].concat(t),i=e.filter(o=>o&&o.options.position!==X),s=e.filter(o=>o&&o.options.position===X);return Oy(i),Oy(s),s.reverse(),i.concat(s)}};function Oy(n){for(let t=1;t<n.length;t++){let e=n[t]._textBox,i=n[t-1]._textBox;i.options.margin=Object.assign(Z(i.options.margin),{bottom:0}),e.options.margin=Object.assign(Z(e.options.margin),{top:0})}}v(Wc,{color:J,position:U,align:B,margin:Z(5),padding:Z(5)});var cs=Wc;var Xc=class extends It{constructor(t,e,i,s,o){super(e,o),this.text=e,this.value=t,this.index=i,this.dataItem=s,this.reflow(new S)}visualContext(t){let e=super.visualContext(t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(t,e){t.trigger(Jv,{element:Qt(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==B){let t=this.normalBox.toRect(),e=this.rotationTransform();this.box=Ze(t.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){let t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===B)return super.rotationTransform();let i=_.transform().rotate(e).matrix(),s=this.normalBox.toRect(),o=this.targetBox.toRect(),r=t.rotationOrigin||U,a=r===U||r===X?P:L,l=r===U||r===X?L:P,c=r===U||r===V?o.origin:o.bottomRight(),h=s.topLeft().transformCopy(i),d=s.topRight().transformCopy(i),p=s.bottomRight().transformCopy(i),u=s.bottomLeft().transformCopy(i),m=_.Rect.fromPoints(h,d,p,u),g={[l]:o.origin[l]-m.origin[l]},w=Math.abs(h[l]+g[l]-c[l]),E=Math.abs(d[l]+g[l]-c[l]),I,G;D(w,10)===D(E,10)?(I=h,G=d):E<w?(I=d,G=p):(I=h,G=u);let $=I[a]+(G[a]-I[a])/2;return g[a]=o.center()[a]-$,_.transform().translate(g.x,g.y).rotate(e)}};v(Xc,{_autoReflow:!1});var Ve=Xc;var Fy=7,eS="#fff",Yc=class extends Ee{constructor(t,e,i){super(e),this.fields=t,this.chartService=i,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){let t=this.options;if(t.visible){let{label:e,icon:i}=t,s=new S,o=()=>this,r=i.size,a=this.fields.text,l,c;if(b(e)&&e.visible){let d=mt(e);d?a=d(this.fields):e.format&&(a=this.chartService.format.auto(e.format,a)),e.color||(e.color=e.position===Cc?eS:i.background),this.label=new It(a,f({},e)),this.label.aliasFor=o,e.position===Cc&&!b(r)&&(i.type===Ot?r=Math.max(this.label.box.width(),this.label.box.height()):(l=this.label.box.width(),c=this.label.box.height()),s.wrap(this.label.box))}i.width=l||r||Fy,i.height=c||r||Fy;let h=new Lt(f({},i));h.aliasFor=o,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new S),this.wrapperBox=s.wrap(h.box)}}reflow(t){let{options:e,label:i,marker:s,wrapperBox:o}=this,r=t.center(),a=e.line.length,l=e.position;if(e.visible){let c,h,d;z(l,[V,Q])?l===V?(d=o.alignTo(t,l).translate(-a,t.center().y-o.center().y),e.line.visible&&(c=[t.x1,r.y],this.linePoints=[c,[d.x2,r.y]],h=d.clone().wrapPoint(c))):(d=o.alignTo(t,l).translate(a,t.center().y-o.center().y),e.line.visible&&(c=[t.x2,r.y],this.linePoints=[c,[d.x1,r.y]],h=d.clone().wrapPoint(c))):l===X?(d=o.alignTo(t,l).translate(t.center().x-o.center().x,a),e.line.visible&&(c=[r.x,t.y2],this.linePoints=[c,[r.x,d.y1]],h=d.clone().wrapPoint(c))):(d=o.alignTo(t,l).translate(t.center().x-o.center().x,-a),e.line.visible&&(c=[r.x,t.y1],this.linePoints=[c,[r.x,d.y2]],h=d.clone().wrapPoint(c))),s&&s.reflow(d),i&&(i.reflow(d),s&&(e.label.position===kn&&i.box.alignTo(s.box,l),i.reflow(i.box))),this.contentBox=d,this.targetBox=t,this.box=h||d}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){let t=this.options,e=t.visual;t.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:()=>{this.createVisual(),this.renderChildren();let i=this.visual;return delete this.visual,i}})),this.addVisual()):super.renderVisual()}createLine(){let t=this.options.line;if(this.linePoints){let e=x.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});Ft(e),this.visual.append(e)}}click(t,e){let i=this.eventArgs(e);t.trigger(iy,i)||e.preventDefault()}over(t,e){let i=this.eventArgs(e);t.trigger(sy,i)||e.preventDefault()}out(t,e){let i=this.eventArgs(e);t.trigger(oy,i)}eventArgs(t){let e=this.options;return Object.assign(this.fields,{element:Qt(t),text:b(e.label)?e.label.text:"",visual:this.visual})}};v(Yc,{icon:{visible:!0,type:Ot},label:{position:Cc,visible:!0,align:B,vAlign:B},line:{visible:!0},visible:!0,position:U,zIndex:2});var ga=Yc;var iS={format:(n,t)=>t,toString:n=>n,parseDate:n=>new Date(n),firstDay:()=>0},Ny=iS,df=class{static register(t){Ny=t}static get implementation(){return Ny}},xa=df;var sS=/\{(\d+)(:[^\}]+)?\}/g,pf=class{constructor(t){this._intlService=t}get intl(){return this._intlService||xa.implementation}set intl(t){this._intlService=t}auto(t,...e){let i=this.intl;return Nt(t)&&t.match(Hu)?i.format(t,...e):i.toString(e[0],t)}localeAuto(t,e,i){let s=this.intl,o;return Nt(t)&&t.match(Hu)?o=t.replace(sS,function(r,a,l){let c=e[parseInt(a,10)];return s.toString(c,l?l.substring(1):"",i)}):o=s.toString(e[0],t,i),o}},uf=pf;var ff=class{constructor(t,e={}){this._intlService=e.intlService,this.sender=e.sender||t,this.format=new uf(e.intlService),this.chart=t,this.rtl=!!e.rtl}get intl(){return this._intlService||xa.implementation}set intl(t){this._intlService=t,this.format.intl=t}notify(t,e){this.chart&&this.chart.trigger(t,e)}isPannable(t){let e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t}},Fo=ff;var mf,gf=class{static register(t){mf=t}static create(t,e){let i;return mf?i=mf.create(t,e):i=new as(t,Object.assign({},{multiTouch:!0},e)),i}},va=gf;function ya(n,t){let{tickX:e,tickY:i,position:s}=n,o=new x.Path({stroke:{width:t.width,color:t.color}});return n.vertical?o.moveTo(e,s).lineTo(e+t.size,s):o.moveTo(s,i).lineTo(s,i+t.size),Ft(o),o}function ba(n,t){let{lineStart:e,lineEnd:i,position:s}=n,o=new x.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return n.vertical?o.moveTo(e,s).lineTo(i,s):o.moveTo(s,e).lineTo(s,i),Ft(o),o}var Zc=class extends H{constructor(t,e=new Fo){super(t),this.chartService=e,this.options.visible||(this.options=f({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==Ac},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==Ac},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(t){let e=t.rotation;jt(e)&&(t.alignRotation=e.align,t.rotation=e.angle)}createLabels(){let t=this.options,e=t.vertical?Q:B,i=f({},t.labels,{align:e,zIndex:t.zIndex}),s=Math.max(1,i.step);if(this.clearLabels(),i.visible){this.normalizeLabelRotation(i),i.rotation==="auto"&&(i.rotation=0,t.autoRotateLabels=!0);let o=this.labelsRange();for(let r=o.min;r<o.max;r+=s){let a={index:r,count:o.max},l=this.createAxisLabel(r,i,a);l&&(this.append(l),this.labels.push(l))}}}clearLabels(){this.children=Ut(this.children,t=>!(t instanceof Ve)),this.labels=[]}clearTitle(){this.title&&(this.children=Ut(this.children,t=>t!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){let{options:t,box:e}=this,i=t.vertical,s=t.labels.mirror,o=s?e.x1:e.x2,r=s?e.y2:e.y1,a=t.line.width||0;return i?new S(o,e.y1,o,e.y2-a):new S(e.x1,r,e.x2-a,r)}createTitle(){let t=this.options,e=f({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){let i=new It(e.text,e);this.append(i),this.title=i}}createNotes(){let t=this.options,e=t.notes,i=e.data||[];this.notes=[];for(let s=0;s<i.length;s++){let o=f({},e,i[s]);o.value=this.parseNoteValue(o.value);let r=new ga({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(b(r.options.position)?t.vertical&&!z(r.options.position,[V,Q])?r.options.position=t.reverse?V:Q:!t.vertical&&!z(r.options.position,[U,X])&&(r.options.position=t.reverse?X:U):t.vertical?r.options.position=t.reverse?V:Q:r.options.position=t.reverse?X:U,this.append(r),this.notes.push(r))}}parseNoteValue(t){return t}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let t=this._gridLines;return t||(t=this._gridLines=new x.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t}createTicks(t){let e=this.options,i=this.lineBox(),s=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical};function a(l,c,h){let d=l.length,p=Math.max(1,c.step);if(c.visible)for(let u=c.skip;u<d;u+=p)b(h)&&u%h===0||(r.tickX=s?i.x2:i.x2-c.size,r.tickY=s?i.y1-c.size:i.y1,r.position=l[u],t.append(ya(r,c)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)}createLine(){let t=this.options,e=t.line,i=this.lineBox();if(e.width>0&&e.visible){let s=new x.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});s.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),t._alignLines&&Ft(s);let o=this._lineGroup=new x.Group;o.append(s),this.visual.append(o),this.createTicks(o)}}getActualTickSize(){let t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e}createBackground(){let{options:t,box:e}=this,i=t.background;i&&(this._backgroundPath=x.Path.fromRect(e.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){let t=this.options,e=t.plotBands||[],i=t.vertical,s=this.plotArea;if(e.length===0)return;let o=this._plotbandGroup=new x.Group({zIndex:-1}),r=Ut(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<e.length;a++){let l=e[a],c,h,d=l.label,p;if(i?(c=(r||s.axisX).lineBox(),h=this.getSlot(l.from,l.to,!0)):(c=this.getSlot(l.from,l.to,!0),h=(r||s.axisY).lineBox()),d&&(d.vAlign=d.position||V,p=this.createPlotBandLabel(d,l,new S(c.x1,h.y1,c.x2,h.y2))),c.width()!==0&&h.height()!==0){let u=new _.Rect([c.x1,h.y1],[c.width(),h.height()]),m=x.Path.fromRect(u,{fill:{color:l.color,opacity:l.opacity},stroke:null});o.append(m),p&&o.append(p)}}this.appendVisual(o)}createPlotBandLabel(t,e,i){if(t.visible===!1)return null;let s=t.text,o;if(b(t)&&t.visible){let r=mt(t);r?s=r({text:s,item:e}):t.format&&(s=this.chartService.format.auto(t.format,s)),t.color||(t.color=this.options.labels.color)}return o=new It(s,t),o.reflow(i),o.renderVisual(),o.visual}createGridLines(t){let e=this.options,{minorGridLines:i,majorGridLines:s,minorUnit:o,vertical:r}=e,a=t.options.line.visible,l=s.visible?e.majorUnit:0,c=t.lineBox(),h=c[r?"y1":"x1"],d={lineStart:c[r?"x1":"y1"],lineEnd:c[r?"x2":"y2"],vertical:r},p=[],u=this.gridLinesVisual();function m(g,w,E){let I=g.length,G=Math.max(1,w.step);if(w.visible)for(let $=w.skip;$<I;$+=G){let et=D(g[$]);z(et,p)||$%E!==0&&(!a||h!==et)&&(d.position=et,u.append(ba(d,w)),p.push(et))}}return m(this.getMajorTickPositions(),s),m(this.getMinorTickPositions(),i,l/o),u.children}reflow(t){let{options:e,labels:i,title:s}=this,o=e.vertical,r=i.length,a=o?Do:Eo,l=s?s.box[a]():0,c=this.getActualTickSize()+e.margin+l,d=((this.getRoot()||{}).box||t)[a](),p=0;for(let u=0;u<r;u++){let m=i[u].box[a]();m+c<=d&&(p=Math.max(p,m))}o?this.box=new S(t.x1,t.y1,t.x1+p+c,t.y2):this.box=new S(t.x1,t.y1,t.x2,t.y1+p+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(t){return t.index}arrangeLabels(){let{options:t,labels:e}=this,i=this.labelsBetweenTicks(),s=t.vertical,o=t.labels.mirror,r=this.getLabelsTickPositions();for(let a=0;a<e.length;a++){let l=e[a],c=this.labelTickIndex(l),h=s?l.box.height():l.box.width(),d=r[c],p=r[c+1],u,m;s?(i?u=d+(p-d)/2-h/2:u=d-h/2,m=u):i?(u=d,m=p):(u=d-h/2,m=u+h),this.positionLabel(l,o,u,m)}}positionLabel(t,e,i,s=i){let o=this.options,r=o.vertical,a=this.lineBox(),l=this.getActualTickSize()+o.margin,c;if(r){let h=a.x2;e?(h+=l,t.options.rotationOrigin=V):(h-=l+t.box.width(),t.options.rotationOrigin=Q),c=t.box.move(h,i)}else{let h=a.y1;e?(h-=l+t.box.height(),t.options.rotationOrigin=X):(h+=l,t.options.rotationOrigin=U),c=new S(i,h,s,h+t.box.height())}t.reflow(c)}autoRotateLabelAngle(t,e){return t.width()<e?0:t.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;let t=this.getMajorTickPositions(),e=this.labels,i=Math.min(e.length,t.length-1),s=0;for(let o=0;o<i;o++){let r=Math.abs(t[o+1]-t[o]),a=e[o].box,l=this.autoRotateLabelAngle(a,r);if(l!==0&&(s=l),s===-90)break}if(s!==0){for(let o=0;o<e.length;o++)e[o].options.rotation=s,e[o].reflow(new S);return!0}}arrangeTitle(){let{options:t,title:e}=this,i=t.labels.mirror,s=t.vertical;e&&(s?(e.options.align=i?Q:V,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=i?U:X),e.reflow(this.box))}arrangeNotes(){for(let t=0;t<this.notes.length;t++){let e=this.notes[t],i=e.options.value,s;b(i)?(this.shouldRenderNote(i)?e.show():e.hide(),s=this.noteSlot(i)):e.hide(),e.reflow(s||this.lineBox())}}noteSlot(t){return this.getSlot(t)}alignTo(t){let e=t.lineBox(),i=this.options.vertical,s=i?L:P;this.box.snapTo(e,s),i?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[s+1]-=this.lineBox()[s+1]-e[s+1],this.box[s+2]-=this.lineBox()[s+2]-e[s+2]}axisLabelText(t,e,i){let s,o=mt(e),r=()=>e.format?this.chartService.format.localeAuto(e.format,[t],e.culture):t;if(o){let a=Object.assign({},i,{get text(){return r()},value:t,format:e.format,culture:e.culture});s=o(a)}else s=r();return s}slot(t,e,i){let s=this.getSlot(t,e,i);if(s)return s.toRect()}contentBox(){let t=this.box.clone(),e=this.labels;if(e.length){let i=this.options.vertical?L:P;if(this.chartService.isPannable(i)){let s=this.maxLabelOffset();t[i+1]-=s.start,t[i+2]+=s.end}else{e[0].options.visible&&t.wrap(e[0].box);let s=e[e.length-1];s.options.visible&&t.wrap(s.box)}}return t}maxLabelOffset(){let{vertical:t,reverse:e}=this.options,i=this.labelsBetweenTicks(),s=this.getLabelsTickPositions(),o=t?L:P,r=this.labels,a=e?1:0,l=e?0:1,c=0,h=0;for(let d=0;d<r.length;d++){let p=r[d],u=this.labelTickIndex(p),m,g;i?(m=s[u+a],g=s[u+l]):m=g=s[u],c=Math.max(c,m-p.box[o+1]),h=Math.max(h,p.box[o+2]-g)}return{start:c,end:h}}limitRange(t,e,i,s,o){let r=this.options;if(t<i&&o<0&&(!b(r.min)||r.min<=i)||s<e&&o>0&&(!b(r.max)||s<=r.max))return null;if(e<i&&o>0||s<t&&o<0)return{min:t,max:e};let a=e-t,l=t,c=e;return t<i&&o<0?(l=M(t,i,s),c=M(t+a,i+a,s)):e>s&&o>0&&(c=M(e,i,s),l=M(e-a,i,s-a)),{min:l,max:c}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){let{vertical:t,reverse:e}=this.options;return(t?-1:1)*(e?-1:1)}lineInfo(){let{vertical:t}=this.options,e=this.lineBox(),i=t?e.height():e.width(),s=t?L:P,o=this.lineDir(),a=s+(o===1?1:2).toString(),l=e[a];return{axis:s,axisOrigin:a,axisDir:o,lineBox:e,lineSize:i,lineStart:l}}pointOffset(t){let{axis:e,axisDir:i,axisOrigin:s,lineBox:o,lineSize:r}=this.lineInfo();return(i>0?t[e]-o[s]:o[s]-t[e])/r}scaleToDelta(t,e){let s=M(t,-.999,.999),o;return s>0?o=e*Math.min(1,s):o=e-e/(1+s),o}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}};v(Zc,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:J,visible:!0},title:{visible:!0,position:B},majorTicks:{align:kn,size:4,skip:0,step:1},minorTicks:{align:kn,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:kn,minorTickType:Ac,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:J,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var wi=Zc;var On="milliseconds",wa="seconds",_a="minutes",Ns="hours",Ie="days",hs="weeks",li="months",ze="years";var He={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function Bs(n,t){let e=n.getTime()-t,i=n.getTimezoneOffset()-t.getTimezoneOffset();return e-i*6e4}function Bt(n,t){return new Date(n.getTime()+t)}function ot(n){let t;return n instanceof Date?t=n:n&&(t=new Date(n)),t}function qc(n,t=0){let e=0,i=n.getDay();if(!isNaN(i))for(;i!==t;)i===0?i=6:i--,e++;return Bt(n,-e*864e5)}function Qc(n,t){return t===0&&n.getHours()===23?(n.setHours(n.getHours()+2),!0):!1}function nS(n,t){let e=new Date(n);e.setMinutes(0,0,0);let i=(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4;return Bt(e,i+t*36e5)}function Vt(n,t,e,i){let s=n;if(n){let o=ot(n),r=o.getHours();e===ze?(s=new Date(o.getFullYear()+t,0,1),Qc(s,0)):e===li?(s=new Date(o.getFullYear(),o.getMonth()+t,1),Qc(s,r)):e===hs?(s=Vt(qc(o,i),t*7,Ie),Qc(s,r)):e===Ie?(s=new Date(o.getFullYear(),o.getMonth(),o.getDate()+t),Qc(s,r)):e===Ns?s=nS(o,t):e===_a?(s=Bt(o,t*6e4),s.getSeconds()>0&&s.setSeconds(0)):e===wa?s=Bt(o,t*1e3):e===On&&(s=Bt(o,t)),e!==On&&s.getMilliseconds()>0&&s.setMilliseconds(0)}return s}function No(n,t,e){return Vt(ot(n),0,t,e)}function Ca(n,t,e){let i=ot(n);return i&&No(i,t,e).getTime()===i.getTime()?i:Vt(i,1,t,e)}function zs(n,t){return n&&t?n.getTime()-t.getTime():-1}function ve(n,t){return n.getTime()-t}function ht(n){if(ft(n)){let t=[];for(let e=0;e<n.length;e++)t.push(ht(n[e]));return t}else if(n)return ot(n).getTime()}function Bi(n,t){return n&&t?ht(n)===ht(t):n===t}function By(n,t,e){return Bs(n,t)/He[e]}function Vi(n,t,e,i){let s=ot(n),o=ot(t),r;return e===li?r=s.getMonth()-o.getMonth()+(s.getFullYear()-o.getFullYear())*12+By(s,new Date(s.getFullYear(),s.getMonth()),Ie)/new Date(s.getFullYear(),s.getMonth()+1,0).getDate():e===ze?r=s.getFullYear()-o.getFullYear()+Vi(s,new Date(s.getFullYear(),0),li,1)/12:e===Ie||e===hs?r=By(s,o,e):r=ve(s,t)/He[e],r/i}function Nn(n,t,e){let i;return e===ze?i=t.getFullYear()-n.getFullYear():e===li?i=Nn(n,t,ze)*12+t.getMonth()-n.getMonth():e===Ie?i=Math.floor(ve(t,n)/864e5):i=Math.floor(ve(t,n)/He[e]),i}function Pt(n,t){let e;return Nt(t)?e=n.parseDate(t)||ot(t):e=ot(t),e}function Bn(n,t){if(ft(t)){let e=[];for(let i=0;i<t.length;i++)e.push(Pt(n,t[i]));return e}return Pt(n,t)}function Vn(n,t){return Y(n.weekStartDay)?n.weekStartDay:t&&t.firstDay?t.firstDay():0}var rS=.01,Vy=.1;function aS(n,t){if(n instanceof Date){let e=t.length;for(let i=0;i<e;i++)if(Bi(t[i],n))return i;return-1}return t.indexOf(n)}var Kc=class n extends wi{initFields(){this._ticks={}}categoriesHash(){return""}clone(){let t=new n(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t}initUserOptions(t){let e=t.categories||[],i=b(t.min),s=b(t.max);if(t.srcCategories=t.categories=e,(i||s)&&e.length){let o=i?Math.floor(t.min):0,r;s?r=t.justified?Math.floor(t.max)+1:Math.ceil(t.max):r=e.length,t.categories=t.categories.slice(o,r)}return t}rangeIndices(){let t=this.options,e=t.categories.length||1,i=Y(t.min)?t.min%1:0,s;return Y(t.max)&&t.max%1!==0&&t.max<this.totalRange().max?s=e-(1-t.max%1):s=e-(t.justified?1:0),{min:i,max:s}}range(){let t=this.options,e=Y(t.min)?t.min:0,i=Y(t.max)?t.max:this.totalRange().max;return{min:e,max:i}}roundedRange(){return this.range()}totalRange(){let t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}}scaleOptions(){let{min:t,max:e}=this.rangeIndices(),i=this.lineBox();return{scale:(this.options.vertical?i.height():i.width())/(e-t||1)*(this.options.reverse?-1:1),box:i,min:t,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){let{box:t,labels:e}=this;if(e.length>0){let i=this.options.vertical?L:P,s=t[i+1],o=t[i+2],r=e[0],a=gt(e);(r.box[i+1]>o||r.box[i+2]<s)&&(r.options.visible=!1),(a.box[i+1]>o||a.box[i+2]<s)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(t){let{min:e,max:i}=this.rangeIndices(),s=Math.ceil(i),o=Math.floor(e),r=[];for(;o<=s;)r.push(o),o+=t;return r}getTickPositions(t){let{vertical:e,reverse:i}=this.options,{scale:s,box:o,min:r}=this.scaleOptions(),a=o[(e?L:P)+(i?2:1)],l=this.tickIndices(t),c=[];for(let h=0;h<l.length;h++)c.push(a+D(s*(l[h]-r),3));return c}getTicks(){let t=this.options,e=this._ticks,i=this.rangeIndices(),s=this.lineBox(),o=s.getHash()+i.min+","+i.max+t.reverse+t.justified;if(e._hash!==o){let r=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,s),e.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),s):[]}return e}filterOutOfRangePositions(t,e){if(!t.length)return t;let i=this.options.vertical?L:P,s=l=>e[i+1]<=l&&l<=e[i+2],o=t.length-1,r=0;for(;!s(t[r])&&r<=o;)r++;let a=o;for(;!s(t[a])&&a>=0;)a--;return t.slice(r,a+1)}lineInfo(){let{vertical:t,reverse:e}=this.options,i=this.lineBox(),s=t?i.height():i.width(),o=t?L:P,r=e?-1:1,l=o+(r===1?1:2).toString(),c=i[l];return{axis:o,axisOrigin:l,axisDir:r,lineBox:i,lineSize:s,lineStart:c}}lineDir(){let{reverse:t}=this.options;return t?-1:1}getSlot(t,e,i){let s=this.options,{reverse:o,justified:r}=s,{scale:a,box:l,min:c}=this.scaleOptions(),{axis:h,lineStart:d}=this.lineInfo(),p=l.clone(),u=!b(e),m=F(t,0),g=F(e,m);g=Math.max(g-1,m),g=Math.max(m,g);let w=d+(m-c)*a,E=d+(g+1-c)*a;return u&&r&&(E=w),i&&(w=M(w,l[h+1],l[h+2]),E=M(E,l[h+1],l[h+2])),p[h+1]=o?E:w,p[h+2]=o?w:E,p}limitSlot(t){let i=this.options.vertical?L:P,s=this.lineBox(),o=t.clone();return o[i+1]=M(t[i+1],s[i+1],s[i+2]),o[i+2]=M(t[i+2],s[i+1],s[i+2]),o}slot(t,e,i){let s=Math.floor(this.options.min||0),o=t,r=e;return typeof o=="string"?o=this.categoryIndex(o):Y(o)&&(o-=s),typeof r=="string"?r=this.categoryIndex(r):Y(r)&&(r-=s),super.slot(o,r,i)}pointCategoryIndex(t){let{reverse:e,justified:i,vertical:s}=this.options,o=s?L:P,{scale:r,box:a,min:l,max:c}=this.scaleOptions(),h=e?c:l,d=a[o+1],p=a[o+2],u=t[o];if(u<d||u>p)return null;let m=h+(u-d)/r,g=m%1;return i?m=Math.round(m):g===0&&m>0&&m--,Math.floor(m)}getCategory(t){let e=this.pointCategoryIndex(t);return e===null?null:this.options.categories[e]}categoryIndex(t){return this.totalIndex(t)-Math.floor(this.options.min||0)}categoryAt(t,e){let i=this.options;return(e?i.srcCategories:i.categories)[t]}categoriesCount(){return(this.options.categories||[]).length}translateRange(t){let e=this.options,i=this.lineBox(),s=e.vertical?i.height():i.width(),o=e.categories.length,r=s/o,a=D(t/r,10);return{min:a,max:o+a}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),s=this.limitedRangeIndices(),o=s.max-s.min,r=this.scaleToDelta(t,o),a=i*r,l=(1-i)*r,c=s.min+a,h=s.max-l;return h-c<Vy&&(h=c+Vy),{min:c,max:h}}zoomRange(t,e){let{min:i,max:s}=this.totalRange(),o=this.scaleRange(t,e);return{min:M(o.min,i,s),max:M(o.max,i,s)}}labelsCount(){let t=this.labelsRange();return t.max-t.min}labelsRange(){let t=this.options,{justified:e,labels:i}=t,{min:s,max:o}=this.limitedRangeIndices(!0),r=Math.floor(s);e?(s=Math.ceil(s),o=Math.floor(o)):(s=Math.floor(s),o=Math.ceil(o));let a;return s>i.skip?a=i.skip+i.step*Math.ceil((s-i.skip)/i.step):a=i.skip,{min:a-r,max:(t.categories.length?o+(e?1:0):0)-r}}createAxisLabel(t,e,i){let s=this.options,o=s.dataItems?s.dataItems[t]:null,r=F(s.categories[t],"");i.dataItem=o;let a=this.axisLabelText(r,e,i);return new Ve(r,a,t,o,e)}shouldRenderNote(t){let e=this.limitedRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)}noteSlot(t){let e=this.options,i=t-Math.floor(e.min||0);return this.getSlot(i)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){let{notes:t,box:e}=this;if(t&&t.length){let i=this.options.vertical?L:P,s=e[i+1],o=e[i+2];for(let r=0;r<t.length;r++){let a=t[r];a.box&&(o<a.box[i+1]||a.box[i+2]<s)&&a.hide()}}}pan(t){let e=this.limitedRangeIndices(!0),{scale:i}=this.scaleOptions(),s=D(t/i,10),o=this.totalRange(),r=e.min+s,a=e.max+s;return this.limitRange(r,a,0,o.max,s)}pointsRange(t,e){let{reverse:i,vertical:s}=this.options,o=s?L:P,r=this.limitedRangeIndices(!0),{scale:a,box:l}=this.scaleOptions(),c=l[o+(i?2:1)],h=t[o]-c,d=e[o]-c,p=r.min+h/a,u=r.min+d/a,m=Math.min(p,u),g=Math.max(p,u);if(g-m>=rS)return{min:m,max:g}}valueRange(){return this.range()}totalIndex(t){let e=this.options;return this._categoriesMap?this._categoriesMap.get(t):aS(t,e.srcCategories)}currentRangeIndices(){let t=this.options,e=0;Y(t.min)&&(e=Math.floor(t.min));let i;return Y(t.max)?i=t.justified?Math.floor(t.max):Math.ceil(t.max)-1:i=this.totalCount()-1,{min:e,max:i}}limitedRangeIndices(t){let e=this.options,i=Y(e.min)?e.min:0,s;if(Y(e.max)?s=e.max:Y(e.min)?s=i+e.categories.length:s=this.totalRange().max||1,t){let o=this.totalRange();i=M(i,0,o.max),s=M(s,0,o.max)}return{min:i,max:s}}totalRangeIndices(){return{min:0,max:this.totalRange().max||1}}indexCategories(){if(!this._categoriesMap){let t=this._categoriesMap=new ca,e=this.options.srcCategories;for(let i=0;i<e.length;i++)t.set(e[i],i)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}};v(Kc,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:J},labels:{zIndex:1},justified:!1,_deferLabels:!0});var ye=Kc;var $c={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Jc=.2;var lS="auto",ds=[On,wa,_a,Ns,Ie,hs,li,ze],eh="fit";function th(n,t){t&&(n._range=void 0);let e=n._range;return e||(e=n._range=Lo(n),e.min=ot(e.min),e.max=ot(e.max)),e}var vf=class{constructor(t){this.options=t}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}},Sa=class{constructor(t,e,i){this.options=i,i.baseUnitStep=i.baseUnitStep||1;let{roundToBaseUnit:s,justified:o}=i;this.start=Vt(t,0,i.baseUnit,i.weekStartDay);let r=this.roundToTotalStep(e),a=!o&&Bi(e,r)&&!i.justifyEnd;this.end=this.roundToTotalStep(e,!o,a?1:0);let l=i.min||t;this.valueStart=this.roundToTotalStep(l),this.displayStart=s?this.valueStart:l;let c=i.max;if(!c)this.valueEnd=r,this.displayEnd=s||a?this.end:e;else{let h=!o&&Bi(c,this.roundToTotalStep(c))?-1:0;this.valueEnd=this.roundToTotalStep(c,!1,h),this.displayEnd=s?this.roundToTotalStep(c,!o):i.max}this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){let t=this.options,{baseUnit:e,baseUnitStep:i}=t,s=Vi(this.displayStart,this.valueStart,e,i),o=Vi(this.displayEnd,this.valueStart,e,i);this._indices={min:s,max:o}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(t){let e=this.options;return Math.floor(Vi(t,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(t){let e=this.options;return Math.floor(Vi(t,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(t){let e=this.options;return Vi(t,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let t=this._values;if(!t){let e=this.options,i=this.valueRange();this._values=t=[];for(let s=i.min;s<=i.max;)t.push(s),s=Vt(s,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t}dateAt(t,e){let i=this.options;return Vt(e?this.start:this.valueStart,i.baseUnitStep*t,i.baseUnit,i.weekStartDay)}roundToTotalStep(t,e,i){let{baseUnit:s,baseUnitStep:o,weekStartDay:r}=this.options,a=this.start,l=Vi(t,a,s,o),c=e?Math.ceil(l):Math.floor(l);return i&&(c+=i),Vt(a,c*o,s,r)}};function zy(n,t,e){let i=th(n.categories),s=(n.max||i.max)-(n.min||i.min),{autoBaseUnitSteps:o,maxDateGroups:r}=n,a=n.baseUnit===eh,l=t?ds.indexOf(t):0,c=a?ds[l++]:n.baseUnit,h=s/He[c],d=h,p,u,m;for(;!u||h>=r;){p=p||o[c].slice(0);do m=p.shift();while(m&&t===c&&m<e);if(m)u=m,h=d/u;else if(c===gt(ds)){u=Math.ceil(d/r);break}else if(a)c=ds[l++]||gt(ds),d=s/He[c],p=null;else{h>r&&(u=Math.ceil(d/r));break}}n.baseUnitStep=u,n.baseUnit=c}function cS(n){let t=n.categories,e=b(t)?t.length:0,i=rt,s,o;for(let r=0;r<e;r++){let a=t[r];if(a&&s){let l=Math.abs(Bs(a,s));l!==0&&(i=Math.min(i,l),i>=31536e6?o=ze:i>=26784e5-864e5*3?o=li:i>=6048e5?o=hs:i>=864e5?o=Ie:i>=36e5?o=Ns:i>=6e4?o=_a:o=wa)}s=a}n.baseUnit=o||Ie}function hS(n){let t=(n.baseUnit||"").toLowerCase();return t!==eh&&!z(t,ds)&&cS(n),(t===eh||n.baseUnitStep===lS)&&zy(n),n}var ih=class n extends ye{clone(){let t=new n(Object.assign({},this.options),this.chartService);return t.createLabels(),t}categoriesHash(){let t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t}initUserOptions(t){return t}initFields(){super.initFields();let t=this.chartService,e=t.intl,i=this.options,s=i.categories||[];if(s._parsed||(s=Bn(e,s),s._parsed=!0),i=f({roundToBaseUnit:!0},i,{categories:s,min:Pt(e,i.min),max:Pt(e,i.max),weekStartDay:Vn(i,e)}),t.panning&&t.isPannable(i.vertical?L:P)&&(i.roundToBaseUnit=!1),i.userSetBaseUnit=i.userSetBaseUnit||i.baseUnit,i.userSetBaseUnitStep=i.userSetBaseUnitStep||i.baseUnitStep,this.options=i,i.srcCategories=s,s.length>0){let o=th(s,!0),r=i.maxDivisions,a=hS(i),l=i._forecast;if(l&&(l.before>0&&(o.min=Vt(o.min,-l.before,a.baseUnit,a.weekStartDay)),l.after>0&&(o.max=Vt(o.max,l.after,a.baseUnit,a.weekStartDay))),this.dataRange=new Sa(o.min,o.max,a),r){let c=this.dataRange.displayRange(),h=Object.assign({},i,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:c.min,max:c.max,maxDateGroups:r}),d=this.dataRange.options;zy(h,d.baseUnit,d.baseUnitStep),this.divisionRange=new Sa(o.min,o.max,h)}else this.divisionRange=this.dataRange}else i.baseUnit=i.baseUnit||Ie,this.dataRange=this.divisionRange=new vf(i);this.rangeLabels=[]}tickIndices(t){let{dataRange:e,divisionRange:i}=this,s=i.valuesCount();if(!this.options.maxDivisions||!s)return super.tickIndices(t);let o=[],r=i.values(),a=0;this.options.justified||(r=r.concat(i.dateAt(s)),a=.5);for(let l=0;l<r.length;l++)if(o.push(e.dateIndex(r[l])+a),t!==1&&l>=1){let c=o.length-1;o.splice(l,0,o[c-1]+(o[c]-o[c-1])*t)}return o}shouldRenderNote(t){let e=this.range(),i=this.options.categories||[];return zs(t,e.min)>=0&&zs(t,e.max)<=0&&i.length}parseNoteValue(t){return Pt(this.chartService.intl,t)}noteSlot(t){return this.getSlot(t)}translateRange(t){let e=this.options,{baseUnit:i,weekStartDay:s,vertical:o}=e,r=this.lineBox(),a=o?r.height():r.width(),l=this.range(),c=a/(l.max-l.min),h=D(t/c,10);if(l.min&&l.max){let d=Bt(e.min||l.min,h),p=Bt(e.max||l.max,h);l={min:Vt(d,0,i,s),max:Vt(p,0,i,s)}}return l}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(t){if(this.isEmpty())return null;let e=this.options,i=this.lineBox(),s=e.vertical?i.height():i.width(),{min:o,max:r}=this.dataRange.displayRange(),a=this.dataRange.total(),l=s/(r-o),c=D(t/l,10)*(e.reverse?-1:1),h=Bt(o,c),d=Bt(r,c),p=this.limitRange(ht(h),ht(d),ht(a.min),ht(a.max),c);if(p)return p.min=ot(p.min),p.max=ot(p.max),p.baseUnit=e.baseUnit,p.baseUnitStep=e.baseUnitStep||1,p.userSetBaseUnit=e.userSetBaseUnit,p.userSetBaseUnitStep=e.userSetBaseUnitStep,p}pointsRange(t,e){if(this.isEmpty())return null;let i=super.pointsRange(t,e),s=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=ve(s.max,s.min)/(o.max-o.min),a=this.options,l=Bt(s.min,i.min*r),c=Bt(s.min,i.max*r);return{min:l,max:c,baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(t,e){if(this.isEmpty())return{};let i=this.options,s=i.userSetBaseUnit===eh,o=this.dataRange.total(),{min:r,max:a}=this.dataRange.displayRange(),l=Math.abs(this.pointOffset(e)),c=a-r,h=this.scaleToDelta(t,c),d=Math.round(l*h),p=Math.round((1-l)*h),{baseUnit:u}=this.dataRange.options,m=new Date(r.getTime()+d),g=new Date(a.getTime()-p);if(s){let{autoBaseUnitSteps:w,maxDateGroups:E}=i,I=gt(w[u])*E*He[u],G=ve(a,r),$=ve(g,m),et=ds.indexOf(u),it,ct;if($<He[u]&&u!==On)u=ds[et-1],it=gt(w[u]),ct=(G-(E-1)*it*He[u])/2,m=Bt(r,ct),g=Bt(a,-ct);else if($>I&&u!==ze){let wt=0;do{et++,u=ds[et],wt=0,ct=2*He[u];do it=w[u][wt],wt++;while(wt<w[u].length&&ct*it<G)}while(u!==ze&&ct*it<G);ct=(ct*it-G)/2,ct>0&&(m=Bt(r,-ct),g=Bt(a,ct),m=Bt(m,M(g,o.min,o.max)-g),g=Bt(g,M(m,o.min,o.max)-m))}}if(m&&g&&ve(g,m)>0)return{min:m,max:g,baseUnit:i.userSetBaseUnit||i.baseUnit,baseUnitStep:i.userSetBaseUnitStep||i.baseUnitStep}}zoomRange(t,e){let i=this.dataRange.total(),s=this.scaleRange(t,e);return s&&(s.min<i.min&&(s.min=i.min),s.max>i.max&&(s.max=i.max)),s}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){let{options:t,rangeLabels:e}=this;if(e.length===0)return;let i=this.lineBox(),s=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,r=e[0];if(r){let l=s?i.y1-r.box.height()/2:i.x1;this.positionLabel(r,o,l)}let a=e[1];if(a){let l=s?i.y2-a.box.height()/2:i.x2;this.positionLabel(a,o,l)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){let{rangeLabels:t,labels:e}=this;if(t.length===0)return;function i(r,a){return!a.options.visible||a.box.overlaps(r.box)?(a.options.visible=!1,!0):!1}let s=t[0];if(s&&s.options.visible)for(let r=0;r<e.length&&i(s,e[r]);r++);let o=t[1];if(o&&o.options.visible)for(let r=e.length-1;r>0&&i(o,e[r]);--r);}contentBox(){let t=super.contentBox(),e=this.rangeLabels;for(let i=0;i<e.length;i++){let s=e[i];s.options.visible&&t.wrap(s.box)}return t}createAxisLabel(t,e,i={}){let s=this.options,o=s.dataItems&&!s.maxDivisions?s.dataItems[t]:null,r=this.divisionRange.dateAt(t),a=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||a,i.dataItem=o;let l=this.axisLabelText(r,e,i);if(l)return new Ve(r,l,t,o,e)}createRangeLabels(){let{displayStart:t,displayEnd:e}=this.divisionRange,i=this.options,s=Object.assign({},i.labels,i.rangeLabels,{align:B,zIndex:i.zIndex});if(s.visible!==!0)return;this.normalizeLabelRotation(s),s.alignRotation=B,s.rotation==="auto"&&(s.rotation=0,i.autoRotateRangeLabels=!0);let o=s.dateFormats[this.divisionRange.options.baseUnit];s.format=s.format||o;let r=(c,h,d)=>{if(d){let p=new Ve(h,d,c,null,s);this.append(p),this.rangeLabels.push(p)}},a=this.axisLabelText(t,s,{index:0,count:2});r(0,t,a);let l=this.axisLabelText(e,s,{index:1,count:2});r(1,e,l)}autoRotateRangeLabels(){let t=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||t.length!==2)return;let e=(s,o,r)=>{let a=Math.abs(o[r+1]-o[r])*2,l=this.autoRotateLabelAngle(s.box,a);l!==0&&(s.options.rotation=l,s.reflow(new S))},i=this.getMajorTickPositions();e(t[0],i,0),e(t[1],i,i.length-2)}categoryIndex(t){return this.dataRange.valueIndex(t)}slot(t,e,i){let s=this.dataRange,o=t,r=e;o instanceof Date&&(o=s.dateIndex(o)),r instanceof Date&&(r=s.dateIndex(r));let a=this.getSlot(o,r,i);if(a)return a.toRect()}getSlot(t,e,i){let s=t,o=e;return typeof s===es&&(s=this.categoryIndex(s)),typeof o===es&&(o=this.categoryIndex(o)),super.getSlot(s,o,i)}valueRange(){let t=this.options,e=th(t.srcCategories);return{min:ot(e.min),max:ot(e.max)}}categoryAt(t,e){return this.dataRange.dateAt(t,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(t){let e=this.pointCategoryIndex(t);return e===null?null:this.dataRange.dateAt(e)}totalIndex(t){return this.dataRange.totalIndex(t)}currentRangeIndices(){let t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalRange(){return this.dataRange.total()}totalRangeIndices(){let t=this.dataRange.total();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(this.options.roundToBaseUnit!==!1||this.isEmpty())return this.range();let t=this.options,e=th(t.srcCategories);return new Sa(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()}};v(ih,{type:ge,labels:{dateFormats:$c},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var _i=ih;function _f(n,t,e){if(!n&&!t)return 0;let i;if(n>=0&&t>=0){let s=n===t?0:n,o=(t-s)/t;if(e===!1||!e&&o>Jc)return 0;i=Math.max(0,s-(t-s)/2)}else i=n;return i}function Cf(n,t,e){if(!n&&!t)return 1;let i;if(n<=0&&t<=0){let s=n===t?0:t,o=Math.abs((s-n)/s);if(e===!1||!e&&o>Jc)return 0;i=Math.min(0,s-(n-s)/2)}else i=t;return i}function sh(n,t){return D(Math.floor(n/t)*t,10)}function Bo(n,t){return D(Math.ceil(n/t)*t,10)}function Vo(n){return Math.max(Math.min(n,3e5),-3e5)}var Sf=Math.pow(10,-9),oh=class n extends wi{constructor(t,e,i,s){super(Object.assign({},i,{seriesMin:t,seriesMax:e}),s)}initUserOptions(t){let e=dS(t.seriesMin,t.seriesMax,t);return this.totalOptions=pS(e,t),fS(e,t)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new n(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){let t=this.options;return{min:t.min,max:t.max}}getDivisions(t){if(t===0)return 1;let e=this.options,i=e.max-e.min;return Math.floor(D(i/t,3))+1}getTickPositions(t,e){let i=this.options,{axisDir:s,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo(),l=i.max-i.min,c=a/l,h=t*c,d=this.getDivisions(t),p=[],u=r[o],m=0;e&&(m=e/t);for(let g=0;g<d;g++)g%m!==0&&p.push(D(u,3)),u=u+h*s;return p}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i=!1){let s=this.options,{axis:o,axisDir:r,lineBox:a,lineSize:l,lineStart:c}=this.lineInfo(),h=r*(l/(s.max-s.min)),d=F(t,e||0),p=F(e,t||0);i&&(d=M(d,s.min,s.max),p=M(p,s.min,s.max));let u=Math.min(d,p)-s.min,m=Math.max(d,p)-s.min,g=new S(a.x1,a.y1,a.x1,a.y1);return g[o+1]=Vo(c+h*(r>0?u:m)),g[o+2]=Vo(c+h*(r>0?m:u)),g}getValue(t){let e=this.options,i=Number(e.max),s=Number(e.min),o=this.pointOffset(t),r=o*(i-s);if(o<0||o>1)return null;let a=s+r;return D(a,10)}translateRange(t){let e=this.options,{vertical:i,reverse:s,max:o,min:r}=e,{lineSize:a}=this.lineInfo(),l=o-r,c=a/l,h=D(t/c,10);return(i||s)&&!(i&&s)&&(h=-h),{min:r+h,max:o+h,offset:h}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){let s=this.options,o=D(s.min+t*s.majorUnit,10),r=this.axisLabelText(o,e,i);return new Ve(o,r,t,null,e)}shouldRenderNote(t){let e=this.range();return e.min<=t&&t<=e.max}pan(t){let e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){let i=this.getValue(t),s=this.getValue(e),o=Math.min(i,s),r=Math.max(i,s);if(this.isValidRange(o,r))return{min:o,max:r}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),s=this.options.max-this.options.min,o=this.scaleToDelta(t,s),r=i*o,a=(1-i)*o,l=D(this.options.min+r,10),c=D(this.options.max-a,10);return c-l<Sf&&(c=l+Sf),{min:l,max:c}}zoomRange(t,e){let{totalMin:i,totalMax:s}=this,o=this.scaleRange(t,e);return{min:M(o.min,i,s),max:M(o.max,i,s),narrowRange:!1}}isValidRange(t,e){return e-t>Sf}};function dS(n,t,e){let i=e.narrowRange,s=_f(n,t,i),o=Cf(n,t,i),r=Ye(s,o),a={majorUnit:r};return e.roundToMajorUnit!==!1&&(s<0&&jy(s,r,1/3)&&(s-=r),o>0&&jy(o,r,1/3)&&(o+=r)),a.min=sh(s,r),a.max=Bo(o,r),a}function pS(n,t){return{min:b(t.min)?Math.min(n.min,t.min):n.min,max:b(t.max)?Math.max(n.max,t.max):n.max,majorUnit:n.majorUnit}}function uS(n,t){for(let e=0;e<t.length;e++){let i=t[e];n[i]===null&&(n[i]=void 0)}}function fS(n,t){let e=t,i,s;if(t){uS(t,["min","max"]),i=b(t.min),s=b(t.max);let r=i||s;r&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(n.min=sh(n.min,t.majorUnit),n.max=Bo(n.max,t.majorUnit)):r&&(e=f(n,t),n.majorUnit=Ye(e.min,e.max))}n.minorUnit=(e.majorUnit||n.majorUnit)/5;let o=f(n,e);return o.min>=o.max&&(i&&!s?o.max=o.min+o.majorUnit:!i&&s&&(o.min=o.max-o.majorUnit)),o}function jy(n,t,e){let i=D(Math.abs(n%t),10),s=t*(1-e);return i===0||i>s}v(oh,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:J},labels:{format:"#.####################"},zIndex:1});var te=oh;var Uy=1e3,nh=class n extends wi{constructor(t,e,i,s){let o=ot(t),r=ot(e),a=s.intl,l=i||{};l=f(l||{},{min:Pt(a,l.min),max:Pt(a,l.max),axisCrossingValue:Bn(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:Vn(l,a)}),l=gS(o,r,l),super(l,s),this.intlService=a,this.seriesMin=o,this.seriesMax=r;let c=l.weekStartDay||0;this.totalMin=ht(No(ht(o)-1,l.baseUnit,c)),this.totalMax=ht(Ca(ht(r)+1,l.baseUnit,c))}clone(){return new n(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){let t=this.options;return{min:t.min,max:t.max}}getDivisions(t){let e=this.options;return Math.floor(Nn(e.min,e.max,e.baseUnit)/t+1)}getTickPositions(t){let e=this.options,{axisDir:i,lineSize:s,lineStart:o}=this.lineInfo(),r=this.getDivisions(t),a=ve(e.max,e.min),l=s/a,c=e.weekStartDay||0,h=[o];for(let d=1;d<r;d++){let p=Vt(e.min,d*t,e.baseUnit,c),u=o+ve(p,e.min)*l*i;h.push(D(u,3))}return h}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,i){return te.prototype.getSlot.call(this,Pt(this.intlService,t),Pt(this.intlService,e),i)}getValue(t){let e=te.prototype.getValue.call(this,t);return e!==null?ot(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,i){let s=this.options,o=t*s.majorUnit,r=s.weekStartDay||0,a=s.min;o>0&&(a=Vt(a,o,s.baseUnit,r));let l=e.dateFormats[s.baseUnit];e.format=e.format||l;let c=this.axisLabelText(a,e,i);return new Ve(a,c,t,null,e)}translateRange(t){let e=this.options,i=this.lineBox(),{vertical:s,reverse:o}=e,r=s?i.height():i.width(),a=this.range(),l=r/ve(a.max,a.min),c=D(t/l,10);(s||o)&&!(s&&o)&&(c=-c);let h=Bt(e.min,c),d=Bt(e.max,c);return{min:h,max:d,offset:c}}shouldRenderNote(t){let e=this.range();return zs(t,e.min)>=0&&zs(t,e.max)<=0}pan(t){let e=this.translateRange(t,!0),i=this.limitRange(ht(e.min),ht(e.max),this.totalMin,this.totalMax,e.offset);if(i)return{min:ot(i.min),max:ot(i.max)}}pointsRange(t,e){let i=this.getValue(t),s=this.getValue(e),o=Math.min(i,s),r=Math.max(i,s);return{min:ot(o),max:ot(r)}}scaleRange(t,e){let i=Math.abs(this.pointOffset(e)),s=this.options.max-this.options.min,o=this.scaleToDelta(t,s),r=i*o,a=(1-i)*o,l=ot(ht(this.options.min)+r),c=ot(ht(this.options.max)-a);return c-l<Uy&&(c=ot(ht(l)+Uy)),{min:l,max:c}}zoomRange(t,e){let i=this.scaleRange(t,e),s=ot(M(ht(i.min),this.totalMin,this.totalMax)),o=ot(M(ht(i.max),this.totalMin,this.totalMax));return{min:s,max:o}}};function mS(n){let t=Ns;return n>=31536e6?t=ze:n>=26784e5?t=li:n>=6048e5?t=hs:n>=864e5&&(t=Ie),t}function gS(n,t,e){let i=e.min||n,s=e.max||t,o=e.baseUnit||(s&&i?mS(Bs(s,i)):Ns),r=He[o],a=e.weekStartDay||0,l=No(ht(i)-1,o,a)||ot(s),c=Ca(ht(s)+1,o,a),d=(e.majorUnit?e.majorUnit:void 0)||Bo(Ye(l.getTime(),c.getTime()),r)/r,p=Nn(l,c,o),m=Bo(p,d)-p,g=Math.floor(m/2),w=m-g;return e.baseUnit||delete e.baseUnit,e.baseUnit=e.baseUnit||o,e.min=e.min||Vt(l,-g,o,a),e.max=e.max||Vt(c,w,o,a),e.minorUnit=e.minorUnit||d/5,e.majorUnit=d,e}v(nh,{type:ge,majorGridLines:{visible:!0,width:1,color:J},labels:{dateFormats:$c}});var Aa=nh;var Wy=10,Gy=1e-6,rh=class n extends wi{constructor(t,e,i,s){let o=f({majorUnit:Wy,min:t,max:e},i),r=o.majorUnit,a=yS(e,r),l=vS(t,e,o),c=xS(l,a,o,i);o.max=c.max,o.min=c.min,o.minorUnit=i.minorUnit||D(r-1,10),super(o,s),this.totalMin=b(i.min)?Math.min(l,i.min):l,this.totalMax=b(i.max)?Math.max(a,i.max):a,this.logMin=D(Ci(c.min,r),10),this.logMax=D(Ci(c.max,r),10),this.seriesMin=t,this.seriesMax=e,this.createLabels()}clone(){return new n(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(t,e,i){let{options:s,logMin:o,logMax:r}=this,{majorUnit:a,min:l,max:c}=s,{axis:h,axisDir:d,lineBox:p,lineSize:u,lineStart:m}=this.lineInfo(),g=d*(u/(r-o)),w=F(t,e||1),E=F(e,t||1);if(w<=0||E<=0)return null;i&&(w=M(w,l,c),E=M(E,l,c)),w=Ci(w,a),E=Ci(E,a);let I=Math.min(w,E)-o,G=Math.max(w,E)-o,$=new S(p.x1,p.y1,p.x1,p.y1);return $[h+1]=Vo(m+g*(d>0?I:G)),$[h+2]=Vo(m+g*(d>0?G:I)),$}getValue(t){let{options:e,logMin:i,logMax:s}=this,{majorUnit:o}=e,{axis:r,axisDir:a,lineStart:l,lineSize:c}=this.lineInfo(),h=(s-i)/c,d=a*(t[r]-l),p=d*h;if(d<0||d>c)return null;let u=i+p;return D(Math.pow(o,u),10)}range(){let t=this.options;return{min:t.min,max:t.max}}translateRange(t){let{options:e,logMin:i,logMax:s}=this,{reverse:o,vertical:r,majorUnit:a}=e,l=this.lineBox(),h=(r?l.height():l.width())/(s-i),d=D(t/h,10);return(r||o)&&!(r&&o)&&(d=-d),{min:Math.pow(a,i+d),max:Math.pow(a,s+d),offset:d}}labelsCount(){let t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1}getMajorTickPositions(){let t=[];return this.traverseMajorTicksPositions(e=>{t.push(e)},{step:1,skip:0}),t}createTicks(t){let e=this.options,{majorTicks:i,minorTicks:s,vertical:o}=e,r=e.labels.mirror,a=this.lineBox(),l=[],c={vertical:o};function h(d,p){c.tickX=r?a.x2:a.x2-p.size,c.tickY=r?a.y1-p.size:a.y1,c.position=d,t.append(ya(c,p))}return i.visible&&this.traverseMajorTicksPositions(h,i),s.visible&&this.traverseMinorTicksPositions(h,s),l}createGridLines(t){let e=this.options,{minorGridLines:i,majorGridLines:s,vertical:o}=e,r=t.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},l=[],c=this.gridLinesVisual();function h(d,p){z(d,l)||(a.position=d,c.append(ba(a,p)),l.push(d))}return s.visible&&this.traverseMajorTicksPositions(h,s),i.visible&&this.traverseMinorTicksPositions(h,i),c.children}traverseMajorTicksPositions(t,e){let{lineStart:i,step:s}=this.lineInfo(),{logMin:o,logMax:r}=this;for(let a=Math.ceil(o)+e.skip;a<=r;a+=e.step){let l=D(i+s*(a-o),10);t(l,e)}}traverseMinorTicksPositions(t,e){let{min:i,max:s,minorUnit:o,majorUnit:r}=this.options,{lineStart:a,step:l}=this.lineInfo(),{logMin:c,logMax:h}=this,d=Math.floor(c);for(let p=d;p<h;p++){let u=this._minorIntervalOptions(p);for(let m=e.skip;m<o;m+=e.step){let g=u.value+m*u.minorStep;if(g>s)break;if(g>=i){let w=D(a+l*(Ci(g,r)-c),10);t(w,e)}}}}createAxisLabel(t,e,i){let s=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,s),r=this.axisLabelText(o,e,i);return new Ve(o,r,t,null,e)}shouldRenderNote(t){let e=this.range();return e.min<=t&&t<=e.max}pan(t){let e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){let i=this.getValue(t),s=this.getValue(e),o=Math.min(i,s),r=Math.max(i,s);return{min:o,max:r}}scaleRange(t,e){let{majorUnit:i}=this.options,s=Ci(this.options.min,i),o=Ci(this.options.max,i),r=Math.abs(this.pointOffset(e)),a=o-s,l=this.scaleToDelta(t,a),c=Math.pow(i,s+r*l),h=Math.pow(i,o-(1-r)*l);return h-c<Gy&&(h=c+Gy),{min:c,max:h}}zoomRange(t,e){let i=this.scaleRange(t,e),{totalMin:s,totalMax:o}=this;return{min:M(i.min,s,o),max:M(i.max,s,o)}}_minorIntervalOptions(t){let{minorUnit:e,majorUnit:i}=this.options,s=Math.pow(i,t),a=(Math.pow(i,t+1)-s)/e;return{value:s,minorStep:a}}lineInfo(){let t=super.lineInfo();return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t}};function xS(n,t,e,i){let{min:s,max:o}=e;return b(e.axisCrossingValue)&&e.axisCrossingValue<=0&&Af(),b(i.max)?i.max<=0&&Af():o=t,b(i.min)?i.min<=0&&Af():s=n,{min:s,max:o}}function vS(n,t,e){let i=e.majorUnit,s=n;return n<=0?s=t<=1?Math.pow(i,-2):1:e.narrowRange||(s=Math.pow(i,Math.floor(Ci(n,i)))),s}function yS(n,t){let e=D(Ci(n,t),10)%1,i;return n<=0?i=t:e!==0&&(e<.3||e>.9)?i=Math.pow(t,Ci(n,t)+.2):i=Math.pow(t,Math.ceil(Ci(n,t))),i}function Af(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Ci(n,t){return Math.log(n)/Math.log(t)}v(rh,{type:"log",majorUnit:Wy,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:J},zIndex:1,_deferLabels:!0});var Hs=rh;var bS={createGridLines:function(n){let t=this.options,e=Math.abs(this.box.center().y-n.lineBox().y1),i=[],s=!1,o,r;return t.majorGridLines.visible&&(o=this.majorGridLineAngles(n),s=!0,i=this.renderMajorGridLines(o,e,t.majorGridLines)),t.minorGridLines.visible&&(r=this.minorGridLineAngles(n,s),Be(i,this.renderMinorGridLines(r,e,t.minorGridLines,n,s))),i},renderMajorGridLines:function(n,t,e){return this.renderGridLines(n,t,e)},renderMinorGridLines:function(n,t,e,i,s){let o=this.radiusCallback&&this.radiusCallback(t,i,s);return this.renderGridLines(n,t,e,o)},renderGridLines:function(n,t,e,i){let s={stroke:{width:e.width,color:e.color,dashType:e.dashType}},o=this.box.center(),r=new _.Circle([o.x,o.y],t),a=this.gridLinesVisual();for(let l=0;l<n.length;l++){let c=new x.Path(s);i&&(r.radius=i(n[l])),c.moveTo(r.center).lineTo(r.pointAt(n[l]+180)),a.append(c)}return a.children},gridLineAngles:function(n,t,e,i,s){let o=this.intervals(t,e,i,s),r=n.options,a=r.visible&&(r.line||{}).visible!==!1;return Pn(o,l=>{let c=this.intervalAngle(l);if(!a||c!==90)return c})}},ah=bS;var Ta=class extends ye{range(){return{min:0,max:this.options.categories.length}}reflow(t){this.box=t,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){let{labels:t,options:{labels:e}}=this,i=e.skip||0,s=e.step||1,o=new S;for(let r=0;r<t.length;r++){t[r].reflow(o);let a=t[r].box;t[r].reflow(this.getSlot(i+r*s).adjacentBox(0,a.width(),a.height()))}}intervals(t,e,i,s=!1){let o=this.options,a=o.categories.length/t||1,l=360/a,c=e||0,h=i||1,d=[],p=0;for(let u=c;u<a;u+=h)o.reverse?p=360-u*l:p=u*l,p=D(p,3)%360,s&&z(p,s)||d.push(p);return d}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(t){return(360+t+this.options.startAngle)%360}majorAngles(){return Pn(this.majorIntervals(),t=>this.intervalAngle(t))}createLine(){return[]}majorGridLineAngles(t){let e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)}minorGridLineAngles(t,e){let{minorGridLines:i,majorGridLines:s}=this.options,o=e?this.intervals(1,s.skip,s.step):null;return this.gridLineAngles(t,.5,i.skip,i.step,o)}radiusCallback(t,e,i){if(e.options.type!==ri){let s=kt(360/(this.options.categories.length*2)),o=Math.cos(s)*t,r=this.majorAngles();return function(l){return!i&&z(l,r)?t:o}}}createPlotBands(){let t=this.options.plotBands||[],e=this._plotbandGroup=new x.Group({zIndex:-1});for(let i=0;i<t.length;i++){let s=t[i],o=this.plotBandSlot(s),r=this.getSlot(s.from),a=s.from-Math.floor(s.from);o.startAngle+=a*r.angle;let l=Math.ceil(s.to)-s.to;o.angle-=(l+a)*r.angle;let c=ls.current.createRing(o,{fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}});e.append(c)}this.appendVisual(e)}plotBandSlot(t){return this.getSlot(t.from,t.to-1)}getSlot(t,e){let i=this.options,s=i.justified,o=this.box,r=this.majorAngles(),a=r.length,l=360/a,c=t;i.reverse&&!s&&(c=(c+1)%a),c=M(Math.floor(c),0,a-1);let h=r[c];s&&(h=h-l/2,h<0&&(h+=360));let p=M(Math.ceil(e||c),c,a-1)-c+1,u=l*p;return new Ni(o.center(),0,o.height()/2,h,u)}slot(t,e){let i=this.getSlot(t,e),s=i.startAngle+180,o=s+i.angle;return new _.Arc([i.center.x,i.center.y],{startAngle:s,endAngle:o,radiusX:i.radius,radiusY:i.radius})}pointCategoryIndex(t){let e=this.options.categories.length,i=null;for(let s=0;s<e;s++)if(this.getSlot(s).containsPoint(t)){i=s;break}return i}};v(Ta,{startAngle:90,labels:{margin:Z(10)},majorGridLines:{visible:!0},justified:!0});f(Ta.prototype,ah);var zn=Ta;var ka=class extends wi{constructor(t,e){super(t,e);let i=this.options;i.minorUnit=i.minorUnit||i.majorUnit/2}getDivisions(t){return te.prototype.getDivisions.call(this,t)-1}reflow(t){this.box=t,this.reflowLabels()}reflowLabels(){let{options:t,labels:e,options:{labels:i}}=this,s=i.skip||0,o=i.step||1,r=new S,a=this.intervals(t.majorUnit,s,o);for(let l=0;l<e.length;l++){e[l].reflow(r);let c=e[l].box;e[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}}lineBox(){return this.box}intervals(t,e,i,s=!1){let o=this.options.min,r=this.getDivisions(t),a=[],l=e||0,c=i||1;for(let h=l;h<r;h+=c){let d=(360+o+h*t)%360;s&&z(d,s)||a.push(d)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(t){return(540-t-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(t){let e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(t,e){let i=this.options,{minorGridLines:s,majorGridLines:o}=i,r=e?this.intervals(i.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,i.minorUnit,s.skip,s.step,r)}plotBandSlot(t){return this.getSlot(t.from,t.to)}getSlot(t,e){let{options:i,box:s}=this,o=i.startAngle,r=M(t,i.min,i.max),a=M(e||r,r,i.max);if(i.reverse&&(r*=-1,a*=-1),r=(540-r-o)%360,a=(540-a-o)%360,a<r){let l=r;r=a,a=l}return new Ni(s.center(),0,s.height()/2,r,a-r)}slot(t,e=t){let i=this.options,s=360-i.startAngle,o=this.getSlot(t,e),r=Math.min(t,e),a=Math.max(t,e),l,c;return i.reverse?(l=r,c=a):(l=360-a,c=360-r),l=(l+s)%360,c=(c+s)%360,new _.Arc([o.center.x,o.center.y],{startAngle:l,endAngle:c,radiusX:o.radius,radiusY:o.radius})}getValue(t){let e=this.options,i=this.box.center(),s=t.x-i.x,o=t.y-i.y,r=Math.round(ai(Math.atan2(o,s))),a=e.startAngle;return e.reverse||(r*=-1,a*=-1),(r+a+360)%360}valueRange(){return{min:0,max:Math.PI*2}}};v(ka,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:Z(10)},majorGridLines:{color:J,visible:!0,width:1},minorGridLines:{color:"#aaa"}});f(ka.prototype,ah,{createPlotBands:zn.prototype.createPlotBands,majorAngles:zn.prototype.majorAngles,range:te.prototype.range,labelsCount:te.prototype.labelsCount,createAxisLabel:te.prototype.createAxisLabel});var Tf=ka;var wS={options:{majorGridLines:{visible:!0}},createPlotBands:function(){let{majorGridLines:{type:n},plotBands:t=[]}=this.options,e=this.plotArea.polarAxis,i=e.majorAngles(),s=e.box.center(),o=this._plotbandGroup=new x.Group({zIndex:-1});for(let r=0;r<t.length;r++){let a=t[r],l={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},c=this.getSlot(a.from,a.to,!0),h=new Ni(s,s.y-c.y2,s.y-c.y1,0,360),d;n===ri?d=ls.current.createRing(h,l):d=x.Path.fromPoints(this.plotBandPoints(h,i),l).close(),o.append(d)}this.appendVisual(o)},plotBandPoints:function(n,t){let e=[],i=[],s=[n.center.x,n.center.y],o=new _.Circle(s,n.innerRadius),r=new _.Circle(s,n.radius);for(let a=0;a<t.length;a++)e.push(o.pointAt(t[a]+180)),i.push(r.pointAt(t[a]+180));return e.reverse(),e.push(e[0]),i.push(i[0]),i.concat(e)},createGridLines:function(n){let t=this.options,e=this.radarMajorGridLinePositions(),i=n.majorAngles(),s=n.box.center(),o=[];if(t.majorGridLines.visible&&(o=this.renderGridLines(s,e,i,t.majorGridLines)),t.minorGridLines.visible){let r=this.radarMinorGridLinePositions();Be(o,this.renderGridLines(s,r,i,t.minorGridLines))}return o},renderGridLines:function(n,t,e,i){let s={stroke:{width:i.width,color:i.color,dashType:i.dashType}},{skip:o=0,step:r=0}=i,a=this.gridLinesVisual();for(let l=o;l<t.length;l+=r){let c=n.y-t[l];if(c>0){let h=new _.Circle([n.x,n.y],c);if(i.type===ri)a.append(new x.Circle(h,s));else{let d=new x.Path(s);for(let p=0;p<e.length;p++)d.lineTo(h.pointAt(e[p]+180));d.close(),a.append(d)}}}return a.children},getValue:function(n){let t=this.lineBox(),e=this.plotArea.polarAxis,i=e.majorAngles(),s=e.box.center(),o=n.distanceTo(s),r=o;if(this.options.majorGridLines.type!==ri&&i.length>1){let a=n.x-s.x,l=n.y-s.y,c=(ai(Math.atan2(l,a))+540)%360;i.sort(function(m,g){return lh(m,c)-lh(g,c)});let h=lh(i[0],i[1])/2,d=lh(c,i[0]),p=90-h,u=180-d-p;r=o*(Math.sin(kt(u))/Math.sin(kt(p)))}return this.axisType().prototype.getValue.call(this,new N(t.x1,t.y2-r))}};function lh(n,t){return 180-Math.abs(Math.abs(n-t)-180)}var ch=wS;var hh=class extends te{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){let t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)}axisType(){return te}};f(hh.prototype,ch);var kf=hh;var dh=class extends Hs{radarMajorGridLinePositions(){let t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t}radarMinorGridLinePositions(){let t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t}axisType(){return Hs}};f(dh.prototype,ch);var Ef=dh;var Xy=.333,_S=.01,If=class extends R{constructor(t){super(),this.closed=t}process(t){let e=t.slice(0),i=[],s=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||o===2&&e[0].equals(e[1]))return i;let r=e[0],a=e[1],l=e[2];for(i.push(new _.Segment(r));r.equals(e[o-1]);)s=!0,e.pop(),o--;if(o===2){let p=this.tangent(r,a,P,L);return gt(i).controlOut(this.firstControlPoint(p,r,a,P,L)),i.push(new _.Segment(a,this.secondControlPoint(p,r,a,P,L))),i}let c,h;if(s){r=e[o-1],a=e[0],l=e[1];let p=this.controlPoints(r,a,l);c=p[1],h=p[0]}else{let p=this.tangent(r,a,P,L);c=this.firstControlPoint(p,r,a,P,L)}let d=c;for(let p=0;p<=o-3;p++)if(this.removeDuplicates(p,e),o=e.length,p+3<=o){r=e[p],a=e[p+1],l=e[p+2];let u=this.controlPoints(r,a,l);gt(i).controlOut(d),d=u[1];let m=u[0];i.push(new _.Segment(a,m))}if(s){r=e[o-2],a=e[o-1],l=e[0];let p=this.controlPoints(r,a,l);gt(i).controlOut(d),i.push(new _.Segment(a,p[0])),gt(i).controlOut(p[1]),i.push(new _.Segment(l,h))}else{let p=this.tangent(a,l,P,L);gt(i).controlOut(d),i.push(new _.Segment(l,this.secondControlPoint(p,a,l,P,L)))}return i}removeDuplicates(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)}invertAxis(t,e,i){let s=!1;if(t.x===e.x)s=!0;else if(e.x===i.x)(e.y<i.y&&t.y<=e.y||i.y<e.y&&e.y<=t.y)&&(s=!0);else{let o=this.lineFunction(t,e),r=this.calculateFunction(o,i.x);!(t.y<=e.y&&i.y<=r)&&!(e.y<=t.y&&i.y>=r)&&(s=!0)}return s}isLine(t,e,i){let s=this.lineFunction(t,e),o=this.calculateFunction(s,i.x);return t.x===e.x&&e.x===i.x||D(o,1)===D(i.y,1)}lineFunction(t,e){let i=(e.y-t.y)/(e.x-t.x);return[t.y-i*t.x,i]}controlPoints(t,e,i){let s=P,o=L,r=!1,a=!1,l;if(this.isLine(t,e,i))l=this.tangent(t,e,P,L);else{let d={x:this.isMonotonicByField(t,e,i,P),y:this.isMonotonicByField(t,e,i,L)};if(d.x&&d.y)l=this.tangent(t,i,P,L),r=!0;else if(this.invertAxis(t,e,i)&&(s=L,o=P),d[s])l=0;else{let p;i[o]<t[o]&&t[o]<=e[o]||t[o]<i[o]&&e[o]<=t[o]?p=Yy((i[o]-t[o])*(e[s]-t[s])):p=-Yy((i[s]-t[s])*(e[o]-t[o])),l=_S*p,a=!0}}let c=this.secondControlPoint(l,t,e,s,o);if(a){let d=s;s=o,o=d}let h=this.firstControlPoint(l,e,i,s,o);return r&&(this.restrictControlPoint(t,e,c,l),this.restrictControlPoint(e,i,h,l)),[c,h]}restrictControlPoint(t,e,i,s){t.y<e.y?e.y<i.y?(i.x=t.x+(e.y-t.y)/s,i.y=e.y):i.y<t.y&&(i.x=e.x-(e.y-t.y)/s,i.y=t.y):i.y<e.y?(i.x=t.x-(t.y-e.y)/s,i.y=e.y):t.y<i.y&&(i.x=e.x+(t.y-e.y)/s,i.y=t.y)}tangent(t,e,i,s){let o=e[i]-t[i],r=e[s]-t[s],a;return o===0?a=0:a=r/o,a}isMonotonicByField(t,e,i,s){return i[s]>e[s]&&e[s]>t[s]||i[s]<e[s]&&e[s]<t[s]}firstControlPoint(t,e,i,s,o){let r=e[s],l=(i[s]-r)*Xy;return this.point(r+l,e[o]+l*t,s,o)}secondControlPoint(t,e,i,s,o){let r=e[s],a=i[s],l=(a-r)*Xy;return this.point(a-l,i[o]-l*t,s,o)}point(t,e,i,s){let o=new _.Point;return o[i]=t,o[s]=e,o}calculateFunction(t,e){let i=t.length,s=0;for(let o=0;o<i;o++)s+=Math.pow(e,o)*t[o];return s}};function Yy(n){return n<=0?-1:1}var ps=If;var Df=class extends R{constructor(t){super(),this._axis=t,this.options=t.options}value(t){let e=this._axis;return e.getCategory?e.getCategory(t):e.getValue(t)}slot(t,e,i=!0){return this._axis.slot(t,e,i)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}},Rf=Df;function Hn(n,t){for(let e=0;e<t.length;e++)if(t[e].options.name===n)return t[e].prepareUserOptions(),new Rf(t[e])}var Pf=class{constructor(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}findAxisByName(t){return Hn(t,this._pane.axes)}},jn=Pf;var Lf=class extends R{constructor(t){super(),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}},Mf=Lf;function zo(n){let t=n.length,e=0;for(let i=0;i<t;i++){let s=n[i];Y(s)&&e++}return e}var Of={min:function(n){let t=n.length,e=rt;for(let i=0;i<t;i++){let s=n[i];Y(s)&&(e=Math.min(e,s))}return e===rt?n[0]:e},max:function(n){let t=n.length,e=dt;for(let i=0;i<t;i++){let s=n[i];Y(s)&&(e=Math.max(e,s))}return e===dt?n[0]:e},sum:function(n){let t=n.length,e=0;for(let i=0;i<t;i++){let s=n[i];Y(s)&&(e+=s)}return e},sumOrNull:function(n){let t=null;return zo(n)&&(t=Of.sum(n)),t},count:function(n){let t=n.length,e=0;for(let i=0;i<t;i++){let s=n[i];s!==null&&b(s)&&e++}return e},avg:function(n){let t=zo(n),e=n[0];return t>0&&(e=Of.sum(n)/t),e},first:function(n){let t=n.length;for(let e=0;e<t;e++){let i=n[e];if(i!==null&&b(i))return i}return n[0]}},Ff=Of;function ph(n,t){return t===null?t:xe(n,!0)(t)}var Ea=class extends R{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(t,e=[ce],i={}){for(let s=0;s<t.length;s++){let o=t[s];this._valueFields[o]=e,this._otherFields[o]=i,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}}canonicalFields(t){return this.valueFields(t).concat(this.otherFields(t))}valueFields(t){return this._valueFields[t.type]||[ce]}otherFields(t){return this._otherFields[t.type]||[ce]}bindPoint(t,e,i){let s=t.data,o=b(i)?i:s[e],r={valueFields:{value:o}},a=this.valueFields(t),l=this._otherFields[t.type],c,h;if(o===null)h=this._nullValue[t.type];else if(!b(o))h=this._undefinedValue[t.type];else if(Array.isArray(o)){let d=o.slice(a.length);h=this._bindFromArray(o,a),c=this._bindFromArray(d,l)}else if(typeof o=="object"){let d=this.sourceFields(t,a),p=this.sourceFields(t,l);h=this._bindFromObject(o,a,d),c=this._bindFromObject(o,l,p)}return b(h)&&(a.length===1?r.valueFields.value=h[a[0]]:r.valueFields=h),r.fields=c||{},r}_makeValue(t,e){let i={},s=t.length;for(let o=0;o<s;o++){let r=t[o];i[r]=e}return i}_bindFromArray(t,e){let i={};if(e){let s=Math.min(e.length,t.length);for(let o=0;o<s;o++)i[e[o]]=t[o]}return i}_bindFromObject(t,e,i=e){let s={};if(e){let o=e.length;for(let r=0;r<o;r++){let a=e[r],l=i[r];l!==null&&(s[a]=ph(l,t))}}return s}sourceFields(t,e){let i=[];if(e){let s=e.length;for(let o=0;o<s;o++){let r=e[o],a=r===ce?"field":r+"Field";i.push(t[a]!==null?t[a]||r:null)}}return i}};Ea.current=new Ea;var lt=Ea;var CS="stderr",SS="stddev",AS=/percent(?:\w*)\((\d+)\)/,TS=new RegExp("^"+SS+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Nf=class extends R{constructor(t,e,i){super(),this.initGlobalRanges(t,e,i)}initGlobalRanges(t,e,i){let s=e.data,o=TS.exec(t);if(o){this.valueGetter=this.createValueGetter(e,i);let r=this.getAverage(s),a=this.getStandardDeviation(s,r,!1),l=o[1]?parseFloat(o[1]):1,c={low:r.value-a*l,high:r.value+a*l};this.globalRange=function(){return c}}else if(t.indexOf&&t.indexOf(CS)>=0){this.valueGetter=this.createValueGetter(e,i);let r=this.getStandardError(s,this.getAverage(s));this.globalRange=function(a){return{low:a-r,high:a+r}}}}createValueGetter(t,e){let i=t.data,s=lt.current,o=s.valueFields(t),r=b(i[0])?i[0]:{},a;if(ft(r)){let l=e?o.indexOf(e):0;a=xe("["+l+"]")}else if(Y(r))a=xe();else if(typeof r===es){let l=s.sourceFields(t,o);a=xe(l[o.indexOf(e)])}return a}getErrorRange(t,e){let i,s,o;if(!b(e))return null;if(this.globalRange)return this.globalRange(t);if(ft(e))i=t-e[0],s=t+e[1];else if(Y(o=parseFloat(e)))i=t-o,s=t+o;else if(o=AS.exec(e)){let r=t*(parseFloat(o[1])/100);i=t-Math.abs(r),s=t+Math.abs(r)}else throw new Error("Invalid ErrorBar value: "+e);return{low:i,high:s}}getStandardError(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)}getStandardDeviation(t,e,i){let s=t.length,o=i?e.count-1:e.count,r=0;for(let a=0;a<s;a++){let l=this.valueGetter(t[a]);Y(l)&&(r+=Math.pow(l-e.value,2))}return Math.sqrt(r/o)}getAverage(t){let e=t.length,i=0,s=0;for(let o=0;o<e;o++){let r=this.valueGetter(t[o]);Y(r)&&(i+=r,s++)}return{value:i/s,count:s}}},Ia=Nf;var kS=bc.browser||{},Yt=600,be="fadeIn";var js=.8,de=5,Us=kS.msie?.001:0,uh="errorLow",fh="errorHigh",Zy="xErrorLow",qy="xErrorHigh",Qy="yErrorLow",Ky="yErrorHigh",Ho=8,pe="zero",zi="interpolate",Bf="gap",Un="above",Da="below";var ci="smooth",Gs="step",je="area",ae="bar",jo="boxPlot",Hi="bubble",Si="bullet",us="candlestick",De="column",Gn="donut",Ws="funnel",Xs="pyramid",Ra="heatmap",Ys="horizontalWaterfall",qe="line",fs="ohlc",Ue="pie",Pa="polarArea",Wn="polarLine",La="polarScatter",Zs="radarArea",Xn="radarColumn",ms="radarLine",qs="rangeArea",Qs="rangeBar",Uo="rangeColumn",Ma="scatter",Oa="scatterLine",gs="verticalArea",Ks="verticalBoxPlot",$s="verticalBullet",xs="verticalLine",vs="verticalRangeArea",Go="waterfall",mh=[ae,De,fs,us,jo,Ks,Si,Uo,Qs,Go,Ys],Fa="exponentialTrendline",Na="linearTrendline",Ba="logarithmicTrendline",Va="movingAverageTrendline",za="polynomialTrendline",Ha="powerTrendline",ys=[Fa,Na,Ba,Va,za,Ha],gh="legendItemClick",$y="legendItemHover",Jy="legendItemLeave",xh="seriesClick",vh="seriesHover",yh="seriesOver",bh="seriesLeave",t0="plotAreaClick",wh="plotAreaHover",_h="plotAreaLeave",Wo="drag",Xo="dragEnd",Ch="dragStart",Yn="zoomStart",Js="zoom",to="zoomEnd",ja="selectStart",Yo="select",Ua="selectEnd",e0="render",Sh="showTooltip",Ah="hideTooltip",i0="paneRender",we="graphics-symbol",_e="k-chart-point",Ce="Point",s0="checkbox",o0="k-chart-legend-item",n0="Legend item",Zo="log",Qe="category",qo="insideEnd",r0="insideBase",Ai="outsideEnd",Zn="wheel",Ga=150,a0=.3,l0="drilldown",ji="drilldown",Ke="pattern",qn=2;var c0=4,Th=class extends H{constructor(t,e,i,s,o,r){super(r),this.low=t,this.high=e,this.isVertical=i,this.chart=s,this.series=o}reflow(t){let e=this.options.endCaps,i=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),r=t.center(),a=this.getCapsWidth(t,i),l=i?r.x:r.y,c=l-a,h=l+a,d;i?(d=[new N(r.x,o.y1),new N(r.x,o.y2)],e&&d.push(new N(c,o.y1),new N(h,o.y1),new N(c,o.y2),new N(h,o.y2)),this.box=new S(c,o.y1,h,o.y2)):(d=[new N(o.x1,r.y),new N(o.x2,r.y)],e&&d.push(new N(o.x1,c),new N(o.x1,h),new N(o.x2,c),new N(o.x2,h)),this.box=new S(o.x1,c,o.x2,h)),this.linePoints=d}getCapsWidth(t,e){let i=e?t.width():t.height();return Math.min(Math.floor(i/2),c0)||c0}createVisual(){let t=this.options,e=t.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:()=>{this.createDefaultVisual();let i=this.visual;return delete this.visual,i}}):this.createDefaultVisual()}createDefaultVisual(){let{options:t,linePoints:e}=this,i={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};super.createVisual();for(let s=0;s<e.length;s+=2){let o=new x.Path(i).moveTo(e[s].x,e[s].y).lineTo(e[s+1].x,e[s+1].y);Ft(o),this.visual.append(o)}}};v(Th,{animation:{type:be,delay:Yt},endCaps:!0,line:{width:2},zIndex:1});var Wa=Th;var Vf=class extends Wa{getAxis(){return this.chart.seriesValueAxis(this.series)}},zf=Vf;function Qn(n){for(let t=0;t<n.length;t++)if(b(n[t].zIndex))return!0}function eo(n,t){t!==null&&n.push(t)}function Kn(n){return zo(n)===n.length}function kh(n,t,e){let i=t.visible;if(b(i))return i;let s=n.pointVisibility;if(s)return s[e]}function $n(n){let t=n.data,e=[],i=0,s=0;for(let o=0;o<t.length;o++){let r=lt.current.bindPoint(n,o),a=r.valueFields.value;Nt(a)&&(a=parseFloat(a)),Y(a)?(r.visible=kh(n,r.fields,o)!==!1,r.value=Math.abs(a),e.push(r),r.visible&&(i+=r.value),a!==0&&s++):e.push(null)}return{total:i,points:e,count:s}}function io(n){let t=n.length,e=0;for(let i=0;i<t;i++)e=Math.max(e,n[i].data.length);return e}function Re(n,t){return n&&t?n.toLowerCase()===t.toLowerCase():n===t}var ES=5;function Se(n,t,e={},i=!1){let s=e.defaults=e.defaults||{},o=e.depth=e.depth||0,r=!1;if(e.excluded=e.excluded||[],o>ES)return null;for(let a in n)if(!z(a,e.excluded)&&Os(n,a)){let l=n[a];K(l)?(r=!0,i||(n[a]=F(l(t),s[a]))):jt(l)&&(i||(e.defaults=s[a]),e.depth++,r=Se(l,t,e,i)||r,e.depth--)}return r}function pt(n,t){let e=[],i=[].concat(t);for(let s=0;s<n.length;s++){let o=n[s];z(o.type,i)&&e.push(o)}return e}var h0=new WeakMap;function Jn(n,t,e){if(t===null||typeof t!="object")return Pt(e,n);let i=h0.get(t);return i||(i=Pt(e,n),h0.set(t,i)),i}function so(n){let t=n.overlay;return t&&t.gradient&&t.gradient!=="none"}function Wt(n){return b(n)&&n!==null}function tr(n,t){let e=n.type,i=t instanceof Date;return!e&&i||Re(e,ge)}function Ti(n){return n.length===1?n[0]:n}var IS=/area/i;function DS(n){return n.missingValues?n.missingValues:IS.test(n.type)||n.stack?pe:zi}function Hf(n,t){let i=lt.current.bindPoint(n,null,t).valueFields;for(let s in i)if(In(i[s]))return!0}function d0({start:n,dir:t,min:e,max:i,getter:s,hasItem:o,series:r}){let a,l,c=n;do c+=t,o(c)&&(l=s(c),a=Hf(r,l.item));while(e<=c&&c<=i&&!a);if(a)return l}function Xa(n,t,e,i,s){let{min:o,max:r}=t,a=o>0&&o<e,l=r+1<e;if(a||l){let c=DS(n),h,d;if(c!==zi)a&&(h=i(o-1)),l&&(d=i(r+1));else{let p,u;a&&(p=i(o-1),u=Hf(n,p.item),u?h=p:h=d0({start:o,dir:-1,min:0,max:e-1,getter:i,hasItem:s,series:n})),l&&(p=i(r+1),u=Hf(n,p.item),u?d=p:d=d0({start:r,dir:1,min:0,max:e-1,getter:i,hasItem:s,series:n}))}h&&(n._outOfRangeMinPoint=h),d&&(n._outOfRangeMaxPoint=d)}}var Eh=class extends H{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=f({},s,{vertical:!this.options.invertAxes},t)}return i}plotValue(t){if(!t)return 0;if(this.options.isStacked100&&Y(t.value)){let e=t.categoryIx,i=this.categoryPoints[e],s=[],o=0;for(let r=0;r<i.length;r++){let a=i[r];if(a){let l=t.series.stack,c=a.series.stack;if(l&&c&&l.group!==c.group)continue;Y(a.value)&&(o+=Math.abs(a.value),s.push(Math.abs(a.value)))}}if(o>0)return t.value/o}return t.value}plotRange(t,e=0){let i=this.categoryPoints[t.categoryIx];if(this.options.isStacked){let a=this.plotValue(t),l=a>=0,c=e,h=!1,d=b(t.series.stack)?t.series.stack:this.options.defaultStack,p=u=>u===!0||typeof u===es&&!u.group;if(d)for(let u=0;u<i.length;u++){let m=i[u];if(t===m)break;let g=b(m.series.stack)?m.series.stack:this.options.defaultStack;if(!g||typeof d===En&&d!==g||p(d)&&!p(g)||d.group&&d.group!==g.group)continue;let w=this.plotValue(m);(w>=0&&l||w<0&&!l)&&(e===0||w!==0)&&(c+=w,a+=w,h=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return h&&(c-=e),[c,a]}let s=t.series,o=this.seriesValueAxis(s),r=this.categoryAxisCrossingValue(o);return[r,In(t.value)?t.value:r]}stackLimits(t,e){let i=rt,s=dt;for(let o=0;o<this.categoryPoints.length;o++){let r=this.categoryPoints[o];if(r)for(let a=0;a<r.length;a++){let l=r[a];if(l&&(l.series.stack===e||l.series.axis===t)){let c=this.plotRange(l,0)[1];b(c)&&isFinite(c)&&(s=Math.max(s,c),i=Math.min(i,c))}}}return{min:i,max:s}}updateStackRange(){let{isStacked:t,series:e}=this.options,i={};if(t)for(let s=0;s<e.length;s++){let o=e[s],r=o.axis,a=r+o.stack,l=i[a];if(!l){l=this.stackLimits(r,o.stack);let c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,Lo(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,Lo(c.positive).max))),l.min!==rt||l.max!==dt?i[a]=l:l=null}l&&(this.valueAxisRanges[r]=l)}}addErrorBar(t,e,i){let{value:s,series:o,seriesIx:r}=t,a=t.options.errorBars,l=e.fields[uh],c=e.fields[fh],h;Y(l)&&Y(c)?h={low:l,high:c}:a&&b(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new Ia(a.value,o,ce),h=this.seriesErrorRanges[r].getErrorRange(s,a.value)),h&&(t.low=h.low,t.high=h.high,this.addPointErrorBar(t,i))}addPointErrorBar(t,e){let i=!this.options.invertAxes,s=t.options.errorBars,{series:o,low:r,high:a}=t;if(this.options.isStacked){let c=this.stackedErrorRange(t,e);r=c.low,a=c.high}else{let c={categoryIx:e,series:o};this.updateRange({value:r},c),this.updateRange({value:a},c)}let l=new zf(r,a,i,this,o,s);t.errorBars=[l],t.append(l)}stackedErrorRange(t,e){let i=this.plotRange(t,0)[1]-t.value,s=t.low+i,o=t.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},s<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,s)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:s,high:o}}addValue(t,e){let{categoryIx:i,series:s,seriesIx:o}=e,r=this.categoryPoints[i];r||(this.categoryPoints[i]=r=[]);let a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);let l=this.createPoint(t,e);l&&(Object.assign(l,e),l.owner=this,l.noteText=t.fields.noteText,b(l.dataItem)||(l.dataItem=s.data[i]),this.addErrorBar(l,t,i)),this.points.push(l),a.push(l),r.push(l),this.updateRange(t.valueFields,e)}evalPointOptions(t,e,i){let s=i.categoryIx,o=i.category,r=i.series,a=i.seriesIx,l={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},c=this._evalSeries[a];b(c)||(this._evalSeries[a]=c=Se(t,{},l,!0));let h=t;return c&&(h=f({},h),Se(h,{value:e,category:o,index:s,series:r,dataItem:r.data[s]},l)),h}updateRange(t,e){let i=e.series.axis,s=t.value,o=this.valueAxisRanges[i];isFinite(s)&&s!==null&&(o=this.valueAxisRanges[i]=o||{min:rt,max:dt},o.min=Math.min(o.min,s),o.max=Math.max(o.max,s))}seriesValueAxis(t){let e=this.plotArea,i=t.axis,s=i?e.namedValueAxes[i]:e.valueAxis;if(!s)throw new Error("Unable to locate value axis with name "+i);return s}reflow(t){let e=this.categorySlots=[],i=this.points,s=this.categoryAxis,o=0;this.traverseDataPoints((r,a)=>{let{categoryIx:l,series:c}=a,h=this.seriesValueAxis(c),d=i[o++],p=e[l];if(p||(e[l]=p=this.categorySlot(s,l,h)),d){let u=this.plotRange(d,h.startValue()),m=this.valueSlot(h,u);if(m){let g=this.pointSlot(p,m);d.aboveAxis=this.aboveAxis(d,h),d.stackValue=u[1],this.options.isStacked100&&(d.percentage=this.plotValue(d)),this.reflowPoint(d,g)}else d.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t}valueSlot(t,e){return t.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){let t=this.categoryPoints,e=t[0].concat(gt(t));for(let i=0;i<e.length;i++)e[i]&&this.limitPoint(e[i])}limitPoint(t){let e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)}aboveAxis(t,e){let i=this.categoryAxisCrossingValue(e),s=t.value;return e.options.reverse?s<i:s>=i}categoryAxisCrossingValue(t){let e=this.categoryAxis,i=t.options;return[].concat(i.axisCrossingValues||i.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(t,e){t.reflow(e)}reflowCategories(){}pointSlot(t,e){let s=this.options.invertAxes,o=s?e:t,r=s?t:e;return new S(o.x1,r.y1,o.x2,r.y2)}categorySlot(t,e){return t.getSlot(e)}traverseDataPoints(t){let e=this.options.series,i=io(e),s=e.length;for(let o=0;o<s;o++)this._outOfRangeCallback(e[o],"_outOfRangeMinPoint",o,t);for(let o=0;o<i;o++)for(let r=0;r<s;r++){let a=e[r],l=this.categoryAxis.categoryAt(o),c=this.plotArea.bindPoint(a,o);t(c,{category:l,categoryIx:o,categoriesCount:i,series:a,seriesIx:r})}for(let o=0;o<s;o++)this._outOfRangeCallback(e[o],"_outOfRangeMaxPoint",o,t)}_outOfRangeCallback(t,e,i,s){let o=t[e];if(o){let r=o.categoryIx,a=this.plotArea.bindPoint(t,r,o.item);s(a,{category:o.category,categoryIx:r,series:t,seriesIx:i,dataItem:o.item})}}formatPointValue(t,e){return t.value===null?"":this.chartService.format.auto(e,t.value)}pointValue(t){return t.valueFields.value}};v(Eh,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var Pe=Eh;var RS={click:function(n,t){return n.trigger(xh,this.eventArgs(t))},hover:function(n,t){return n.trigger(vh,this.eventArgs(t))},over:function(n,t){return n.trigger(yh,this.eventArgs(t))},out:function(n,t){return n.trigger(bh,this.eventArgs(t))},eventArgs:function(n){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Qt(n),originalEvent:n,point:this}}},Xt=RS;var PS={createNote:function(){let n=this.options.notes,t=this.noteText||n.label.text;n.visible!==!1&&b(t)&&t!==null&&(this.note=new ga({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},hi=PS;var er=class extends H{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=F(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=yi()}render(){let{markers:t}=this.options;this._rendered||(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new It(this.getLabelText(t),f({align:B,vAlign:B,margin:{left:5,right:5},zIndex:F(t.zIndex,this.series.zIndex)},t),this.pointData())}getLabelText(t){let e=mt(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value}getAriaLabelText(){let t=this.options.labels,e=Dn(t);return e?e(this.pointData()):this.getLabelText(t)}markerBorder(){let t=this.options.markers,e=t.background,i=f({color:this.color},t.border);return b(i.color)||(i.color=new re(e).brightness(js).toHex()),i}createVisual(){}createMarker(){let t=this.options.markers;return new Lt({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:t.opacity,pattern:this.options.pattern,zIndex:F(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual,accessibilityOptions:f({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(t){let{options:e,aboveAxis:i}=this,s=e.vertical;this.render(),this.box=t;let o=t.clone();if(s?i?o.y1-=o.height():o.y2+=o.height():i?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){let r=this.markerBox();if(!(e.markers.visible&&e.markers.size)){let a=r.center();r=new S(a.x,a.y,a.x,a.y)}this.note.reflow(r)}}reflowLabel(t){let{options:e,label:i}=this,s=e.labels.position;i&&(s=s===Un?U:s,s=s===Da?X:s,i.reflow(t),i.box.alignTo(this.markerBox(),s),i.reflow(i.box))}createHighlight(){let t=this.options.highlight.markers,e=this.markerBorder().color,i=this.options.markers,s=i.size+(i.border.width||0)+(t.border.width||0),o=new Lt({type:i.type,width:s,height:s,rotation:i.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:F(t.border.opacity,1)},opacity:F(t.opacity,1)});return o.reflow(this._childBox),o.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){let t=this.marker,e,i;if(t)i=t.paddingBox.toRect(),e=t.visual;else{let s=this.options.markers.size,o=s/2,r=this.box.center();i=new _.Rect([r.x-o,r.y-o],[s,s])}return{options:this.options,rect:i,visual:e}}createFocusHighlight(){let t=this.options.markers,e=this.options.focusHighlight,i=t.size+(t.border.width||0),s=new Lt({type:t.type,width:i,height:i,rotation:t.rotation,background:e.color,border:e.border,opacity:e.opacity,padding:e.border.width/2,zIndex:e.zIndex});return s.reflow(this._childBox),s.getElement()}tooltipAnchor(){let t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){let s=t.x2+de,o=V,r,a;return this.aboveAxis?(r=t.y1,a=X):(r=t.y2,a=U),{point:new N(s,r),align:{horizontal:o,vertical:a}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.markerBox().overlaps(t)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}focusVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))}clearFocusFromVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))}getIndex(){return b(this.categoryIx)?this.categoryIx:this.pointIx}};er.prototype.defaults={vertical:!0,markers:{visible:!0,background:q,size:Ho,type:Ot,border:{width:2},opacity:1},labels:{visible:!1,position:Un,margin:Z(3),padding:Z(4),animation:{type:be,delay:Yt}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:we,className:_e,ariaRoleDescription:Ce}};f(er.prototype,Xt);f(er.prototype,hi);var $e=er;var Ih=class extends H{constructor(t,e,i){super(),this.linePoints=t,this.series=e,this.seriesIx=i}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(t){let e=[];for(let i=0,s=t.length;i<s;i++)t[i]&&t[i].visible!==!1&&e.push(t[i]._childBox.toRect().center());return e}createVisual(){let t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!b(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){let{options:t,series:e}=this,{color:i,_defaults:s}=e;K(i)&&s&&(i=s.color);let o=x.Path.fromPoints(this.points(),{stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o}aliasFor(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}};v(Ih,{closed:!1});var Je=Ih;var LS={calculateStepPoints:function(n){let t=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:e,vertical:i,reverse:s}=t.options,o=i?P:L,r=i?L:P,a=s?2:1,l=a,c=Uf(n[0],o,a,r,l),h=[c];for(let d=1;d<n.length;d++){let p=Uf(n[d],o,a,r,l);if(c[o]!==p[o]){let u=new _.Point;u[o]=c[o],u[r]=p[r],h.push(u,p)}c=p}return e?c!==gt(h)&&h.push(c):h.push(Uf(gt(n),o,a,r,s?1:2)),h}};function Uf(n,t,e,i,s){let o=n.box,r=new _.Point;return r[t]=o[t+e],r[i]=o[i+s],r}var ir=LS;var Dh=class extends Je{points(){return this.calculateStepPoints(this.linePoints)}};f(Dh.prototype,ir);var p0=Dh;var Gf=class extends Je{segmentVisual(){let t=this.series,e=t._defaults,i=t.color;K(i)&&e&&(i=e.color);let o=new ps(this.options.closed).process(this.points()),r=new x.Path({stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}},Qo=Gf;var MS={renderSegments:function(){let{options:n,seriesPoints:t}=this,e=n.series,i=t.length,s;this._segments=[];for(let o=0;o<i;o++){let r=e[o],a=this.sortPoints(t[o]),l=a.length,c=[];for(let h=0;h<l;h++){let d=a[h];d?c.push(d):this.seriesMissingValues(r)!==zi&&(c.length>1&&(s=this.createSegment(c,r,o,s),this._addSegment(s)),c=[])}c.length>1&&(s=this.createSegment(c,r,o,s),this._addSegment(s))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(n){this._segments.push(n),n.parent=this},sortPoints:function(n){return n},seriesMissingValues:function(n){let t=n.missingValues;return!t&&this.options.isStacked?pe:t||zi},getNearestPoint:function(n,t,e){let i=new N(n,t),s=this.seriesPoints[e],o=rt,r;for(let a=0;a<s.length;a++){let l=s[a];if(l&&b(l.value)&&l.value!==null&&l.visible!==!1){let h=l.box.center().distanceTo(i);h<o&&(r=l,o=h)}}return r}},sr=MS;var Ya=class extends x.Animation{setup(){this._setEnd(this.options.box.x1)}step(t){let e=this.options.box;this._setEnd(qt(e.x1,e.x2,t))}_setEnd(t){let e=this.element,i=e.segments,s=i[1].anchor(),o=i[2].anchor();e.suspend(),s.setX(t),e.resume(),o.setX(t)}};v(Ya,{duration:Yt});x.AnimationFactory.current.register("clip",Ya);var Wf=Ya;var OS={createAnimation:function(){let n=this.getRoot();if(n&&(n.options||{}).transitions!==!1){let t=n.size(),e=x.Path.fromRect(t.toRect());this.visual.clip(e),this.animation=new Wf(e,{box:t}),Qn(this.options.series)&&this._setChildrenAnimation(e)}},_setChildrenAnimation:function(n){let t=this.animationPoints();for(let e=0;e<t.length;e++){let i=t[e];i&&i.visual&&b(i.visual.options.zIndex)&&i.visual.clip(n)}}},oo=OS;var Rh=class extends Pe{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return $e}createPoint(t,e){let{series:i,seriesIx:s}=e,o=this.seriesMissingValues(i),r=t.valueFields.value;if(!b(r)||r===null)if(o===pe)r=0;else return null;let a=this.pointOptions(i,s);a=this.evalPointOptions(a,r,e);let l=t.fields.color||i.color;K(i.color)&&(l=a.color);let c=new $e(r,a);return c.color=l,this.append(c),c}plotRange(t){let e=this.plotValue(t);if(this.options.isStacked){let i=t.categoryIx,s=this.categoryPoints[i];for(let o=0;o<s.length;o++){let r=s[o];if(t===r)break;e+=this.plotValue(r),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(t,e,i){let s=e.style,o;return s===Gs?o=p0:s===ci?o=Qo:o=Je,new o(t,e,i)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}};f(Rh.prototype,sr,oo);var Ko=Rh;var Xf=class extends Je{constructor(t,e,i,s,o){super(t,e,i),this.prevSegment=s,this.stackPoints=o}createVisual(){let t=this.series,e=t._defaults,i=t.line||{},s=t.color;K(s)&&e&&(s=e.color),this.visual=new x.Group({zIndex:t.zIndex}),this.createFill({fill:he(t.pattern,{color:s,opacity:t.opacity}),stroke:null}),i.width>0&&i.visible!==!1&&this.createStroke({stroke:f({color:s,opacity:t.opacity,lineCap:"butt"},i)})}strokeSegments(){let t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()}segmentsFromPoints(t){return t.map(e=>new _.Segment(e))}createStroke(t){let e=new x.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(t){let e=this.strokeSegments(),i=e.slice(0),s=this.hasStackSegment();if(s){let r=this.stackSegments();Be(i,r)}let o=new x.Path(t);o.segments.push.apply(o.segments,i),!s&&e.length>1&&this.fillToAxes(o),this.visual.append(o)}fillToAxes(t){let e=this.parent,i=e.options.invertAxes,s=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(s),r=s.getSlot(o,o,!0),a=this.strokeSegments(),l=a[0].anchor(),c=gt(a).anchor(),h=i?r.x1:r.y1;i?t.lineTo(h,c.y).lineTo(h,l.y):t.lineTo(c.x,h).lineTo(l.x,h)}},ti=Xf;var Ph=class extends ti{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()}};f(Ph.prototype,ir);var u0=Ph;var Yf=class extends ti{createStrokeSegments(){let t=new ps(this.options.closed),e=this.points();return t.process(e)}createStackSegments(){let t=this.strokeSegments(),e=[];for(let i=t.length-1;i>=0;i--){let s=t[i];e.push(new _.Segment(s.anchor(),s.controlOut(),s.controlIn()))}return e}},$o=Yf;var Zf=class extends Ko{createSegment(t,e,i,s){let o=this.options.isStacked,r=(e.line||{}).style,a,l;o&&i>0&&s&&(this.seriesMissingValues(e)!=="gap"?(l=s.linePoints,a=s):l=this._gapStackPoints(t,i,r));let c;return r===Gs?c=u0:r===ci?c=$o:c=ti,new c(t,e,i,a,l)}reflow(t){super.reflow(t);let e=this._stackPoints;if(e)for(let i=0;i<e.length;i++){let s=e[i],o=this.categoryAxis.getSlot(s.categoryIx);s.reflow(o)}}_gapStackPoints(t,e,i){let s=this.seriesPoints,o=t[0].categoryIx,r=t.length;o<0&&(o=0,r--);let a=o+r,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(let h=o;h<a;h++){let d=h+l,p=e,u;do p--,u=s[p][d];while(p>0&&!u);if(u)i!==Gs&&h>o&&!s[p][d-1]&&c.push(this._previousSegmentPoint(h,d,d-1,p)),c.push(u),i!==Gs&&h+1<a&&!s[p][d+1]&&c.push(this._previousSegmentPoint(h,d,d+1,p));else{let m=this._createGapStackPoint(h);this._stackPoints.push(m),c.push(m)}}return c}_previousSegmentPoint(t,e,i,s){let o=this.seriesPoints,r=s,a;for(;r>0&&!a;)r--,a=o[r][i];return a?a=o[r][e]:(a=this._createGapStackPoint(t),this._stackPoints.push(a)),a}_createGapStackPoint(t){let e=this.pointOptions({},0),i=new $e(0,e);return i.categoryIx=t,i.series={},i}seriesMissingValues(t){return t.missingValues||pe}supportsPointInactiveOpacity(){return!1}},qf=Zf;var Qf=class extends R{constructor(){super(),this.axisRanges={}}update(t){let e=this.axisRanges;for(let i in t){let s=t[i],o=e[i];e[i]=o=o||{min:rt,max:dt},o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max)}}reset(t){this.axisRanges[t]=void 0}query(t){return this.axisRanges[t]}},no=Qf;var Lh=class extends H{constructor(t,e,i){super(e),this.textBox=new It(t,this.options,i),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(t){let e=this.options,{vertical:i,aboveAxis:s}=e,o=this.children[0],r=o.options,a=o.box,l=o.options.padding,c=t;if(r.align=i?B:V,r.vAlign=i?U:B,e.position===qo)i?(r.vAlign=U,!s&&a.height()<t.height()&&(r.vAlign=X)):r.align=s?Q:V;else if(e.position===B)r.vAlign=B,r.align=B;else if(e.position===r0)i?r.vAlign=s?X:U:r.align=s?V:Q;else if(e.position===Ai)if(i)if(s){let h=(a.width()-t.width()-l.left-l.right)/2;c=new S(t.x1-h,t.y1-a.height(),t.x2+h,t.y1)}else c=new S(t.x1,t.y2,t.x2,t.y2+a.height());else r.align=B,s?c=new S(t.x2,t.y1,t.x2+a.width(),t.y2):c=new S(t.x1-a.width(),t.y1,t.x1,t.y2);e.rotation||(i?l.left=l.right=(c.width()-o.contentBox.width())/2:l.top=l.bottom=(c.height()-o.contentBox.height())/2),o.reflow(c)}alignToClipBox(t){let i=this.options.vertical?L:P,s=i+"1",o=i+"2",r=this.children[0],a=this.parent.box;if(a[s]<t[s]||t[o]<a[o]){let l=r.paddingBox.clone();l[s]=Math.max(a[s],t[s]),l[o]=Math.min(a[o],t[o]),this.reflow(l)}}};v(Lh,{position:Ai,margin:Z(3),padding:Z(4),color:J,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:be,delay:Yt},zIndex:2});var Za=Lh;var FS={addAccessibilityAttributesToVisual:function(){this._id=this._id||yi();let n=f({ariaLabel:this.getAriaLabelText()},this.options.accessibility);Mo(this.visual,n)},getAriaLabelText(){let n=this.options.labels,t=Dn(n);return t?t(this.pointData()):this.getLabelText(n)},focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}},di=FS;var NS=6,Jo=class extends H{constructor(t,e){super(),this.options=e,this.color=e.color||q,this.aboveAxis=F(this.options.aboveAxis,!0),this.value=t}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new Za(this.getLabelText(t),f({vertical:this.options.vertical},t),this.pointData())}getLabelText(t){let e=mt(t);return e?e(this.pointData()):this.formatValue(t.format)}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();let e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(let i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(t)}createVisual(){let{box:t,options:e}=this,i=e.visual;if(this.visible!==!1)if(super.createVisual(),this.addAccessibilityAttributesToVisual(),i){let s=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:()=>{let o=new x.Group;return this.createRect(o),o},options:e});s&&this.visual.append(s)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)}createRect(t){let e=this.options,i=e.border,s=b(i.opacity)?i.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);let r=this.rectVisual=x.Path.fromRect(o,{fill:he(e.pattern,{color:this.color,opacity:e.opacity}),stroke:{color:this.getBorderColor(),width:i.width,opacity:s,dashType:i.dashType}}),a=this.box.width(),l=this.box.height();if((e.vertical?a:l)>NS&&(Ft(r),(a<1||l<1)&&(r.options.stroke.lineJoin="round")),t.append(r),so(e)){let h=this.createGradientOverlay(r,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay));t.append(h)}}createHighlight(t){let e=x.Path.fromRect(this.box.toRect(),t);return Ft(e)}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(t){let e=this.options.focusHighlight.border.width,i=x.Path.fromRect(this.box.pad(e/2).toRect(),t);return Ft(i)}getBorderColor(){let t=this.color,e=this.options.border,i=e._brightness||js,s=e.color;return b(s)||(s=new re(t).brightness(i).toHex()),s}tooltipAnchor(){let{options:t,box:e,aboveAxis:i}=this,s=this.owner.pane.clipBox()||e,o=V,r=U,a,l;if(t.vertical)a=Math.min(e.x2,s.x2)+de,i?l=Math.max(e.y1,s.y1):(l=Math.min(e.y2,s.y2),r=X);else{let c=Math.max(e.x1,s.x1),h=Math.min(e.x2,s.x2);t.isStacked?(r=X,i?(o=Q,a=h):a=c,l=Math.max(e.y1,s.y1)-de):(i?a=h+de:(a=c-de,o=Q),l=Math.max(e.y1,s.y1))}return{point:new N(a,l),align:{horizontal:o,vertical:r}}}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}getIndex(){return this.categoryIx}};f(Jo.prototype,Xt);f(Jo.prototype,hi);f(Jo.prototype,di);Jo.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}};var Ui=Jo;function Mh(n,t){n.forEach(t)}function Oh(n,t){let e=n.length;for(let i=e-1;i>=0;i--)t(n[i],i-e-1)}var Fh=class extends H{constructor(t){super(t),this.forEach=t.rtl?Oh:Mh}reflow(t){let{vertical:e,gap:i,spacing:s}=this.options,o=this.children,r=o.length,a=e?L:P,l=r+i+s*(r-1),c=(e?t.height():t.width())/l,h=t[a+1]+c*(i/2);this.forEach(o,(d,p)=>{let u=(d.box||t).clone();u[a+1]=h,u[a+2]=h+c,d.reflow(u),p<r-1&&(h+=c*s),h+=c})}};v(Fh,{vertical:!1,gap:0,spacing:0});var bs=Fh;var Nh=class extends H{reflow(t){let e=this.options.vertical?P:L,i=this.children,s=i.length,o=this.box=new S;for(let r=0;r<s;r++){let a=i[r];if(a.visible!==!1){let l=a.box.clone();l.snapTo(t,e),r===0&&(o=this.box=l.clone()),a.reflow(l),o.wrap(l)}}}};v(Nh,{vertical:!0});var Kf=Nh;var Bh=class extends Pe{render(){super.render(),this.updateStackRange()}pointType(){return Ui}clusterType(){return bs}stackType(){return Kf}stackLimits(t,e){return super.stackLimits(t,e)}createPoint(t,e){let{categoryIx:i,series:s,seriesIx:o}=e,{options:r,children:a}=this,l=b(s.stack)?s.stack:r.defaultStack,c=this.pointValue(t),h=this.pointOptions(s,o),d=h.labels;l&&d.position===Ai&&(d.position=qo),h.isStacked=l;let p=t.fields.color||s.color;c<0&&h.negativeColor&&(p=h.negativeColor),h=this.evalPointOptions(h,c,e),K(s.color)&&(p=h.color);let u=this.pointType(),m=new u(c,h);m.color=p;let g=a[i];if(!g){let w=this.clusterType();g=new w({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(g)}return r.isStacked?this.getStackWrap(l,g).append(m):g.append(m),m}getStackWrap(t,e){let i=typeof t===es?t.group||!0:t,s=e.children,o;if(typeof i===En||i===!0){for(let r=0;r<s.length;r++)if(s[r]._stackGroup===i){o=s[r];break}}if(!o){let r=this.stackType();o=new r({vertical:!this.options.invertAxes}),o._stackGroup=i,e.append(o)}return o}categorySlot(t,e,i){let s=this.options,o=t.getSlot(e),r=i.startValue();if(s.isStacked){let a=i.getSlot(r,r,!0),l=s.invertAxes?P:L;o[l+1]=o[l+2]=a[l+1]}return o}reflowCategories(t){let e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),Qn(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){let t=this.points;for(let e=0;e<t.length;e++){let i=t[e],s=i.visual;s&&b(s.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}}_setAnimationOptions(){let t=this.options,e=t.animation||{},i;if(t.isStacked){let s=this.seriesValueAxis(t.series[0]);i=s.getSlot(s.startValue())}else i=this.categoryAxis.getSlot(0);e.origin=new _.Point(i.x1,i.y1),e.vertical=!t.invertAxes}};v(Bh,{animation:{type:ae}});var ki=Bh;var ro=class extends H{constructor(t,e){super(e),this.value=t}getLabelText(t){return this.formatValue(t.format)}reflow(t){let{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e),r=o.getSlot(i.open,i.close),a=o.getSlot(i.low,i.high);r.x1=a.x1=t.x1,r.x2=a.x2=t.x2,this.realBody=r;let l=a.center().x,c=[];c.push([[l,a.y1],[l,r.y1]]),c.push([[l,r.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(t){let e=new x.Group;return this.createBody(e,t),this.createLines(e,t),e}createBody(t,e){let i=x.Path.fromRect(this.realBody.toRect(),{fill:he(e.pattern,{color:this.color,opacity:e.opacity}),stroke:null});e.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:F(e.border.opacity,e.opacity)}),Ft(i),t.append(i),so(e)&&t.append(this.createGradientOverlay(i,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(t,e){this.drawLines(t,e,this.lines,e.line)}drawLines(t,e,i,s){if(!i)return;let o={stroke:{color:s.color||this.color,opacity:F(s.opacity,e.opacity),width:s.width,dashType:s.dashType,lineCap:"butt"}};for(let r=0;r<i.length;r++){let a=x.Path.fromPoints(i[r],o);Ft(a),t.append(a)}}getBorderColor(){let t=this.options.border,e=t.color;return b(e)||(e=new re(this.color).brightness(t._brightness).toHex()),e}createOverlay(){let t=x.Path.fromRect(this.box.toRect(),{fill:{color:q,opacity:0},stroke:null});this.visual.append(t)}createHighlight(){let t=this.options.highlight,e=this.color;this.color=t.color||this.color;let i=this.mainVisual(f({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,i}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){let t=this.box,e=this.owner.pane.clipBox()||t;return{point:new N(t.x2+de,Math.max(t.y1,e.y1)+de),align:{horizontal:V,vertical:U}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}}getIndex(){return this.categoryIx}};ro.prototype.createFocusHighlight=Ui.prototype.createFocusHighlight;v(ro,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}});f(ro.prototype,Xt);f(ro.prototype,hi);f(ro.prototype,di);var tn=ro;var Vh=class extends Pe{reflowCategories(t){let e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}addValue(t,e){let{categoryIx:i,category:s,series:o,seriesIx:r}=e,{children:a,options:l}=this,c=t.valueFields,h=this.splitValue(c),d=Kn(h),p=o.data[i],u=this.categoryPoints[i],m;u||(this.categoryPoints[i]=u=[]),d&&(m=this.createPoint(t,e));let g=a[i];g||(g=new bs({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),m&&(this.updateRange(c,e),g.append(m),m.categoryIx=i,m.category=s,m.series=o,m.seriesIx=r,m.owner=this,m.dataItem=p,m.noteText=t.fields.noteText),this.points.push(m),u.push(m)}pointType(){return tn}createPoint(t,e){let{series:i}=e,s=this.pointType(),o=t.valueFields,r=f({},i),a=t.fields.color||i.color;r=this.evalPointOptions(r,o,e),(i.type===us||i.type===fs)&&o.open>o.close&&(a=t.fields.downColor||i.downColor||i.color),K(i.color)&&(a=r.color),r.vertical=!this.options.invertAxes;let l=new s(o,r);return l.color=a,l}splitValue(t){return[t.low,t.open,t.close,t.high]}updateRange(t,e){let i=e.series.axis,s=this.splitValue(t),o=this.valueAxisRanges[i]||{min:rt,max:dt};this.valueAxisRanges[i]={min:Math.min.apply(Math,s.concat([o.min])),max:Math.max.apply(Math,s.concat([o.max]))}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.open,i.high,i.low,i.close,t.category)}animationPoints(){return this.points}};f(Vh.prototype,oo);var en=Vh;var qa=class extends tn{constructor(t,e){super(t,e),this.createNote()}reflow(t){let{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e),r,a;this.boxSlot=a=o.getSlot(i.q1,i.q3),this.realBody=a,this.reflowBoxSlot(t),this.whiskerSlot=r=o.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(t);let l=o.getSlot(i.median);if(i.mean){let c=o.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(t,c)}this.whiskerPoints=this.calcWhiskerPoints(a,r),this.medianPoints=this.calcMedianPoints(t,l),this.box=r.clone().wrap(a),this.reflowNote()}reflowBoxSlot(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2}reflowWhiskerSlot(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2}calcMeanPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}calcWhiskerPoints(t,e){let i=e.center().x;return[[[i-5,e.y1],[i+5,e.y1],[i,e.y1],[i,t.y1]],[[i-5,e.y2],[i+5,e.y2],[i,e.y2],[i,t.y2]]]}calcMedianPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}renderOutliers(t){let e=this.value,i=e.outliers||[],s=Math.abs(e.q3-e.q1)*3,o=[],r=t.markers||{};for(let a=0;a<i.length;a++){let l=i[a];l<e.q3+s&&l>e.q1-s?r=t.outliers:r=t.extremes;let c=f({},r.border);b(c.color)||(b(this.color)?c.color=this.color:c.color=new re(r.background).brightness(js).toHex());let h=new Lt({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:c,opacity:r.opacity});h.value=l,o.push(h)}return this.reflowOutliers(o),o}reflowOutliers(t){let e=this.owner.seriesValueAxis(this.options),i=this.box.center();for(let s=0;s<t.length;s++){let o=t[s].value,r=e.getSlot(o);this.options.vertical?r.move(i.x):r.move(void 0,i.y),this.box=this.box.wrap(r),t[s].reflow(r)}}mainVisual(t){let e=super.mainVisual(t),i=this.renderOutliers(t);for(let s=0;s<i.length;s++){let o=i[s].getElement();o&&e.append(o)}return e}createLines(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}};v(qa,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:Ho,type:Tn,background:q,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:Ho,type:Ot,background:q,border:{width:2,opacity:1},opacity:0}});f(qa.prototype,Xt);var Qa=qa;var $f=class extends Qa{reflowBoxSlot(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2}reflowWhiskerSlot(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2}calcMeanPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}calcWhiskerPoints(t,e){let i=e.center().y;return[[[e.x1,i-5],[e.x1,i+5],[e.x1,i],[t.x1,i]],[[e.x2,i-5],[e.x2,i+5],[e.x2,i],[t.x2,i]]]}calcMedianPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}},f0=$f;var Jf=class extends en{addValue(t,e){let{categoryIx:i,category:s,series:o,seriesIx:r}=e,{children:a,options:l}=this,c=t.valueFields,h=this.splitValue(c),d=Kn(h),p=o.data[i],u=this.categoryPoints[i],m;u||(this.categoryPoints[i]=u=[]),d&&(m=this.createPoint(t,e));let g=a[i];g||(g=new bs({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),m&&(this.updateRange(c,e),g.append(m),m.categoryIx=i,m.category=s,m.series=o,m.seriesIx=r,m.owner=this,m.dataItem=p),this.points.push(m),u.push(m)}pointType(){return this.options.invertAxes?f0:Qa}splitValue(t){return[t.lower,t.q1,t.median,t.q3,t.upper]}updateRange(t,e){let i=e.series.axis,s=this.splitValue(t).concat(this.filterOutliers(t.outliers));b(t.mean)&&(s=s.concat(t.mean));let o=this.valueAxisRanges[i]||{min:rt,max:dt};this.valueAxisRanges[i]={min:Math.min.apply(Math,s.concat([o.min])),max:Math.max.apply(Math,s.concat([o.max]))}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,t.category)}filterOutliers(t){let e=(t||[]).length,i=[];for(let s=0;s<e;s++){let o=t[s];b(o)&&o!==null&&i.push(o)}return i}supportsPointInactiveOpacity(){return!1}},tm=Jf;var em=class extends Wa{getAxis(){let t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x}},im=em;var Ka=class extends H{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(t,e,i){let s=t.value[e],o=e+"Value",r=e+"ErrorLow",a=e+"ErrorHigh",{seriesIx:l,series:c}=i,h=t.options.errorBars,d=i[r],p=i[a];if(Y(s)){let u;Y(d)&&Y(p)&&(u={low:d,high:p}),h&&b(h[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][l]=this.seriesErrorRanges[e][l]||new Ia(h[o],c,e),u=this.seriesErrorRanges[e][l].getErrorRange(s,h[o])),u&&this.addPointErrorBar(u,t,e)}}addPointErrorBar(t,e,i){let{low:s,high:o}=t,{series:r,options:{errorBars:a}}=e,l=i===L,c={};e[i+"Low"]=s,e[i+"High"]=o,e.errorBars=e.errorBars||[];let h=new im(s,o,l,this,r,a);e.errorBars.push(h),e.append(h),c[i]=s,this.updateRange(c,r),c[i]=o,this.updateRange(c,r)}addValue(t,e){let{x:i,y:s}=t,o=e.seriesIx,r=this.options.series[o],a=this.seriesMissingValues(r),l=this.seriesPoints[o],c=t;Wt(i)&&Wt(s)||(c=this.createMissingValue(c,a));let h;c&&(h=this.createPoint(c,e),h&&(Object.assign(h,e),this.addErrorBar(h,P,e),this.addErrorBar(h,L,e)),this.updateRange(c,e.series)),this.points.push(h),l.push(h)}seriesMissingValues(t){return t.missingValues}createMissingValue(){}updateRange(t,e){let i=this.chartService.intl,{xAxis:s,yAxis:o}=e,{x:r,y:a}=t,l=this.xAxisRanges[s],c=this.yAxisRanges[o];Wt(r)&&(l=this.xAxisRanges[s]=l||{min:rt,max:dt},Nt(r)&&(r=Pt(i,r)),l.min=Math.min(l.min,r),l.max=Math.max(l.max,r)),Wt(a)&&(c=this.yAxisRanges[o]=c||{min:rt,max:dt},Nt(a)&&(a=Pt(i,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a))}evalPointOptions(t,e,i){let{series:s,seriesIx:o}=i,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[o];b(a)||(this._evalSeries[o]=a=Se(t,{},r,!0));let l=t;return a&&(l=f({},t),Se(l,{value:e,series:s,dataItem:i.dataItem},r)),l}pointType(){return $e}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=f({},s,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return i}createPoint(t,e){let i=e.series,s=this.pointOptions(i,e.seriesIx),o=e.color||i.color;s=this.evalPointOptions(s,t,e),K(i.color)&&(o=s.color);let r=new $e(t,s);return r.color=o,this.append(r),r}seriesAxes(t){let{xAxis:e,yAxis:i}=t,s=this.plotArea,o=e?s.namedXAxes[e]:s.axisX,r=i?s.namedYAxes[i]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{x:o,y:r}}reflow(t){let e=this.points,i=!this.options.clip,s=0;this.traverseDataPoints((o,r)=>{let a=e[s++],l=this.seriesAxes(r.series),c=l.x.getSlot(o.x,o.x,i),h=l.y.getSlot(o.y,o.y,i);if(a)if(c&&h){let d=this.pointSlot(c,h);a.reflow(d)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new S(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){let{options:{series:e},seriesPoints:i}=this;for(let s=0;s<e.length;s++){let o=e[s];i[s]||(i[s]=[]);for(let a=0;a<o.data.length;a++){let{valueFields:l,fields:c}=this.plotArea.bindPoint(o,a);t(l,f({pointIx:a,series:o,seriesIx:s,dataItem:o.data[a],owner:this},c))}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}};v(Ka,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0});f(Ka.prototype,oo);var ws=Ka;var or=class extends $e{constructor(t,e){super(t,e),this.category=t.category}createHighlight(){let t=this.options.highlight,e=t.border,i=this.options.markers,s=this.box.center(),o=(i.size+i.border.width+e.width)/2,r=new x.Group,a=new x.Circle(new _.Circle([s.x,s.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),l=new x.Circle(new _.Circle([s.x,s.y],o),{stroke:{color:e.color||new re(i.background).brightness(js).toHex(),width:e.width,opacity:e.opacity},fill:he(this.options.pattern,{color:i.background,opacity:t.opacity})});return r.append(a,l),r}createFocusHighlight(t){let e=this.options.focusHighlight,i=this.options.markers,s=this.box.center(),o=(i.size+i.border.width)/2+e.border.width/2;return new x.Circle(new _.Circle([s.x,s.y],o),t)}};or.prototype.defaults=f({},or.prototype.defaults,{labels:{position:B},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}});or.prototype.defaults.highlight.zIndex=void 0;var sm=or;var zh=class extends ws{_initFields(){this._maxSize=dt,super._initFields()}addValue(t,e){t.size!==null&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),super.addValue(t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(t){this.updateBubblesSize(t),super.reflow(t)}pointType(){return sm}createPoint(t,e){let i=e.series,s=i.data.length,o=e.pointIx*(Yt/s),r={delay:o,duration:Yt-o,type:Hi},a=e.color||i.color;t.size<0&&i.negativeValues.visible&&(a=F(i.negativeValues.color,a));let l=f({labels:{animation:{delay:o,duration:Yt-o}}},this.pointOptions(i,e.seriesIx),{markers:{type:Ot,border:i.border,opacity:i.opacity,animation:r}});l=this.evalPointOptions(l,t,e),K(i.color)&&(a=l.color),l.markers.background=a;let c=new sm(t,l);return c.color=a,this.append(c),c}updateBubblesSize(t){let{options:{series:e}}=this,i=Math.min(t.width(),t.height());for(let s=0;s<e.length;s++){let o=e[s],r=this.seriesPoints[s],a=o.minSize||Math.max(i*.02,10),l=o.maxSize||i*.2,c=a/2,h=l/2,d=Math.PI*c*c,m=(Math.PI*h*h-d)/this._maxSize;for(let g=0;g<r.length;g++){let w=r[g];if(w){let E=Math.abs(w.value.size)*m,I=Math.sqrt((d+E)/Math.PI),$=F(w.options.zIndex,0)+(1-I/h);f(w.options,{zIndex:$,markers:{size:I*2,zIndex:$},labels:{zIndex:$+1}})}}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.size,t.category)}createAnimation(){}createVisual(){}};v(zh,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var om=zh;var Hh=class extends Lt{};f(Hh.prototype,Xt);var m0=Hh;var _s=class extends H{constructor(t,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||q,this.value=t}render(){let t=this.options;this._rendered||(this._rendered=!0,b(this.value.target)&&(this.target=new m0({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:U,align:Q}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){return new Za(this.getLabelText(t),t,this.pointData())}getLabelText(t){let e=mt(t);return e?e(this.pointData()):this.formatValue(t.format)}reflow(t){this.render();let{options:e,target:i,owner:s}=this,o=e.invertAxes,r=s.seriesValueAxis(this.options),a=s.categorySlot(s.categoryAxis,e.categoryIx,r),l=r.getSlot(this.value.target),c=o?l:a,h=o?a:l;if(i){let p=new S(c.x1,h.y1,c.x2,h.y2);i.options.height=o?p.height():e.target.line.width,i.options.width=o?e.target.line.width:p.width(),i.reflow(p)}let d=this.label;d&&(d.options.aboveAxis=this.aboveAxis,d.reflow(t)),this.note&&this.note.reflow(t),this.box=t}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual();let t=this.options,e=x.Path.fromRect(this.box.toRect(),{fill:he(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:F(t.border.opacity,t.opacity)}),this.bodyVisual=e,Ft(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=x.Animation.create(this.bodyVisual,this.options.animation))}createHighlight(t){return x.Path.fromRect(this.box.toRect(),t)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(t){return this.box.overlaps(t)}getIndex(){return this.categoryIx}};_s.prototype.tooltipAnchor=Ui.prototype.tooltipAnchor;_s.prototype.createFocusHighlight=Ui.prototype.createFocusHighlight;v(_s,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}});f(_s.prototype,Xt);f(_s.prototype,hi);f(_s.prototype,di);var nm=_s;var $a=class extends Pe{constructor(t,e){BS(e),super(t,e)}reflowCategories(t){let e=this.children,i=e.length;for(let s=0;s<i;s++)e[s].reflow(t[s])}plotRange(t){let e=t.series,i=this.seriesValueAxis(e),s=this.categoryAxisCrossingValue(i);return[s,t.value.current||s]}createPoint(t,e){let{categoryIx:i,series:s}=e,{options:o,children:r}=this,a=t.valueFields,l=f({vertical:!o.invertAxes,overlay:s.overlay,categoryIx:i,invertAxes:o.invertAxes},s),c=t.fields.color||s.color;l=this.evalPointOptions(l,a,e),K(s.color)&&(c=l.color);let h=new nm(a,l);h.color=c;let d=r[i];return d||(d=new bs({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(h),h}updateRange(t,e){let{current:i,target:s}=t,o=e.series.axis,r=this.valueAxisRanges[o];b(i)&&!isNaN(i)&&b(s&&!isNaN(s))&&(r=this.valueAxisRanges[o]=r||{min:rt,max:dt},r.min=Math.min(r.min,i,s),r.max=Math.max(r.max,i,s))}formatPointValue(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)}pointValue(t){return t.valueFields.current}aboveAxis(t){return t.value.current>0}createAnimation(){let t=this.points;this._setAnimationOptions();for(let e=0;e<t.length;e++){let i=t[e];i.options.animation=this.options.animation,i.createAnimation()}}};$a.prototype._setAnimationOptions=ki.prototype._setAnimationOptions;v($a,{animation:{type:ae}});function BS(n){let t=n.series;for(let e=0;e<t.length;e++){let i=t[e],s=i.data;s&&!ft(s[0])&&!jt(s[0])&&(i.data=[s])}}var rm=$a;var jh=class extends R{constructor(t,e){super(),this.chartService=t,this.options=f({},this.options,e)}getStyle(t,e){let{background:i,border:{color:s}}=t;if(e){let r=e.color||e.options.color;i=F(i,r),s=F(s,r)}let o=t.padding!==void 0?Z(t.padding):{};return typeof t.padding=="object"&&(o.top=t.padding.top!==void 0?o.top:void 0,o.right=t.padding.right!==void 0?o.right:void 0,o.bottom=t.padding.bottom!==void 0?o.bottom:void 0,o.left=t.padding.left!==void 0?o.left:void 0),{backgroundColor:i,borderColor:s,font:t.font,color:t.color,opacity:t.opacity,borderWidth:Mi(t.border.width),paddingTop:Mi(o.top),paddingBottom:Mi(o.bottom),paddingLeft:Mi(o.left),paddingRight:Mi(o.right)}}show(t,e,i){if(!this.chartService)return;t.format=e.format;let s=this.getStyle(e,i);t.style=s;let o=new re(s.backgroundColor);!b(e.color)&&!o.isDark()&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(Sh,t),this.visible=!0}hide(){this.chartService&&this.chartService.notify(Ah),this.visible=!1}destroy(){delete this.chartService}};v(jh,{border:{width:1},opacity:1});var nr=jh;var Uh=class extends nr{constructor(t,e,i){super(t,i),this.crosshair=e,this.formatService=t.format,this.initAxisName()}initAxisName(){let t=this.crosshair.axis,e=t.plotArea,i;e.categoryAxis?i=t.getCategory?"categoryAxis":"valueAxis":i=t.options.vertical?"yAxis":"xAxis",this.axisName=i}showAt(t){let{crosshair:{axis:e},options:i}=this,s=e[i.stickyMode?"getCategory":"getValue"](t),o=s;i.format?o=this.formatService.auto(i.format,s):e.options.type===ge&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],s)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(Ah,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){let{crosshair:t,options:{position:e,padding:i}}=this,s=!t.axis.options.vertical,o=t.line.bbox(),r,a,l;return s?(r=B,e===X?(a=U,l=o.bottomLeft().translate(0,i)):(a=X,l=o.topLeft().translate(0,-i))):(a=B,e===V?(r=Q,l=o.topLeft().translate(-i,0)):(r=V,l=o.topRight().translate(i,0))),{point:l,align:{horizontal:r,vertical:a}}}};v(Uh,{padding:10});var am=Uh;var Gh=class extends H{constructor(t,e,i){super(i),this.axis=e,this.stickyMode=e instanceof ye;let s=this.options.tooltip;s.visible&&(this.tooltip=new am(t,this,f({},s,{stickyMode:this.stickyMode})))}showAt(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){let{axis:t,point:e}=this,i=t.options.vertical,s=this.getBox(),o=i?L:P,r=new _.Point(s.x1,s.y1),a;if(i?a=new _.Point(s.x2,s.y1):a=new _.Point(s.x1,s.y2),e)if(this.stickyMode){let l=t.getSlot(t.pointCategoryIndex(e));r[o]=a[o]=l.center()[o]}else r[o]=a[o]=e[o];this.box=s,this.line.moveTo(r).lineTo(a)}getBox(){let t=this.axis,e=t.pane.axes,i=e.length,s=t.options.vertical,o=t.lineBox().clone(),r=s?P:L,a;for(let l=0;l<i;l++){let c=e[l];c.options.vertical!==s&&(a?a.wrap(c.lineBox()):a=c.lineBox().clone())}return o[r+1]=a[r+1],o[r+2]=a[r+2],o}createVisual(){super.createVisual();let t=this.options;this.line=new x.Path({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}};v(Gh,{color:J,width:2,zIndex:-1,tooltip:{visible:!1}});var lm=Gh;var Wh=class extends H{constructor(t,e){super(t),this.pane=e}shouldClip(){let t=this.children,e=t.length;for(let i=0;i<e;i++)if(t[i].options.clip===!0)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new x.Group({zIndex:0}),this.shouldClip()){let e=(this.clipBox=this._clipBox()).toRect(),i=x.Path.fromRect(e);Ft(i),this.visual.clip(i),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){let{children:t,clipBox:e}=this;for(let i=0;i<t.length;i++){let s=t[i].points||{},o=s.length;for(let r=0;r<o;r++){let a=s[r];if(a&&a.visible!==!1&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{let{label:l,note:c}=a;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(e),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}};Wh.prototype.isStackRoot=!0;var cm=Wh;var Ja=class n extends Ee{constructor(t){super(t),this.id=zS(),this.createTitle(),this.content=new H,this.chartContainer=new cm({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let t=this.options.title;jt(t)&&(t=f({},t,{align:t.position,position:U})),this.title=cs.buildTitle(t,n.prototype.options.title),this.title&&this.append(this.title)}appendAxis(t){this.content.append(t),this.axes.push(t),t.pane=this}appendAxisAt(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this}appendChart(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this}empty(){let t=this.parent;if(t){for(let e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)t.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(t){let e;gt(this.children)===this.content&&(e=this.children.pop()),super.reflow(t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){let t=super.visualStyle();return t.zIndex=-10,t}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){let t=this.axes,e=t.concat(this.parent.axes),i=[],s=[];for(let o=0;o<t.length;o++){let r=t[o],a=r.options.vertical,l=a?i:s;for(let c=0;c<e.length;c++)if(l.length===0){let h=e[c];a!==h.options.vertical&&Be(l,r.createGridLines(h))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){let t=this.axes,e=t.length,i=new S;for(let s=0;s<e;s++){let o=t[s],r=o.options.vertical?L:P,a=o.lineBox();i[r+1]=a[r+1],i[r+2]=a[r+2]}if(i.x2===0){let s=this.parent.axes,o=s.length;for(let r=0;r<o;r++){let a=s[r];if(!a.options.vertical){let l=a.lineBox();i.x1=l.x1,i.x2=l.x2}}}return i}clipBox(){return this.chartContainer.clipBox}notifyRender(){let t=this.getService();t&&t.notify(i0,{pane:new jn(this),index:this.paneIndex,name:this.options.name})}},VS=1;function zS(){return"pane"+VS++}Ja.prototype.isStackRoot=!0;v(Ja,{zIndex:-1,shrinkToFit:!0,title:{align:V},visible:!0});var hm=Ja;var dm=n=>n.options.visible!==!1,Yh=class extends H{constructor(t,e,i){super(e),this.initFields(t,e),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=i,this.originalOptions=e,this.originalSeries=t,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){let t=this.series;for(let e=0;e<t.length;e++)t[e].index=e}bindPoint(t,e,i){let s=this._bindCache.get(t);s||(s=[],this._bindCache.set(t,s));let o=s[e];return o||(o=s[e]=lt.current.bindPoint(t,e,i)),o}createPanes(){let t=this.options.title||{},e=this.options.paneDefaults,i=this.options.panes||[],s=Math.max(i.length,1),o=[],r=f({title:{color:t.color}},e);for(let a=0;a<s;a++){let l=f({},r,i[a]);Nt(l.title)&&(l.title=f({text:l.title},r.title));let c=new hm(l);c.paneIndex=a,o.push(c),this.append(c)}this.panes=o}crosshairOptions(t){return t.options.crosshair}createCrosshairs(t=this.panes){for(let e=0;e<t.length;e++){let i=t[e];for(let s=0;s<i.axes.length;s++){let o=i.axes[s],r=this.crosshairOptions(o);if(r&&r.visible){let a=new lm(this.chartService,o,r);this.crosshairs.push(a),i.content.append(a)}}}}removeCrosshairs(t){let e=this.crosshairs,i=t.axes;for(let s=e.length-1;s>=0;s--)for(let o=0;o<i.length;o++)if(e[s].axis===i[o]){e.splice(s,1);break}}hideCrosshairs(){let t=this.crosshairs;for(let e=0;e<t.length;e++)t[e].hide()}findPane(t){let e=this.panes,i;for(let s=0;s<e.length;s++)if(e[s].options.name===t){i=e[s];break}return i||e[0]}findPointPane(t){let e=this.panes,i;for(let s=0;s<e.length;s++)if(e[s].box.containsPoint(t)){i=e[s];break}return i}appendAxis(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this}removeAxis(t){let e=[];for(let i=0;i<this.axes.length;i++){let s=this.axes[i];t!==s?e.push(s):s.destroy()}this.axes=e}appendChart(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)}removeChart(t){let e=[];for(let i=0;i<this.charts.length;i++){let s=this.charts[i];s!==t?e.push(s):s.destroy()}this.charts=e}addToLegend(t){let e=t.length,i=this.options.legend,s=i.labels||{},o=i.inactiveItems||{},r=o.labels||{},a=[];for(let l=0;l<e;l++){let c=t[l],h=c.visible!==!1;if(c.visibleInLegend===!1)continue;let d=c.name,p=h?mt(s):mt(r)||mt(s);p&&(d=p({text:Wt(d)?d:"",series:c}));let u=c._defaults,m=c.color;K(m)&&u&&(m=u.color);let g,w;h?(g={},w=m):(g={color:r.color,font:r.font},w=o.markers.color),Wt(d)&&d!==""&&a.push({text:d,labels:g,markerColor:w,series:c,active:h})}Be(i.data,a)}groupAxes(t){let e=[],i=[];for(let s=0;s<t.length;s++){let o=t[s].axes;for(let r=0;r<o.length;r++){let a=o[r];a.options.vertical?i.push(a):e.push(a)}}return{x:e,y:i,any:e.concat(i)}}groupSeriesByPane(){let t=this.series,e={};for(let i=0;i<t.length;i++){let s=t[i],o=this.seriesPaneName(s);e[o]?e[o].push(s):e[o]=[s]}return e}filterVisibleSeries(t){let e=[];for(let i=0;i<t.length;i++){let s=t[i];s.visible!==!1&&e.push(s)}return e}reflow(t){let e=this.options.plotArea,i=this.panes,s=Z(e.margin);this.box=t.clone().unpad(s),this.reflowPanes(),this.detachLabels(),this.reflowAxes(i),this.reflowCharts(i)}redraw(t){let e=[].concat(t);this.initSeries();let i=this.getRoot();i&&i.cleanGradients();for(let s=0;s<e.length;s++)this.removeCrosshairs(e[s]),e[s].empty();this._bindCache=new WeakMap,this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let s=0;s<e.length;s++)e[s].refresh()}axisCrossingValues(t,e){let i=t.options,s=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=e.length-s.length,r=s[0]||0;for(let a=0;a<o;a++)s.push(r);return s}alignAxisTo(t,e,i,s){let o=t.getSlot(i,i,!0),r=t.options.reverse?2:1,a=e.getSlot(s,s,!0),l=e.options.reverse?2:1,c=t.box.translate(a[P+l]-o[P+r],a[L+l]-o[L+r]);t.pane!==e.pane&&c.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(c)}alignAxes(t,e){let i=t[0],s=e[0],o=this.axisCrossingValues(i,e),r=this.axisCrossingValues(s,t),a={},l={},c={},h={};for(let d=0;d<e.length;d++){let p=e[d],u=p.pane,m=u.id,g=p.options.visible!==!1,w=Xh(t,u)||i,E=o;if(w!==i&&(E=this.axisCrossingValues(w,e)),this.alignAxisTo(p,w,r[d],E[d]),p.options._overlap)continue;D(p.lineBox().x1)===D(w.lineBox().x1)&&(a[m]&&p.reflow(p.box.alignTo(a[m].box,V).translate(-p.options.margin,0)),g&&(a[m]=p)),D(p.lineBox().x2)===D(w.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,w,r[d],E[d]),l[m]&&p.reflow(p.box.alignTo(l[m].box,Q).translate(p.options.margin,0)),g&&(l[m]=p));let I=Xh(e,u)||s;I!==p&&(p.alignTo(I),p.reflow(p.box))}for(let d=0;d<t.length;d++){let p=t[d],u=p.pane,m=u.id,g=p.options.visible!==!1,w=Xh(e,u)||s,E=r;w!==s&&(E=this.axisCrossingValues(w,t)),this.alignAxisTo(p,w,o[d],E[d]),!p.options._overlap&&(D(p.lineBox().y1)===D(w.lineBox().y1)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),this.alignAxisTo(p,w,o[d],E[d]),c[m]&&p.reflow(p.box.alignTo(c[m].box,U).translate(0,-p.options.margin)),g&&(c[m]=p)),D(p.lineBox().y2,3)===D(w.lineBox().y2,3)&&(h[m]&&p.reflow(p.box.alignTo(h[m].box,X).translate(0,p.options.margin)),g&&(h[m]=p)),d!==0&&(p.alignTo(i),p.reflow(p.box)))}}shrinkAxisWidth(t){let e=this.groupAxes(t).any,i=pm(e),s=0;for(let o=0;o<t.length;o++){let r=t[o];r.axes.length>0&&(s=Math.max(s,i.width()-r.contentBox.width()))}if(s!==0)for(let o=0;o<e.length;o++){let r=e[o];r.options.vertical||r.reflow(r.box.shrink(s,0))}}shrinkAxisHeight(t){let e;for(let i=0;i<t.length;i++){let s=t[i],o=s.axes,r=Math.max(0,pm(o).height()-s.contentBox.height());if(r!==0){for(let a=0;a<o.length;a++){let l=o[a];l.options.vertical&&l.reflow(l.box.shrink(0,r))}e=!0}}return e}fitAxes(t){let e=this.groupAxes(t).any,i=0;for(let s=0;s<t.length;s++){let o=t[s],r=o.axes,a=o.contentBox;if(r.length>0){let l=pm(r),c=Math.max(a.y1-l.y1,a.y2-l.y2);i=Math.max(i,a.x1-l.x1);for(let h=0;h<r.length;h++){let d=r[h];d.reflow(d.box.translate(0,c))}}}for(let s=0;s<e.length;s++){let o=e[s];o.reflow(o.box.translate(i,0))}}reflowAxes(t){let e=this.groupAxes(t);for(let i=0;i<t.length;i++)this.reflowPaneAxes(t[i]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))}autoRotateAxisLabels(t){let{panes:e}=this,i=US(e),s;for(let o=0;o<i.length;o++)i[o].autoRotateLabels()&&(s=!0);if(s){for(let o=0;o<e.length;o++)this.reflowPaneAxes(e[o]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(t){let e=t.axes,i=e.length;if(i>0)for(let s=0;s<i;s++)e[s].reflow(t.contentBox)}reflowCharts(t){let e=this.charts,i=e.length,s=this.box;for(let o=0;o<i;o++){let r=e[o].pane;(!r||z(r,t))&&e[o].reflow(s)}}reflowPanes(){let{box:t,panes:e}=this,i=e.length,s=t.height(),o=0,r=t.y1;for(let a=0;a<i;a++){let l=e[a],c=l.options.height;if(l.options.width=t.width(),!l.options.height)o++;else{if(c.indexOf&&c.indexOf("%")){let h=parseInt(c,10)/100;l.options.height=h*t.height()}l.reflow(t.clone()),s-=l.options.height}}for(let a=0;a<i;a++){let l=e[a];l.options.height||(l.options.height=s/o)}for(let a=0;a<i;a++){let l=e[a],c=t.clone().move(t.x1,r);l.reflow(c),r+=l.options.height}}backgroundBox(){let t=this.axes,e=t.length,i;for(let s=0;s<e;s++){let o=t[s];for(let r=0;r<e;r++){let a=t[r];if(o.options.vertical!==a.options.vertical){let l=o.lineBox().clone().wrap(a.lineBox());i?i=i.wrap(l):i=l}}}return i||this.box}chartsBoxes(){let t=this.panes,e=[];for(let i=0;i<t.length;i++)e.push(t[i].chartsBox());return e}addBackgroundPaths(t){let e=this.chartsBoxes();for(let i=0;i<e.length;i++)t.paths.push(x.Path.fromRect(e[i].toRect()))}backgroundContainsPoint(t){let e=this.chartsBoxes();for(let i=0;i<e.length;i++)if(e[i].containsPoint(t))return!0}createVisual(){super.createVisual();let t=this.options.plotArea,{opacity:e,background:i,border:s={}}=t;jS(i)&&(i=q,e=0);let o=this._bgVisual=new x.MultiPath({fill:{color:i,opacity:e},stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)}pointsByCategoryIndex(t){let e=this.charts,i=[];if(t!==null)for(let s=0;s<e.length;s++){if(e[s].pane.options.name==="_navigator")continue;let r=e[s].categoryPoints[t];if(r&&r.length)for(let a=0;a<r.length;a++){let l=r[a];l&&b(l.value)&&l.value!==null&&i.push(l)}}return i}pointsBySeriesIndex(t){return this.filterPoints(function(e){return e.series.index===t})}pointsByPointIndex(t){return this.filterPoints(function(e){return e.getIndex()===t})}pointsBySeriesName(t){return this.filterPoints(function(e){return e.series.name===t})}filterPoints(t){let e=this.charts,i=[];for(let s=0;s<e.length;s++){let r=e[s].points;for(let a=0;a<r.length;a++){let l=r[a];l&&l.visible!==!1&&t(l)&&i.push(l)}}return i}findPoint(t){let e=this.charts;for(let i=0;i<e.length;i++){let o=e[i].points;for(let r=0;r<o.length;r++){let a=o[r];if(a&&a.visible!==!1&&t(a))return a}}}paneByPoint(t){let e=this.panes;for(let i=0;i<e.length;i++){let s=e[i];if(s.box.containsPoint(t))return s}}detachLabels(){let t=this.groupAxes(this.panes),e=t.x,i=t.y;this.detachAxisGroupLabels(i,e),this.detachAxisGroupLabels(e,i)}detachAxisGroupLabels(t,e){let i=0;for(let s=0;s<t.length;s++){let o=t[s],r=o.pane,a=Xh(e,r)||e[0],l=s+i,c=this.createLabelAxis(o,l,a);if(c){i++;let h=r.axes.indexOf(o)+i;r.appendAxisAt(c,h)}}}createLabelAxis(t,e,i){let s=t.options.labels,o=s.position,r=o!==Ls&&o!==Io,a=s.visible;if(r||a===!1)return null;let l=this.groupAxes(this.panes),c=i.options.vertical?l.x:l.y,h=this.axisCrossingValues(i,c),d=o===Ls,p=i.range(),u=d?p.max:p.min;if(M(h[e],p.min,p.max)-u===0)return null;h.splice(e+1,0,u),i.options.axisCrossingValues=h;let g=t.clone();return t.clear(),g.options.name=void 0,g.options.line.visible=!1,g.options.crosshair=void 0,g.options.notes=void 0,g.options.plotBands=void 0,g}isTrendline(t){return t&&z(t.type,ys)}trendlineFactory(){}createTrendlineSeries(){let t=[];return this.series=this.series.map(e=>{if(!this.isTrendline(e))return e;let i=this.seriesByName(e.for);if(!i)throw new Error(`Invalid Configuration: Unable to locate linked series "${e.for}" for trendline "${e.name}".`);let s=lt.current.valueFields(i),o=gt(s),r=this.trendlineFactory(Object.assign({},{field:o},e),i);return r&&(i.visible===!1&&(r.visible=!1),r.color===Sc&&(r.color=i.color),t.push(r)),r}).filter(e=>e!==null),t}seriesByName(t){return this.series.find(e=>e.name===t)}getFirstPoint(){for(let t=0;t<this.series.length;t++){let i=this.pointsBySeriesIndex(t).find(dm);if(i)return i}}getPointBelow(t){return this._getNextPoint(t,this._pointsByVertical,1)}getPointAbove(t){return this._getNextPoint(t,this._pointsByVertical,-1)}getPointToTheRight(t){return this._getNextPoint(t,this._pointsByHorizontal,1)}getPointToTheLeft(t){return this._getNextPoint(t,this._pointsByHorizontal,-1)}_getNextPoint(t,e,i){let s=e.call(this,t).filter(dm),r=s.indexOf(t)+i,a=l=>{let c,h=0;do h+=l,c=e.call(this,t,h).filter(dm);while(c.length===0);return c};return r<0?(s=a(-1),s.at(-1)):r>=s.length?(s=a(1),s.at(0)):s[r]}_pointsByVertical(t){return this.pointsByPointIndex(t.getIndex())}_pointsByHorizontal(t,e=0){let i=ss(t.series.index+e,this.series.length);return this.pointsBySeriesIndex(i)}};function HS(n){return!n.pane.axes.some(t=>t.options.vertical===n.options.vertical&&t!==n&&t.options.visible!==!1)}function pm(n){let t=n.length,e;for(let i=0;i<t;i++){let s=n[i],o=s.options.visible!==!1;if(o||HS(s)){let r=o?s.contentBox():s.lineBox();e?e.wrap(r):e=r.clone()}}return e||new S}function Xh(n,t){for(let e=0;e<n.length;e++){let i=n[e];if(i&&i.pane===t)return i}}function jS(n){return n===""||n===null||n==="none"||n==="transparent"||!b(n)}var US=n=>n.reduce((t,e)=>t.concat(e.axes),[]);v(Yh,{series:[],plotArea:{margin:{}},background:"",border:{color:J,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var ue=Yh;var GS={hover:function(n,t){this._dispatchEvent(n,t,wh)},click:function(n,t){this._dispatchEvent(n,t,t0)}},Ei=GS;var um=class extends R{constructor(t,e,i){super();let s=e.canonicalFields(t),o=e.valueFields(t),r=e.sourceFields(t,s),a=this._seriesFields=[],l=i.query(t.type),c=t.aggregate||l;this._series=t,this._binder=e;for(let h=0;h<s.length;h++){let d=s[h],p;if(jt(c))p=c[d];else if(h===0||z(d,o))p=c;else break;p&&a.push({canonicalName:d,name:r[h],transform:K(p)?p:Ff[p]})}}aggregatePoints(t,e){let{_series:i,_seriesFields:s}=this,o=this._bindPoints(t||[]),r=o.dataItems[0],a={};if(r&&!Y(r)&&!ft(r)){let l=function(){};l.prototype=r,a=new l}for(let l=0;l<s.length;l++){let c=s[l],h=this._bindField(o.values,c.canonicalName),d=c.transform(h,i,o.dataItems,e);if(d!==null&&jt(d)&&!b(d.length)&&!(d instanceof Date)){a=d;break}else b(d)&&WS(c.name,a,d)}return a}_bindPoints(t){let{_binder:e,_series:i}=this,s=[],o=[];for(let r=0;r<t.length;r++){let a=t[r];s.push(e.bindPoint(i,a)),o.push(i.data[a])}return{values:s,dataItems:o}}_bindField(t,e){let i=[],s=t.length;for(let o=0;o<s;o++){let r=t[o],a=r.valueFields,l;b(a[e])?l=a[e]:l=r.fields[e],i.push(l)}return i}};function WS(n,t,e){let i=t,s=n;if(n.indexOf(".")>-1){let o=n.split(".");for(;o.length>1;)s=o.shift(),b(i[s])||(i[s]={}),i=i[s];s=o.shift()}i[s]=e}var fm=um;var tl=class extends R{constructor(){super(),this._defaults={}}register(t,e){for(let i=0;i<t.length;i++)this._defaults[t[i]]=e}query(t){return this._defaults[t]}};tl.current=new tl;var Gi=tl;var el=class extends Ui{createLabel(){let t=this.options.labels,e=f({},t,t.from),i=f({},t,t.to);e.visible&&(this.labelFrom=this.createLabelElement(e),this.append(this.labelFrom)),i.visible&&(this.labelTo=this.createLabelElement(i),this.append(this.labelTo))}reflow(t){this.render();let{labelFrom:e,labelTo:i,value:s}=this;this.box=t,e&&(e.options.aboveAxis=s.from>s.to,e.reflow(t)),i&&(i.options.aboveAxis=s.to>s.from,i.reflow(t)),this.note&&this.note.reflow(t)}};el.prototype.defaults=f({},el.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var mm=el;var Zh=class extends ki{pointType(){return mm}pointValue(t){return t.valueFields}formatPointValue(t,e){return t.value.from===null&&t.value.to===null?"":this.chartService.format.auto(e,t.value.from,t.value.to)}plotRange(t){return t?[t.value.from,t.value.to]:0}updateRange(t,e){let i=e.series.axis,{from:s,to:o}=t,r=this.valueAxisRanges[i];t!==null&&Y(s)&&Y(o)&&(r=this.valueAxisRanges[i]=r||{min:rt,max:dt},r.min=Math.min(r.min,s),r.max=Math.max(r.max,s),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}aboveAxis(t){let e=t.value;return e.from<e.to}};Zh.prototype.plotLimits=Pe.prototype.plotLimits;var gm=Zh;var xm=class extends $e{aliasFor(){return this.parent}},vm=xm;var g0="auto",XS="{0}",YS="{1}",rr=class extends H{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=F(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=yi(),this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;let{markers:t,labels:e}=this.options,i=this.value,s=this.fromPoint=new vm(i,f({},this.options,{labels:e.from,markers:t.from})),o=this.toPoint=new vm(i,f({},this.options,{labels:e.to,markers:t.to}));this.copyFields(s),this.copyFields(o),this.append(s),this.append(o)}reflow(t){this.render();let{from:e,to:i}=t;this.positionLabels(e,i),this.fromPoint.reflow(e),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){let t=new x.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}createFocusHighlight(){let t=new x.Group;return t.append(this.fromPoint.createFocusHighlight()),t.append(this.toPoint.createFocusHighlight()),t}tooltipAnchor(){let t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){let i=this.box,s=i.center(),o=V,r,a,l;return this.options.vertical?(r=s.x,a=i.y1-de,l=X):(r=i.x2+de,a=s.y,l=B),{point:new N(r,a),align:{horizontal:o,vertical:l}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){let t=this.options.labels;t.format||((!t.from||!t.from.format)&&(t.from=Object.assign({},t.from,{format:XS})),(!t.to||!t.to.format)&&(t.to=Object.assign({},t.to,{format:YS})))}positionLabels(t,e){let{labels:i,vertical:s}=this.options;if(i.position===g0){let o,r;s?e.y1<=t.y1?(r=Un,o=Da):(r=Da,o=Un):e.x1<=t.x1?(r=V,o=Q):(r=Q,o=V),(!i.from||!i.from.position)&&(this.fromPoint.options.labels.position=o),(!i.to||!i.to.position)&&(this.toPoint.options.labels.position=r)}}copyFields(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner}focusVisual(){this.fromPoint.focusVisual()}clearFocusFromVisual(){this.toPoint.clearFocusFromVisual()}getIndex(){return this.categoryIx}};f(rr.prototype,Xt);f(rr.prototype,hi);rr.prototype.defaults={markers:{visible:!1,background:q,size:Ho,type:Ot,border:{width:2},opacity:1},labels:{visible:!1,margin:Z(3),padding:Z(4),animation:{type:be,delay:Yt},position:g0},notes:{label:{}},highlight:{markers:{border:{color:q,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}};var qh=rr;var ym=class extends ti{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t}createStroke(t){let e=new x.Path(t),i=new x.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(e),this.visual.append(i)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(t=>t.fromPoint)}toPoints(){return this.linePoints.map(t=>t.toPoint)}},ar=ym;var bm=class extends ar{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t}createCurveSegments(t){return new ps().process(this.toGeometryPoints(t))}},x0=bm;var Qh=class extends ar{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t}};f(Qh.prototype,ir);var v0=Qh;var Kh=class extends Pe{render(){super.render(),this.renderSegments()}pointType(){return qh}createPoint(t,e){let{series:i,seriesIx:s}=e,o=t.valueFields;if(!Wt(o.from)&&!Wt(o.to))if(this.seriesMissingValues(i)===pe)o={from:0,to:0};else return null;let r=this.pointOptions(i,s);r=this.evalPointOptions(r,o,e);let a=t.fields.color||i.color;K(i.color)&&(a=r.color);let l=new qh(o,r);return l.color=a,this.append(l),l}createSegment(t,e,i){let s=(e.line||{}).style,o;return s==="smooth"?o=x0:s==="step"?o=v0:o=ar,new o(t,e,i)}plotRange(t,e){return t?[t.value.from,t.value.to]:[e,e]}valueSlot(t,e){let i=t.getSlot(e[0],e[0],!this.options.clip),s=t.getSlot(e[1],e[1],!this.options.clip);if(i&&s)return{from:i,to:s}}pointSlot(t,e){let{from:i,to:s}=e,o,r;return this.options.invertAxes?(o=new S(i.x1,t.y1,i.x2,t.y2),r=new S(s.x1,t.y1,s.x2,t.y2)):(o=new S(t.x1,i.y1,t.x2,i.y2),r=new S(t.x1,s.y1,t.x2,s.y2)),{from:o,to:r}}addValue(t,e){let i=t.valueFields;Y(i.from)||(i.from=i.to),Y(i.to)||(i.to=i.from),super.addValue(t,e)}updateRange(t,e){if(t!==null&&Y(t.from)&&Y(t.to)){let i=e.series.axis,s=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:rt,max:dt},{from:o,to:r}=t;s.min=Math.min(s.min,o,r),s.max=Math.max(s.max,o,r)}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.from,i.to)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++){let s=t[i];s&&(e.push((s.fromPoint||{}).marker),e.push((s.toPoint||{}).marker))}return e.concat(this._segments)}};f(Kh.prototype,sr,oo);var wm=Kh;var _m=class extends tn{reflow(t){let{options:e,value:i,owner:s}=this,o=s.seriesValueAxis(e),r=[],a=[],l=[],c=o.getSlot(i.low,i.high),h=o.getSlot(i.open,i.open),d=o.getSlot(i.close,i.close);h.x1=d.x1=c.x1=t.x1,h.x2=d.x2=c.x2=t.x2;let p=c.center().x;r.push([h.x1,h.y1]),r.push([p,h.y1]),a.push([p,d.y1]),a.push([d.x2,d.y1]),l.push([p,c.y1]),l.push([p,c.y2]),this.lines=[r,a,l],this.box=c.clone().wrap(h.clone().wrap(d)),this.reflowNote()}createBody(){}},Cm=_m;var Sm=class extends en{pointType(){return Cm}},Am=Sm;var $h=class extends H{constructor(t,e,i){super(),this.from=t,this.to=e,this.series=i}linePoints(){let t=this.from,{from:{box:e},to:{box:i}}=this,s=[];if(t.isVertical){let o=t.aboveAxis?e.y1:e.y2;s.push([e.x1,o],[i.x2,o])}else{let o=t.aboveAxis?e.x2:e.x1;s.push([o,e.y1],[o,i.y2])}return s}createVisual(){super.createVisual();let t=this.series.line||{},e=x.Path.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});Ft(e),this.visual.append(e)}};v($h,{animation:{type:be,delay:Yt}});var Tm=$h;var km=class extends ki{render(){super.render(),this.createSegments()}traverseDataPoints(t){let e=this.options.series,i=io(e),s=!this.options.invertAxes;for(let o=0;o<e.length;o++){let r=e[o],a=0,l=0;for(let c=0;c<i;c++){let h=lt.current.bindPoint(r,c),d=h.valueFields.value,p=h.fields.summary,u=a,m;p?p.toLowerCase()==="total"?(h.valueFields.value=a,u=0,m=a):(h.valueFields.value=l,m=u-l,l=0):Y(d)&&(l+=d,a+=d,m=a),t(h,{category:this.categoryAxis.categoryAt(c),categoryIx:c,series:r,seriesIx:o,total:a,runningTotal:l,from:u,to:m,isVertical:s})}}}updateRange(t,e){super.updateRange({value:e.to},e)}aboveAxis(t){return t.value>=0}plotRange(t){return[t.from,t.to]}createSegments(){let t=this.options.series,e=this.seriesPoints,i=this.segments=[];for(let s=0;s<t.length;s++){let o=t[s],r=e[s];if(r){let a;for(let l=0;l<r.length;l++){let c=r[l];if(c&&a){let h=new Tm(a,c,o);i.push(h),this.append(h)}a=c}}}}},Em=km;function ZS(n,t,e){let i=n[String(t)];return i?i(e):null}var Jh=ZS;function qS(n,t){let e=0,i=0,s=0,o=0,r=0,a,l,c=Number.MAX_VALUE,h=Number.MIN_VALUE;for(let d=0;d<n.length;d++){let p=n[d],{xValue:u,yValue:m}=t(p);isFinite(u)&&u!==null&&isFinite(m)&&m!==null&&(c=Math.min(u,c),h=Math.max(u,h),r++,e+=u,i+=m,s+=Math.pow(u,2),o+=u*m)}return r>0&&(a=(r*o-e*i)/(r*s-Math.pow(e,2)),l=(i-a*e)/r),{slope:a,intercept:l,count:r,xMin:c,xMax:h}}var Ae=qS;var QS=(n,t)=>n.every(({valueFields:e})=>!Wt(e[t])||e[t]>0),Wi=QS;function KS(n,t){let e=[],i=t.totalRangeIndices(),s=t.currentRangeIndices(),o={min:Math.floor(Math.max(s.min-1,i.min)),max:Math.ceil(Math.min(s.max+2,i.max))};for(let r=o.min;r<o.max;r++){let a=r+1;e[r]={category:t.categoryAt(r,!0),value:n(a)}}return e}var Xi=KS;function $S(n){let{options:t,categoryAxis:e,seriesValues:i}=n,s=tA({seriesValues:i,categoryAxis:e,options:t});return s?Object.assign({},t,{type:"line",data:s,categoryField:"category",field:"value"}):null}var JS=n=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:Math.log(e[n])});function tA({seriesValues:n,categoryAxis:t,options:e}){let i=n();if(!Wi(i,e.field))return null;let{slope:s,intercept:o,count:r}=Ae(i,JS(e.field));if(r>0){let a=Math.exp(o),l=s;return Xi(c=>a*Math.exp(l*c),t)}return null}var y0=$S;function eA(n){let{options:t,categoryAxis:e,seriesValues:i}=n,s=sA({seriesValues:i,categoryAxis:e,options:t});return s?Object.assign({},t,{type:"line",data:s,categoryField:"category",field:"value"}):null}var iA=n=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:e[n]});function sA({seriesValues:n,categoryAxis:t,options:e}){let{slope:i,intercept:s,count:o}=Ae(n(),iA(e.field));return o>0?Xi(r=>i*r+s,t):null}var b0=eA;function oA(n){let{options:t,categoryAxis:e,seriesValues:i}=n,s=rA({seriesValues:i,categoryAxis:e,options:t});return s?Object.assign({},t,{type:"line",data:s,categoryField:"category",field:"value"}):null}var nA=n=>({categoryIx:t,valueFields:e})=>({xValue:Math.log(t+1),yValue:e[n]});function rA({seriesValues:n,categoryAxis:t,options:e}){let{slope:i,intercept:s,count:o}=Ae(n(),nA(e.field));if(o>0){let r=i,a=s;return Xi(l=>r*Math.log(l)+a,t)}return null}var w0=oA;function aA(n,t,e){let i=[],s=[],o=Math.max(qn,e)-1,r=0,a=0;for(let l=0;l<n.length;l++){let c=n[l],{xValue:h,yValue:d}=t(c);if(isFinite(d)&&d!==null?(s.push(d),a+=d,r=Math.max(l,r)):s.push(null),l>=o){let p=s.filter(m=>m!==null).length,u=s.shift()||0;if(p>0){let m=a/p;i.push([h,m]),a-=u;continue}}i.push([h,null])}return i.slice(0,r+1)}var td=aA;function lA(n){let{options:t}=n,e=dA(n);return e?Object.assign({},t,{type:"line",data:e,categoryField:"category",field:"value"}):null}var cA=n=>({categoryIx:t,valueFields:e})=>({xValue:t,yValue:e[n]});function hA({options:n,categoryAxis:t,seriesValues:e}){let i=(n.trendline||{}).period||qn,s=t.totalRangeIndices(),o=t.currentRangeIndices(),r={min:Math.floor(Math.max(o.min-i,s.min)),max:Math.ceil(Math.min(o.max+i+2,s.max))};return td(e(r),cA(n.field),i)}function dA(n){let{categoryAxis:t}=n,e=hA(n),i=[];return e.forEach(([s,o])=>{i[s]={category:t.categoryAt(s,!0),value:o}}),i.length>0?i:null}var _0=lA;var C0=1,pA=6;function uA(n,t,e){let i=Math.min(Math.max(e||C0,C0),pA)+1,s=new Lc,o=new Lc,r=0,a=Number.MAX_VALUE,l=Number.MIN_VALUE,c=d=>d,h=[];for(let d=0;d<n.length;d++){let p=n[d],{xValue:u,yValue:m}=t(p);if(isFinite(u)&&u!==null&&isFinite(m)&&m!==null){a=Math.min(u,a),l=Math.max(u,l),r++,o.set(d,0,m),s.set(d,0,1),s.set(d,1,u);for(let g=2;g<=i;g++)s.set(d,g,Math.pow(s.get(d,1),g))}else s.set(d,0,0)}return s.width=Math.min(i,r),r>0&&(h=fA(s,o),c=d=>h.reduce((p,u,m)=>p+u*Math.pow(d,m),0)),{coefficients:h,count:r,valueMapper:c,xMin:a,xMax:l}}function fA(n,t){let e=n.transpose(),i=e.multiply(n).inverse().multiply(e).multiply(t),s=[];for(let o=0;o<i.height;o++)s.push(i.get(o,0));return s}var ed=uA;function mA(n){let{options:t,categoryAxis:e,seriesValues:i}=n,s=xA({seriesValues:i,categoryAxis:e,options:t});return s?Object.assign({},t,{type:"line",data:s,categoryField:"category",field:"value"}):null}var gA=n=>({categoryIx:t,valueFields:e})=>({xValue:t+1,yValue:e[n]});function xA({seriesValues:n,categoryAxis:t,options:e}){let i=(e.trendline||{}).order,{count:s,valueMapper:o}=ed(n(),gA(e.field),i);return s>0?Xi(r=>o(r),t):null}var S0=mA;function vA(n){let{options:t,categoryAxis:e,seriesValues:i}=n,s=bA({seriesValues:i,categoryAxis:e,options:t});return s?Object.assign({},t,{type:"line",data:s,categoryField:"category",field:"value"}):null}var yA=n=>({categoryIx:t,valueFields:e})=>({xValue:Math.log(t+1),yValue:Math.log(e[n])});function bA({seriesValues:n,categoryAxis:t,options:e}){let i=n();if(!Wi(i,e.field))return null;let{slope:s,intercept:o,count:r}=Ae(i,yA(e.field));if(r>0){let a=Math.exp(o),l=s;return Xi(c=>a*Math.pow(c,l),t)}return null}var A0=vA;var sn={};sn[Fa]=y0;sn[Na]=b0;sn[Ba]=w0;sn[Va]=_0;sn[za]=S0;sn[Ha]=A0;var T0=sn;var Im=[je,gs,qs,vs],k0=[qe,xs].concat(Im),il=class extends ue{initFields(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new no,this._seriesPointsCache={},this._currentPointsCache={},t.length>0){this.invertAxes=z(t[0].type,[ae,Si,xs,gs,vs,Qs,Ys,Ks]);for(let e=0;e<t.length;e++){let i=t[e].stack;if(i&&i.type==="100%"){this.stack100=!0;break}}}}render(t=this.panes){this.series=[...this.originalSeries],this.createCategoryAxes(t),this.aggregateCategories(t),this.createTrendlineSeries(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)}removeAxis(t){let e=t.options.name;super.removeAxis(t),t instanceof ye?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis}trendlineFactory(t,e){let i=this.seriesCategoryAxis(t),s=this.seriesValues.bind(this,e.index),o=Jh(T0,t.type,{options:t,categoryAxis:i,seriesValues:s});return o&&(o.categoryAxis=e.categoryAxis,o.valueAxis=e.valueAxis,this.filterSeries(o,i))}trendlineAggregateForecast(){return this.series.map(t=>(t.trendline||{}).forecast).filter(t=>t!==void 0).reduce((t,e)=>({before:Math.max(t.before,e.before||0),after:Math.max(t.after,e.after||0)}),{before:0,after:0})}seriesValues(t,e){let i=[],s=this.srcSeries[t],o=this.seriesCategoryAxis(s);Re(o.options.type,ge)&&(this._seriesPointsCache={},this._currentPointsCache={},o.options.dataItems=[],s=this.aggregateSeries(s,o,o.totalRangeIndices()));let a=e?e.min:0,l=e?e.max:s.data.length;for(let c=a;c<l;c++){let h=this.bindPoint(s,c);i.push({categoryIx:c,category:h.fields.category,valueFields:h.valueFields})}return i}createCharts(t){let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);if(!r)continue;let a=this.groupSeriesByCategoryAxis(r);for(let l=0;l<a.length;l++)this.createChartGroup(a[l],s)}}createChartGroup(t,e){this.createAreaChart(pt(t,[je,gs]),e),this.createRangeAreaChart(pt(t,[qs,vs]),e),this.createBarChart(pt(t,[De,ae]),e),this.createRangeBarChart(pt(t,[Uo,Qs]),e),this.createBulletChart(pt(t,[Si,$s]),e),this.createCandlestickChart(pt(t,us),e),this.createBoxPlotChart(pt(t,[jo,Ks]),e),this.createOHLCChart(pt(t,fs),e),this.createWaterfallChart(pt(t,[Go,Ys]),e),this.createLineChart(pt(t,[qe,xs]),e)}aggregateCategories(t){let e=[...this.series],i=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let s=0;s<e.length;s++){let o=e[s];if(!this.isTrendline(o)){let r=this.seriesCategoryAxis(o),a=this.findPane(r.options.pane);(Re(r.options.type,ge)||o.categoryField)&&z(a,t)?o=this.aggregateSeries(o,r,r.currentRangeIndices()):o=this.filterSeries(o,r)}i.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=i}filterSeries(t,e){let i=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,i),!(b(e.options.min)||b(e.options.max)))return t;let s=e.currentRangeIndices(),o=z(t.type,k0),r=f({},t);return r.data=(r.data||[]).slice(s.min,s.max+1),o&&Xa(r,s,i,a=>({item:t.data[a],category:e.categoryAt(a,!0),categoryIx:a-s.min}),a=>b(t.data[a])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(t,e){let i=`${t.index};${e.categoriesHash()}`;if(this._seriesPointsCache&&this._seriesPointsCache[i])return this._currentPointsCache[i]=this._seriesPointsCache[i],this._seriesPointsCache[i];let s=e.options,o=s.srcCategories,r=Re(s.type,ge),a=t.data,l=[];r||e.indexCategories();for(let c=0;c<a.length;c++){let h=lt.current.bindPoint(t,c).fields.category;if(r&&(h=Jn(h,a[c],this.chartService.intl)),b(h)||(h=o[c]),b(h)&&h!==null){let d=e.totalIndex(h);l[d]=l[d]||{items:[],category:h},l[d].items.push(c)}}return this._currentPointsCache[i]=l,l}aggregateSeries(t,e,i){if(!t.data.length)return t;let o=this.seriesSourcePoints(t,e),r=f({},t),a=new fm(f({},t),lt.current,Gi.current),l=r.data=[],c=e.options.dataItems||[],h=d=>{let p=d-i.min,u=o[d];if(u||(u=o[d]={}),u.categoryIx=p,!u.item){let m=e.categoryAt(d,!0);u.category=m,u.item=a.aggregatePoints(u.items,m)}return u};for(let d=i.min;d<=i.max;d++){let p=h(d);l[p.categoryIx]=p.item,p.items&&p.items.length&&(c[p.categoryIx]=p.item)}return z(r.type,k0)&&Xa(r,i,e.totalCount(),h,d=>o[d]),e.options.dataItems=c,r}appendChart(t,e){let i=t.options.series,s=this.seriesCategoryAxis(i[0]),o=s.options.categories,r=Math.max(0,io(i)-o.length);if(r>0)for(o=s.options.categories=s.options.categories.slice(0);r--;)o.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),super.appendChart(t,e)}seriesPaneName(t){let e=this.options,i=t.axis,s=[].concat(e.valueAxis),o=Ut(s,function(c){return c.name===i})[0],a=((e.panes||[{}])[0]||{}).name||"default";return(o||{}).pane||a}seriesCategoryAxis(t){let e=t.categoryAxis,i=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+e);return i}stackableChartOptions(t,e){let i=t.some(r=>r.stack),s=t.some(r=>r.stack&&r.stack.type==="100%"),o=e.options.clip;return{defaultStack:t[0].stack,isStacked:i,isStacked100:s,clip:o}}groupSeriesByCategoryAxis(t){let e=[],i={};for(let o=0;o<t.length;o++){let r=t[o].categoryAxis||"$$default$$";Os(i,r)||(i[r]=!0,e.push(r))}let s=[];for(let o=0;o<e.length;o++){let r=e[o],a=wA(t,r,o);a.length!==0&&s.push(a)}return s}createBarChart(t,e){if(t.length===0)return;let i=t[0],s=new ki(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(t,e)));this.appendChart(s,e)}createRangeBarChart(t,e){if(t.length===0)return;let i=t[0],s=new gm(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,e)}createBulletChart(t,e){if(t.length===0)return;let i=t[0],s=new rm(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createLineChart(t,e){if(t.length===0)return;let i=new Ko(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}createAreaChart(t,e){if(t.length===0)return;let i=new qf(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t,e)));this.appendChart(i,e)}createRangeAreaChart(t,e){if(t.length===0)return;let i=new wm(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(i,e)}createOHLCChart(t,e){if(t.length===0)return;let i=t[0],s=new Am(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createCandlestickChart(t,e){if(t.length===0)return;let i=t[0],s=new en(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createBoxPlotChart(t,e){if(t.length===0)return;let i=t[0],s=new tm(this,{invertAxes:this.invertAxes,gap:i.gap,series:t,spacing:i.spacing,clip:e.options.clip});this.appendChart(s,e)}createWaterfallChart(t,e){if(t.length===0)return;let i=t[0],s=new Em(this,{series:t,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(s,e)}axisRequiresRounding(t,e){let i=pt(this.series,mh);for(let s=0;s<this.series.length;s++){let o=this.series[s];if(z(o.type,Im)){let r=o.line;r&&r.style===Gs&&i.push(o)}}for(let s=0;s<i.length;s++){let o=i[s].categoryAxis||"";if(o===t||!o&&e===0)return!0}}aggregatedAxis(t,e){let i=this.series;for(let s=0;s<i.length;s++){let o=i[s].categoryAxis||"";if((o===t||!o&&e===0)&&i[s].categoryField)return!0}}createCategoryAxesLabels(){let t=this.axes;for(let e=0;e<t.length;e++)t[e]instanceof ye&&t[e].createLabels()}createCategoryAxes(t){let e=this.invertAxes,i=[].concat(this.options.categoryAxis),s=[];for(let r=0;r<i.length;r++){let a=i[r],l=this.findPane(a.pane);if(z(l,t)){let{name:c,categories:h=[]}=a;a=f({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?rt:0},a),b(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(c,r)&&(a.justified=!1);let d;if(tr(a,h[0])?(a._forecast=this.trendlineAggregateForecast(),d=new _i(a,this.chartService)):d=new ye(a,this.chartService),i[r].categories=d.options.srcCategories,c){if(this.namedCategoryAxes[c])throw new Error(`Category axis with name ${c} is already defined`);this.namedCategoryAxes[c]=d}d.axisIndex=r,s.push(d),this.appendAxis(d)}}let o=this.categoryAxis||s[0];this.categoryAxis=o,e?this.axisY=o:this.axisX=o}isJustified(){let t=this.series;for(let e=0;e<t.length;e++){let i=t[e];if(!z(i.type,Im))return!1}return!0}createValueAxes(t){let e=this.valueAxisRangeTracker,i=e.query(),s=[].concat(this.options.valueAxis),o=this.invertAxes,r={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let c=0;c<s.length;c++){let h=s[c],d=this.findPane(h.pane);if(z(d,t)){let p=h.name,u=Re(h.type,Zo)?{min:.1,max:1}:{min:0,max:1},m=e.query(p)||i||u;c===0&&m&&i&&(m.min=Math.min(m.min,i.min),m.max=Math.max(m.max,i.max));let g;Re(h.type,Zo)?g=Hs:g=te;let w=new g(m.min,m.max,f({},r,h),this.chartService);if(p){if(this.namedValueAxes[p])throw new Error(`Value axis with name ${p} is already defined`);this.namedValueAxes[p]=w}w.axisIndex=c,a.push(w),this.appendAxis(w)}}let l=this.valueAxis||a[0];this.valueAxis=l,o?this.axisX=l:this.axisY=l}_dispatchEvent(t,e,i){let s=t._eventCoordinates(e),o=new N(s.x,s.y),r=this.pointPane(o),a=[],l=[];if(!r)return;let c=r.axes;for(let h=0;h<c.length;h++){let d=c[h];d.getValue?eo(l,d.getValue(o)):eo(a,d.getCategory(o))}a.length===0&&eo(a,this.categoryAxis.getCategory(o)),a.length>0&&l.length>0&&t.trigger(i,{element:Qt(e),originalEvent:e,category:Ti(a),value:Ti(l)})}pointPane(t){let e=this.panes;for(let i=0;i<e.length;i++){let s=e[i];if(s.contentBox.containsPoint(t))return s}}updateAxisOptions(t,e){E0(this.options,t,e),E0(this.originalOptions,t,e)}_pointsByVertical(t,e=0){return this.invertAxes?this._siblingsBySeriesIndex(t.series.index,e):this._siblingsByPointIndex(t.getIndex())}_pointsByHorizontal(t,e=0){if(this.invertAxes)return this._siblingsByPointIndex(t.getIndex());let i=this._siblingsBySeriesIndex(t.series.index,e);return this.chartService.rtl?i.reverse():i}_siblingsByPointIndex(t){let e=this.charts,i=[];for(let s=0;s<e.length;s++){let o=e[s];if(o.pane&&o.pane.options.name==="_navigator")continue;let r=o.points.filter(a=>a&&a.visible!==!1&&a.getIndex()===t);i.push(...r.sort(this._getSeriesCompareFn(r[0])))}return i}_siblingsBySeriesIndex(t,e){let i=ss(t+e,this.series.length);return this.pointsBySeriesIndex(i)}_getSeriesCompareFn(t){let e=this._isInStackedSeries(t);return e&&this.invertAxes||!e&&!this.invertAxes?(i,s)=>i.box.center().x-s.box.center().x:(i,s)=>i.box.center().y-s.box.center().y}_isInStackedSeries(t){let e=z(t.series.type,[je,gs,qs,vs,qe,xs,ms,Zs]),i=z(t.series.type,[De,ae]);return e||i&&t.options.isStacked}};function E0(n,t,e){let i=t instanceof ye?[].concat(n.categoryAxis):[].concat(n.valueAxis);f(i[t.axisIndex],e)}function wA(n,t,e){return Ut(n,function(i){return e===0&&!i.categoryAxis||i.categoryAxis===t})}v(il,{categoryAxis:{},valueAxis:{}});f(il.prototype,Ei);var ei=il;var Dm=class extends R{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(t,e){let i=[].concat(t);this.hide();for(let s=0;s<i.length;s++){let o=i[s];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,e),this._points.push(o))}}togglePointHighlight(t,e,i){let s=(t.options.highlight||{}).toggle;if(s){let o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:_A,visual:t.highlightVisual(),show:e};s(o),o._defaultPrevented||t.toggleHighlight(e,i)}else t.toggleHighlight(e,i)}hide(){let t=this._points;for(;t.length;)this.togglePointHighlight(t.pop(),!1)}isHighlighted(t){let e=this._points;for(let i=0;i<e.length;i++){let s=e[i];if(t===s)return!0}return!1}};function _A(){this._defaultPrevented=!0}var Rm=Dm;function sl(n,t){let e=(t||"").toLowerCase(),i=n.event;return e==="none"&&!(i.ctrlKey||i.shiftKey||i.altKey)||i[e+"Key"]}function on(n){let t={};for(let e=0;e<n.length;e++){let i=n[e];i.axis.options.name&&(t[i.axis.options.name]={min:i.range.min,max:i.range.max})}return t}var id=class extends R{constructor(t,e){super(),this.plotArea=t,this.options=f({},this.options,e)}start(t){return this._active=sl(t,this.options.key),this._active}move(t){if(this._active){let e=this.axisRanges=this._panAxes(t,P).concat(this._panAxes(t,L));if(e.length)return this.axisRanges=e,on(e)}}end(){let t=this._active;return this._active=!1,t}pan(){let{plotArea:t,axisRanges:e}=this;if(e.length){for(let i=0;i<e.length;i++){let s=e[i];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){delete this.plotArea}_panAxes(t,e){let i=this.plotArea,s=-t[e].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(s!==0&&(o||"").toLowerCase()!==e){let a=i.axes;for(let l=0;l<a.length;l++){let c=a[l];if(e===P&&!c.options.vertical||e===L&&c.options.vertical){let h=c.pan(s);h&&(h.limitRange=!0,r.push({axis:c,range:h}))}}}return r}};id.prototype.options={key:"none",lock:"none"};var Pm=id;var sd=class extends R{constructor(t,e){super(),this.chart=t,this.options=f({},this.options,e),this.createElement()}createElement(){let t=this._marquee=document.createElement("div");t.className="k-marquee";let e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(t){bt(this._marquee,t)}start(t){if(sl(t,this.options.key)){let e=this.chart,i=e._eventCoordinates(t),s=this._zoomPane=e._plotArea.paneByPoint(i),o=s?s.chartsBox().clone():null;if(s&&o){let r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){let t=this.chart.element,{paddingLeft:e,paddingTop:i}=bt(t,["paddingLeft","paddingTop"]),s=Fi(t);return{left:e+s.left,top:i+s.top}}move(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))}end(t){if(this._zoomPane){let i=this._elementOffset(),s=this._selectionPosition(t);s.left-=i.left,s.top-=i.top;let o={x:s.left,y:s.top},r={x:s.left+s.width,y:s.top+s.height};return this._updateAxisRanges(o,r),this.removeElement(),delete this._zoomPane,on(this.axisRanges)}}zoom(){let t=this.axisRanges;if(t&&t.length){let e=this.chart._plotArea;for(let i=0;i<t.length;i++){let s=t[i];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(t,e){let i=(this.options.lock||"").toLowerCase(),s=[],o=this._zoomPane.axes;for(let r=0;r<o.length;r++){let a=o[r],l=a.options.vertical;if(!(i===P&&!l)&&!(i===L&&l)&&b(a.axisIndex)){let c=a.pointsRange(t,e);c&&s.push({axis:a,range:c})}}this.axisRanges=s}_selectionPosition(t){let e=this._zoomPaneClipBox,i={x:t.x.startLocation,y:t.y.startLocation},{x:{location:s},y:{location:o}}=t,r=(this.options.lock||"").toLowerCase(),a=Math.min(i.x,s),l=Math.min(i.y,o),c=Math.abs(i.x-s),h=Math.abs(i.y-o);return r===P&&(a=e.x1,c=e.width()),r===L&&(l=e.y1,h=e.height()),s>e.x2&&(c=e.x2-i.x),s<e.x1&&(c=i.x-e.x1),o>e.y2&&(h=e.y2-i.y),o<e.y1&&(h=i.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(l,e.y1),width:c,height:h}}};sd.prototype.options={key:"shift",lock:"none"};var Lm=sd;var CA=.01,SA=.9,AA=.3,Mm=class extends R{constructor(t,e){super(),this.chart=t,this.options=f({rate:AA},this.options,e)}updateRanges(t,e){let i=(this.options.lock||"").toLowerCase(),s=[],o=this.chart._plotArea.axes;for(let r=0;r<o.length;r++){let a=o[r],l=a.options.vertical;if(!(i===P&&!l)&&!(i===L&&l)&&a.zoomRange){let c=M(this.options.rate,CA,SA),h=a.zoomRange(-t*c,e);h&&s.push({axis:a,range:h})}}return this.axisRanges=s,on(s)}zoom(){let t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(let i=0;i<t.length;i++){let s=t[i];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){delete this.chart}},Om=Mm;var TA=n=>n?Ls:Io,Fm=class extends H{constructor(t,e){super(t),this.chartService=e}render(){let{children:t,options:e}=this,i=e.vertical;this.visual=new x.Layout(null,{spacing:i?0:e.spacing,lineSpacing:i?e.spacing:0,orientation:i?ly:oa,reverse:e.rtl,alignItems:i?TA(e.rtl):B});for(let s=0;s<t.length;s++){let o=t[s];o.reflow(new S),o.renderVisual()}}reflow(t){this.visual.rect(t.toRect()),this.visual.reflow();let e=this.visual.clippedBBox();e?this.box=Ze(e):this.box=new S}renderVisual(){this.addVisual()}createVisual(){}},Nm=Fm;var Yi=10,Cs=2,od=class extends Lt{visualStyle(){let t=this.markerOptions(),e=t.border;return{stroke:{width:e.width,color:e.color,opacity:F(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}markerOptions(){return this.options}markerHighlightOptions(){let t=this.markerOptions(),e=t.highlight.border.width;return f({},t,{background:t.border.color},t.highlight,t.type===Tn?{background:t.highlight.border.color,border:{color:t.highlight.background,width:e/2},width:t.width,height:t.height,margin:{top:0,left:0}}:{})}createHighlight(){let t=new Lt(this.markerHighlightOptions()),e=this.paddingBox.clone();return t.reflow(e.pad(t.options.border.width)),this.highlight=[t.getElement()],this.highlight}};v(od,{border:{width:Cs},width:Yi-Cs,height:Yi-Cs,background:q,margin:{top:-1,left:-1},vAlign:U,align:V,highlight:{width:Yi,height:Yi,border:{color:q,width:Cs}}});var I0=od;var nd=class extends Lt{getElement(){let t=new x.Group,e=new x.MultiPath(this.visualStyle()),{paddingBox:i}=this,s=i.height()/2;return e.moveTo(i.x1,i.y1+s).lineTo(i.x1,i.y2).lineTo(i.x2,i.y2),t.append(e),t}};v(nd,{width:15,height:15,align:Q,vAlign:X,margin:{right:-2,bottom:2}});var rd=nd;var ad=class extends Lt{getElement(){let t=new x.Group,e=new x.MultiPath({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),i=this.paddingBox,s=i.center().y;return e.moveTo(i.x1,s).lineTo(i.x2,s),t.append(e),t}createHighlight(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight}createHighlightLine(){let t=f({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),e=new rd(t);return e.reflow(this.parent.paddingBox.clone()),this.highlightLine=e.getElement(),this.highlightLine}createHighlightMarker(){let t=f({},{background:this.options.background},this.options.highlight.markers),e=new Lt(t),i=this.parent.paddingBox,s=t.border.width,o=this.parent.box.clone();return o.pad({left:s-i.x1,top:s-i.y1}),e.reflow(o),this.highlightMarker=e.getElement(),this.highlightMarker}};v(ad,{border:{width:0},type:ay,align:V,vAlign:B,highlight:{border:{width:Cs},markers:{type:Ot,width:Yi,height:Yi,border:{width:Cs,color:q},align:V,vAlign:U}}});var D0=ad;var ld=class extends Lt{createHighlight(){let t=f({},{background:this.options.background},this.options.highlight.markers),e=new Lt(t),i=this.paddingBox.clone(),s=this.parent.box.clone();return i.align(s,P,V),i.align(s,L,U),e.reflow(i),this.highlight=[e.getElement()],this.highlight}};v(ld,{highlight:{markers:{type:Ot,width:Yi,height:Yi,border:{width:Cs,color:q},margin:{top:-3,left:-3}}}});var R0=ld;var cd=class extends Ee{constructor(t){super(t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=yi(),this.options.accessibility.ariaChecked=t.active}createContainer(){this.container=new Oo({vertical:!1,wrap:!1,align:B,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.markerWrap=new Ee({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))}createMarkerArea(){let t=this.options,{markerColor:e,line:i={}}=t,s={border:{color:i.color||e,opacity:i.opacity,dashType:i.dashType}};return this._createLine(s)||this._createMarkerLine(s,i)||this._createSquare()}markerOptions(){let t=this.options,{markers:e={},markerColor:i}=t,{border:s={}}=e;return e.zIndex=void 0,f({},e,{border:{color:s.color||i},highlight:t.highlight.markers})}_highlightOptions(){let t=this.options;return f({markers:{type:t.markers.type}},t.highlight)}_createLine(t){let e=this.options;return e.type===qe&&!e.markers.visible&&(this._line=new D0(f({},{background:e.markerColor,highlight:this._highlightOptions()},t,e.line)),this.markerWrap.append(this._line)),this._line}_createMarkerLine(t,e){return this.options.type===qe&&(this._markerLineArea=new rd(f({},{border:{width:e.height}},t)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea}_reduceSize(t,e,i=.6){typeof t[e]=="number"&&(t[e]=t[e]*i)}_createSquare(){let t=this.options;if(t.type===je){let e=t.pattern||(t.series||{}).pattern;e&&(typeof e=="function"&&(e=e(t.series)),e=structuredClone(e),this._reduceSize(e,"gap"),this._reduceSize(e,"width"),this._reduceSize(e,"radius")),this._square=new R0(Object.assign({},{border:t.border,vAlign:t.markers.visible?X:B,highlight:this._highlightOptions()},t.area,{pattern:e,background:t.area.background||t.markerColor})),this.markerWrap.append(this._square)}return this._square}_createMarker(){return new I0(this.markerOptions())}_highlightMarkers(){this.options.active&&this._toggleHighlight(!0)}_restoreMarkers(){this._toggleHighlight(!1)}_toggleHighlight(t){if(!this.options.highlight.visible)return;let e=this._marker||this._square||this._line;if(e&&e===this._line&&this._line.visual.visible(!t),e){let i=e.highlight;i||(i=e.createHighlight(),i.forEach(s=>s&&this.markerWrap.appendVisual(s))),i.forEach(s=>s&&s.visible(t))}}createLabel(){let t=this.options,e=f({},t.labels);this.container.append(new It(t.text,e))}getAriaLabelText(){return this.options.text}focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()}clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()}renderComplete(){super.renderComplete();let t=this.options.cursor||{},e=this._itemOverlay=x.Path.fromRect(this.container.box.toRect(),{fill:{color:q,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)}click(t,e){let i=this.eventArgs(e);!t.trigger(gh,i)&&e&&e.type==="contextmenu"&&e.preventDefault()}over(t,e){let i=this.eventArgs(e);return t.trigger($y,i)||(t._legendItemHover(i.seriesIndex,i.pointIndex),this._highlightMarkers()),!0}out(t,e){t._unsetActivePoint(),this._restoreMarkers(),t.trigger(Jy,this.eventArgs(e))}eventArgs(t){let e=this.options;return{element:Qt(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}createVisual(){super.createVisual();let t=this.options;if(this.options.visible){let e=f({ariaLabel:t.accessibility.ariaLabel!==void 0?t.accessibility.ariaLabel:t.text},t.accessibility);Mo(this.visual,e)}}renderVisual(){let t=this.options,e=t.visual;e?(this.visual=e({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{type:t.type,markers:f({background:this.options.markerColor},this.markerOptions()),labels:t.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();let i=this.visual;return delete this.visual,i}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):super.renderVisual()}createFocusHighlight(t){let e=t.stroke.width;return x.Path.fromRect(this.container.box.pad(e/2).toRect(),t)}};v(cd,{accessibility:{role:s0,className:o0,ariaRoleDescription:n0},markers:{},highlight:{visible:!0,markers:{}}});var Bm=cd;var hd="custom",dd=class extends H{constructor(t,e={}){super(t),this.chartService=e,z(this.options.position,[U,Q,X,V,hd])||(this.options.position=Q),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}createContainers(){let t=this.options,{position:e,align:i}=t,s=e,o=B;e===hd?s=V:z(e,[U,X])?(i===Io?s=V:i===Ls?s=Q:s=B,o=e):i&&(i===Io?o=U:i===Ls&&(o=X)),this.container=new Ee({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:s,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new Ee({vAlign:o,align:s,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)}createItems(){let t=this.getService(),e=this.options,i=this.isVertical(),s=new Nm({vertical:i,spacing:e.spacing,rtl:t.rtl},t),o=e.data;e.reverse&&(o=o.slice(0).reverse());let r=o.length;for(let a=0;a<r;a++){let l=o[a],{markers:c={},dashType:h,legendItem:d,opacity:p}=l.series||{},u=f({visible:c.visible!==!1,type:Ot},c);delete u.size;let m=f({},{markers:u,labels:e.labels,rtl:t.rtl,line:Object.assign({},{dashType:h},e.line),area:Object.assign({},{opacity:p},e.area),opacity:p,accessibility:e.accessibility,focusHighlight:e.focusHighlight},e.item,d,l,{markers:e.markers});s.append(new Bm(m))}s.render(),this.itemsContainer.append(s)}isVertical(){let{orientation:t,position:e}=this.options;return e===hd&&t!==oa||(b(t)?t!==oa:z(e,[V,Q]))}hasItems(){return this.container.children[0].children.length>0}getItems(){return this.itemsContainer.children[0].children}reflow(t){let e=this.options,i=t.clone();if(!this.hasItems()){this.box=i;return}e.position===hd?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i),this.hasTitle()&&this.title.reflow(new S(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))}containerReflow(t){let{options:e,container:i}=this,{position:s,width:o,height:r}=e,a=s===U||s===X?P:L,l=this.isVertical(),c=t.clone(),h=t.clone();(s===V||s===Q)&&(h.y1=c.y1=0),l&&r?(h.y2=h.y1+r,h.align(c,L,i.options.vAlign)):!l&&o&&(h.x2=h.x1+o,h.align(c,P,i.options.align)),i.reflow(h),h=i.box;let d=h.clone();(e.offsetX||e.offsetY)&&(h.translate(e.offsetX,e.offsetY),i.reflow(h)),d[a+1]=t[a+1],d[a+2]=t[a+2],this.box=d}containerCustomReflow(t){let{options:e,container:i}=this,{offsetX:s,offsetY:o,width:r,height:a}=e,l=this.isVertical(),c=t.clone();l&&a?c.y2=c.y1+a:!l&&r&&(c.x2=c.x1+r),i.reflow(c),c=i.box,i.reflow(new S(s,o,s+c.width(),o+c.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(t){let e=f({},{color:J,position:U,align:B},t),i=e.text;if(!(!t||t.visible===!1||!t.text)){if(b(e)&&e.visible){let s=mt(e);s?i=s({text:i}):e.format&&(i=this.chartService.format.auto(e.format,i))}this.title=new It(i,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new Oo({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return!!(this.options.title&&this.options.title.visible!==!1&&this.options.title.text)}appendTitleLayoutContent(){this.options.title.position===X?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}};v(dd,{position:Q,data:[],offsetX:0,offsetY:0,margin:Z(2),padding:Z(5),border:{color:J,width:0},item:{cursor:sa,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:sa,opacity:1},area:{type:ry,align:Q,width:15,height:15}});var ol=dd;var nl=class extends R{constructor(){super(),this._registry=[]}register(t,e){this._registry.push({type:t,seriesTypes:e})}create(t,e,i){let s=this._registry,o=s[0],r;for(let a=0;a<s.length;a++){let l=s[a];r=pt(t,l.seriesTypes);let c=pt(t,ys);if(r.length-c.length>0){o=l;break}}return new o.type(r,e,i)}};nl.current=new nl;var pi=nl;var kA=3,EA=.1;function Ss(n){let t=document.createElement("div");return n&&(t.className=n),t}function P0(n){let t=n;for(;t&&!Oi(t,"k-handle");)t=t.parentNode;return t}var pd=class extends R{constructor(t,e,i,s){super();let o=t.element;this.options=f({},this.options,i),this.chart=t,this.observer=s,this.chartElement=o,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof _i,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(t){return this.categoryAxis.pane===t}createElements(){let t=this.options,e=this.wrapper=Ss("k-selector k-pointer-events-none");bt(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});let i=this.selection=Ss("k-selection k-pointer-events-none");this.leftMask=Ss("k-mask k-pointer-events-none"),this.rightMask=Ss("k-mask k-pointer-events-none"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(i);let s=this.body=Ss("k-selection-bg k-pointer-events-none");i.appendChild(s);let o=this.leftHandle=Ss("k-handle k-left-handle k-pointer-events-auto"),r=this.rightHandle=Ss("k-handle k-right-handle k-pointer-events-auto");o.appendChild(Ss()),r.appendChild(Ss()),i.appendChild(o),i.appendChild(r),this.chartElement.appendChild(e);let a=bt(i,["borderLeftWidth","borderRightWidth","height"]),l=bt(o,"height").height,c=bt(r,"height").height;t.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}},bt(o,{top:(a.height-l)/2}),bt(r,{top:(a.height-c)/2}),e.style.cssText=e.style.cssText}bindEvents(){this.options.mousewheel!==!1&&(this._mousewheelHandler=this._mousewheel.bind(this),Ro(this.chartElement,{[Zn]:this._mousewheelHandler})),this._domEvents=va.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){let{options:t,categoryAxis:e}=this,i=e.pane.chartsBox(),s=this.chart.chartService.intl;this._dateAxis&&f(t,{min:Pt(s,t.min),max:Pt(s,t.max),from:Pt(s,t.from),to:Pt(s,t.to)});let{paddingLeft:o,paddingTop:r}=bt(this.chartElement,["paddingLeft","paddingTop"]);this.options=f({},{width:i.width(),height:i.height()+EA,padding:{left:o,top:r},offset:{left:i.x1+o,top:i.y1+r},from:t.min,to:t.max},t)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Po(this.chartElement,{[Zn]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}}_pointInPane(t,e){let i=this.categoryAxis.pane.box,s=this.chart._toModelCoordinates(t,e);return i.containsPoint(s)}_start(t){let e=this.options,i=Qt(t);if(this._state||!i)return;let s=Ec(t);if(!this._pointInPane(s.x,s.y))return;let r=P0(i),a=this.body.getBoundingClientRect(),l=!r&&s.x>=a.x&&s.x<=a.x+a.width&&s.y>=a.y&&s.y<=a.y+a.height;this.chart._unsetActivePoint(),this._state={moveTarget:r,startLocation:t.x?t.x.location:0,inBody:l,range:{from:this._index(e.from),to:this._index(e.to)}};let c=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(ja,c)&&(this._state=null)}_press(t){let e;this._state?e=this._state.moveTarget:e=P0(Qt(t)),e&&st(e,"k-handle-active")}_move(t){if(!this._state)return;let{_state:e,options:i,categoryAxis:s}=this,{range:o,moveTarget:r}=e,a=s.options.reverse,l=this._index(i.from),c=this._index(i.to),h=this._index(i.min),d=this._index(i.max),p=e.startLocation-t.x.location,u={from:o.from,to:o.to},m=o.to-o.from,g=bt(this.wrapper,"width").width/(s.categoriesCount()-1),w=Math.round(p/g)*(a?-1:1);if(!r&&!e.inBody)return;let E=r&&Oi(r,"k-left-handle"),I=r&&Oi(r,"k-right-handle");e.inBody?(o.from=Math.min(Math.max(h,l-w),d-m),o.to=Math.min(o.from+m,d)):E&&!a||I&&a?(o.from=Math.min(Math.max(h,l-w),d-1),o.to=Math.max(o.from+1,o.to)):(E&&a||I&&!a)&&(o.to=Math.min(Math.max(h+1,c-w),d),o.from=Math.min(o.to-1,o.from)),(o.from!==u.from||o.to!==u.to)&&(this.move(o.from,o.to),this.trigger(Yo,this._rangeEventArgs(o)))}_end(){if(this._state){let t=this._state.moveTarget;t&&is(t,"k-handle-active");let e=this._state.range;this.set(e.from,e.to),this.trigger(Ua,this._rangeEventArgs(e)),delete this._state}}_tap(t){let{options:e,categoryAxis:i}=this,s=this.chart._eventCoordinates(t),o=i.pointCategoryIndex(new N(s.x,i.box.y1)),r=this._index(e.from),a=this._index(e.to),l=this._index(e.min),c=this._index(e.max),h=a-r,d=r+h/2,p={},u=t.event.which===3,m=Math.round(d-o);this._state||u||(this.chart._unsetActivePoint(),i.options.justified||m--,p.from=Math.min(Math.max(l,r-m),c-h),p.to=Math.min(p.from+h,c),this._start(t),this._state&&(this._state.range=p,this.trigger(Yo,this._rangeEventArgs(p)),this._end()))}_mousewheel(t){let e=Ms(t);if(this._start(t),this._state){let i=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(e)>1&&(e*=kA),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger(Yo,{axis:this.categoryAxis.options,delta:e,originalEvent:t,from:this._value(i.from),to:this._value(i.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},Ga)}}_gesturestart(t){let e=this.options,i=t.touches[0];if(!this._pointInPane(i.pageX,i.pageY))return;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};let o=this._rangeEventArgs(this._state.range);this.trigger(ja,o)?this._state=null:t.preventDefault()}_gestureend(){this._state&&(this.trigger(Ua,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(t){if(!this._state)return;let{chart:e,_state:i,options:s,categoryAxis:o}=this,r=i.range,a=e._toModelCoordinates(t.touches[0].x.location).x,l=e._toModelCoordinates(t.touches[1].x.location).x,c=Math.min(a,l),h=Math.max(a,l);t.preventDefault(),r.from=o.pointCategoryIndex(new N(c))||s.min,r.to=o.pointCategoryIndex(new N(h))||s.max,this.move(r.from,r.to),this.trigger(Yo,this._rangeEventArgs(r))}_index(t){let e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e}_value(t){let e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e}_slot(t){let e=this.categoryAxis,i=this._index(t);return e.getSlot(i,i,!0)}move(t,e){let i=this.options,s=this.categoryAxis.options.reverse,{offset:o,padding:r,selection:{border:a}}=i,l=s?e:t,c=s?t:e,h="x"+(s?2:1),d=this._slot(l),p=D(d[h]-o.left+r.left);bt(this.leftMask,{width:p}),bt(this.selection,{left:p}),d=this._slot(c);let u=D(i.width-(d[h]-o.left+r.left));bt(this.rightMask,{width:u});let m=i.width-u;m!==i.width&&(m+=a.right),bt(this.rightMask,{left:m}),bt(this.selection,{width:Math.max(i.width-(p+u)-a.right,0)})}set(t,e){let i=this.options,s=this._index(i.min),o=this._index(i.max),r=M(this._index(t),s,o),a=M(this._index(e),r+1,o);i.visible&&this.move(r,a),i.from=this._value(r),i.to=this._value(a)}expand(t){let e=this.options,i=this._index(e.min),s=this._index(e.max),o=e.mousewheel.zoom,r=this._index(e.from),a=this._index(e.to),l={from:r,to:a},c=f({},l);if(this._state&&(l=this._state.range),o!==Q&&(l.from=M(M(r-t,0,a-1),i,s)),o!==V&&(l.to=M(M(a+t,l.from+1,s),i,s)),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}zoom(t,e){let i=this.options,s=this._index(i.min),o=this._index(i.max),r=this._index(i.from),a=this._index(i.to),l={from:r,to:a},c=f({},l),{reverse:h}=this.categoryAxis.options,d=P+(h?"2":"1"),p=this.categoryAxis.lineBox(),u=Math.abs(p[d]-e[P]),m=p.width(),g=D(u/m,2),w=D(g*t),E=D((1-g)*t);if(this._state&&(l=this._state.range),l.from=M(M(r-w,0,a-1),s,o),l.to=M(M(a+E,l.from+1,o),s,o),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}trigger(t,e){return(this.observer||this.chart).trigger(t,e)}};v(pd,{visible:!0,mousewheel:{zoom:"both"},min:dt,max:rt});var rl=pd;var Vm=class extends nr{show(t){if(!t||!t.tooltipAnchor||this._current&&this._current===t)return;let e=f({},this.options,t.options.tooltip),i=t.tooltipAnchor();i?(this._current=t,super.show({point:t,anchor:i},e,t)):this.hide()}hide(){delete this._current,super.hide()}},zm=Vm;var ud=class extends nr{constructor(t,e){super(t.chartService,e),this.plotArea=t,this.formatService=t.chartService.format}showAt(t,e){let i=Ut(t,function(s){let o=s.series.tooltip;return!(o&&o.visible===!1)});if(i.length>0){let s=i[0],o=this.plotArea.categoryAxis.getSlot(s.categoryIx),r=e?this._slotAnchor(e,o):this._defaultAnchor(s,o);this.show({anchor:r,shared:!0,points:t,category:s.category,categoryText:this.formatService.auto(this.options.categoryFormat,s.category),series:this.plotArea.series},this.options)}}_slotAnchor(t,e){let i=this.plotArea.categoryAxis,s={horizontal:"left",vertical:"center"};return i.options.vertical||(t.x=e.center().x),{point:t,align:s}}_defaultAnchor(t,e){let i=t.owner.pane.chartsBox(),s=this.plotArea.categoryAxis.options.vertical,o=i.center(),r=e.center(),a={horizontal:"center",vertical:"center"},l;return s?l=new N(o.x,r.y):l=new N(r.x,o.y),{point:l,align:a}}};v(ud,{categoryFormat:"{0:d}"});var al=ud;var fd=class extends x.Animation{setup(){let{element:t,options:e}=this;if(t.bbox()){this.origin=e.origin;let s=e.vertical?L:P,o=this.fromScale=new _.Point(1,1);o[s]=Us,t.transform(_.transform().scale(o.x,o.y))}else this.abort()}step(t){let e=qt(this.fromScale.x,1,t),i=qt(this.fromScale.y,1,t);this.element.transform(_.transform().scale(e,i,this.origin))}abort(){super.abort(),this.element.transform(null)}};v(fd,{duration:Yt});x.AnimationFactory.current.register(ae,fd);var md=class extends x.Animation{setup(){let t=this.center=this.element.bbox().center();this.element.transform(_.transform().scale(Us,Us,t))}step(t){this.element.transform(_.transform().scale(t,t,this.center))}};v(md,{easing:"easeOutElastic"});x.AnimationFactory.current.register(Hi,md);var gd=class extends x.Animation{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(t){this.element.opacity(t*this.fadeTo)}};v(gd,{duration:200,easing:"linear"});x.AnimationFactory.current.register(be,gd);var xd=class extends x.Animation{setup(){this.element.transform(_.transform().scale(Us,Us,this.options.center))}step(t){this.element.transform(_.transform().scale(t,t,this.options.center))}};v(xd,{easing:"easeOutElastic",duration:Yt});x.AnimationFactory.current.register(Ue,xd);var vd=class extends ws{render(){super.render(),this.renderSegments()}createSegment(t,e,i){let s=e.style,o;return s===ci?o=Qo:o=Je,new o(t,e,i)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(t,e){if(e===pe){let i={x:t.x,y:t.y};return Wt(i.x)||(i.x=0),Wt(i.y)||(i.y=0),i}}};f(vd.prototype,sr);var ll=vd;function IA(n,t,e){let i=[],{xMin:s,xMax:o}=t,r=(e||{}).forecast;r&&(r.before>0&&(s-=r.before),r.after>0&&(o+=r.after));let a=(e||{}).samplingInterval,l=F(a,Ye(s,o)/10);a<=0&&(l=o-s);for(let c=s;c<=o;c+=l)i.push([c,n(c)]);return i}var Zi=IA;function DA(n){let{options:t,seriesValues:e}=n,i=PA({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var RA=n=>({valueFields:t})=>({xValue:t.x,yValue:Math.log(t[n])});function PA({seriesValues:n,options:t}){let e=n();if(!Wi(e,t.field))return null;let{slope:i,intercept:s,count:o,xMin:r,xMax:a}=Ae(e,RA(t.field)),l={xMin:r,xMax:a};if(o>0){let c=Math.exp(s),h=i;return Zi(d=>c*Math.exp(h*d),l,t.trendline)}return null}var L0=DA;var LA=n=>({valueFields:t})=>({xValue:t.x,yValue:t[n]}),ao=LA;function MA(n){let{options:t,seriesValues:e}=n,i=OA({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}function OA({seriesValues:n,options:t}){let{slope:e,intercept:i,count:s,xMin:o,xMax:r}=Ae(n(),ao(t.field)),a={xMin:o,xMax:r};return s>0?Zi(l=>e*l+i,a,t.trendline):null}var M0=MA;function FA(n,t){let e=Number.MAX_VALUE,i=Number.MIN_VALUE;for(let s=0;s<n.length;s++){let o=n[s],{xValue:r,yValue:a}=t(o);isFinite(r)&&r!==null&&isFinite(a)&&a!==null&&(e=Math.min(r,e),i=Math.max(r,i))}return{xMin:e,xMax:i}}var yd=FA;function NA(n){let{options:t,seriesValues:e}=n,i=zA({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var BA=n=>({valueFields:t})=>({xValue:t.x,yValue:t[n]}),VA=n=>({valueFields:t})=>({xValue:Math.log(t.x),yValue:t[n]});function zA({seriesValues:n,options:t}){let e=n();if(!Wi(e,"x"))return null;let{slope:i,intercept:s,count:o}=Ae(e,VA(t.field)),r=yd(e,BA(t.field));if(o>0){let a=i,l=s;return Zi(c=>a*Math.log(c)+l,r,t.trendline)}return null}var O0=NA;function HA(n){let{options:t}=n,e=jA(n);return e?Object.assign({},t,{type:"scatterLine",data:e}):null}function jA({options:n,seriesValues:t}){let e=(n.trendline||{}).period||qn,s=td(t({before:e,after:e}),ao(n.field),e);return s.length>0?s:null}var F0=HA;function UA(n){let{options:t,seriesValues:e}=n,i=GA({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}function GA({seriesValues:n,options:t}){let e=(t.trendline||{}).order,i=ao(t.field),{count:s,valueMapper:o,xMin:r,xMax:a}=ed(n(),i,e),l={xMin:r,xMax:a};return s>0?Zi(o,l,t.trendline):null}var N0=UA;function WA(n){let{options:t,seriesValues:e}=n,i=YA({seriesValues:e,options:t});return i?Object.assign({},t,{type:"scatterLine",data:i}):null}var XA=n=>({valueFields:t})=>({xValue:Math.log(t.x),yValue:Math.log(t[n])});function YA({seriesValues:n,options:t}){let e=n();if(!Wi(e,"x"))return null;let{slope:i,intercept:s,count:o}=Ae(e,XA(t.field)),r=yd(e,ao(t.field));if(o>0){let a=Math.exp(s),l=i;return Zi(c=>a*Math.pow(c,l),r,t.trendline)}return null}var B0=WA;var nn={};nn[Fa]=L0;nn[Na]=M0;nn[Ba]=O0;nn[Va]=F0;nn[za]=N0;nn[Ha]=B0;var V0=nn;var cl=class extends ue{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new no,this.yAxisRangeTracker=new no}render(t=this.panes){this.series=[...this.originalSeries],this.createTrendlineSeries();let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);r&&(this.createScatterChart(pt(r,Ma),s),this.createScatterLineChart(pt(r,Oa),s),this.createBubbleChart(pt(r,Hi),s))}this.createAxes(t)}appendChart(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),super.appendChart(t,e)}removeAxis(t){let e=t.options.name;super.removeAxis(t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}seriesPaneName(t){let e=this.options,i=t.xAxis,s=[].concat(e.xAxis),o=Ut(s,function(p){return p.name===i})[0],r=t.yAxis,a=[].concat(e.yAxis),l=Ut(a,function(p){return p.name===r})[0],h=(e.panes||[{}])[0].name||"default";return(o||{}).pane||(l||{}).pane||h}createScatterChart(t,e){t.length>0&&this.appendChart(new ws(this,{series:t,clip:e.options.clip}),e)}createScatterLineChart(t,e){t.length>0&&this.appendChart(new ll(this,{series:t,clip:e.options.clip}),e)}createBubbleChart(t,e){t.length>0&&this.appendChart(new om(this,{series:t,clip:e.options.clip}),e)}createXYAxis(t,e,i){let s=t.name,o=e?this.namedYAxes:this.namedXAxes,r=e?this.yAxisRangeTracker:this.xAxisRangeTracker,a=f({reverse:!e&&this.chartService.rtl},t,{vertical:e}),l=Re(a.type,Zo),c=r.query(),h=l?{min:.1,max:1}:{min:0,max:1},d=r.query(s)||c||h,p=[a.min,a.max],u=this.series;for(let E=0;E<u.length;E++){let I=u[E],G=I[e?"yAxis":"xAxis"];if(G===a.name||i===0&&!G){let $=lt.current.bindPoint(I,0).valueFields;p.push($[e?"y":"x"]);break}}i===0&&c&&(d.min=Math.min(d.min,c.min),d.max=Math.max(d.max,c.max));let m;for(let E=0;E<p.length;E++)if(p[E]instanceof Date){m=!0;break}let g;Re(a.type,ge)||!a.type&&m?g=Aa:l?g=Hs:g=te;let w=new g(d.min,d.max,a,this.chartService);if(w.axisIndex=i,s){if(o[s])throw new Error(`${e?"Y":"X"} axis with name ${s} is already defined`);o[s]=w}return this.appendAxis(w),w}createAxes(t){let e=this.options,i=[].concat(e.xAxis),s=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++){let l=this.findPane(i[a].pane);z(l,t)&&s.push(this.createXYAxis(i[a],!1,a))}for(let a=0;a<o.length;a++){let l=this.findPane(o[a].pane);z(l,t)&&r.push(this.createXYAxis(o[a],!0,a))}this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}_dispatchEvent(t,e,i){let s=t._eventCoordinates(e),o=new N(s.x,s.y),r=this.axes,a=r.length,l=[],c=[];for(let h=0;h<a;h++){let d=r[h],p=d.options.vertical?c:l,u=d.getValue(o);u!==null&&p.push(u)}l.length>0&&c.length>0&&t.trigger(i,{element:Qt(e),originalEvent:e,x:Ti(l),y:Ti(c)})}updateAxisOptions(t,e){let i=t.options.vertical,s=this.groupAxes(this.panes),o=(i?s.y:s.x).indexOf(t);z0(this.options,o,i,e),z0(this.originalOptions,o,i,e)}trendlineFactory(t,e){let i=this.seriesValues.bind(this,e.index),s=Jh(V0,t.type,{options:t,seriesValues:i});return s&&(s.xAxis=e.xAxis,s.yAxis=e.yAxis),s}seriesValues(t){let e=[],i=this.series[t];for(let s=0;s<i.data.length;s++){let o=this.bindPoint(i,s);e.push({pointIx:s,valueFields:o.valueFields})}return e}};function z0(n,t,e,i){let s=[].concat(e?n.yAxis:n.xAxis)[t];f(s,i)}v(cl,{xAxis:{},yAxis:{}});f(cl.prototype,Ei);var lr=cl;var cr=class extends H{constructor(t,e,i){super(i),this.value=t,this.sector=e}render(){this._rendered||this.visible===!1||(this._rendered=!0,this.createLabel())}createLabel(){let t=this.options.labels,e=this.owner.chartService,i=this.getLabelText(t);if(t.visible&&(i||i===0)){if(t.position===B||t.position===qo)t.color||(t.color=ns(this.options.color)),t.background||(t.background=this.options.color);else{let s=e.theme.seriesDefaults.labels;t.color=t.color||s.color,t.background=t.background||s.background}this.label=new It(i,f({},t,{align:B,vAlign:"",animation:{type:be,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}}getLabelText(t){let e=mt(t);return e?e(this.pointData()):this.owner.chartService.format.auto(t.format,this.value)}reflow(t){this.render(),this.box=t,this.reflowLabel()}reflowLabel(){let{options:{labels:t},label:e}=this,i=this.sector.clone(),s=t.distance,o=i.middle();if(e){let r=e.box.height(),a=e.box.width(),l;if(t.position===B)i.radius=Math.abs((i.radius-r)/2)+r,l=i.point(o),e.reflow(new S(l.x,l.y-r/2,l.x,l.y));else if(t.position===qo)i.radius=i.radius-r/2,l=i.point(o),e.reflow(new S(l.x,l.y-r/2,l.x,l.y));else{let c;l=i.clone().expand(s).point(o),l.x>=i.center.x?(c=l.x+a,e.orientation=Q):(c=l.x-a,e.orientation=V),e.reflow(new S(c,l.y-r,l.x,l.y))}}}createVisual(){let{sector:t,options:e}=this;if(super.createVisual(),this.addAccessibilityAttributesToVisual(),this.value)if(e.visual){let i=(t.startAngle+180)%360,s=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new _.Point(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:i,endAngle:i+t.angle,options:e,sender:this.getSender(),createVisual:()=>{let o=new x.Group;return this.createSegmentVisual(o),o}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)}createSegmentVisual(t){let{sector:e,options:i}=this,s=i.border||{},o=s.width>0?{stroke:{color:s.color,width:s.width,opacity:s.opacity,dashType:s.dashType}}:{},r=i.color,a=he(i.pattern,{color:r,opacity:i.opacity}),l=this.createSegment(e,f({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},o));t.append(l),so(i)&&t.append(this.createGradientOverlay(l,{baseColor:r,fallbackFill:a},f({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},i.overlay)))}createSegment(t,e){return e.singleSegment?new x.Circle(new _.Circle(new _.Point(t.center.x,t.center.y),t.radius),e):ls.current.createRing(t,e)}createAnimation(){let{options:t,sector:{center:e}}=this;f(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(t){let e=this.options.highlight||{},i=e.border||{};return this.createSegment(this.sector,f({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){let t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new _.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}}createFocusHighlight(t){let e=this.options.focusHighlight.border.width,i=this.createSegment(this.sector,f({},t,{stroke:{width:e*2}})),s=new x.MultiPath;return s.paths.push(x.Path.fromRect(i.bbox())),s.paths.push(this.createSegment(this.sector,{})),i.clip(s),i}tooltipAnchor(){let t=this.sector.clone().expand(de),e=t.middle();return{point:t.point(e),align:QA(e+180)}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}},ZA=D(kt(30),10),qA=D(kt(60),10);function QA(n){let t=kt(n),e=D(Math.sin(t),10),i=D(Math.cos(t),10),s;Math.abs(e)>qA?s=B:i<0?s=Q:s=V;let o;return Math.abs(e)<ZA?o=B:e<0?o=X:o=U,{horizontal:s,vertical:o}}v(cr,{color:q,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:_c,margin:Z(.5),align:Ot,zIndex:1,position:Ai},animation:{type:Ue},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:we,className:_e,ariaRoleDescription:Ce}});f(cr.prototype,Xt);f(cr.prototype,di);var hl=cr;var KA={createLegendItem:function(n,t,e){let i=this.options.legend||{},s=i.labels||{},o=i.inactiveItems||{},r=o.labels||{};if(e&&e.visibleInLegend!==!1){let a=e.visible!==!1,l=a?mt(s):mt(r)||mt(s),c=e.category;l&&(c=l({text:c,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:n}));let h,d;a?(h={},d=t.color):(h={color:r.color,font:r.font},d=(o.markers||{}).color),Wt(c)&&c!==""&&this.legendItems.push({active:a,pointIndex:e.index,text:c,series:e.series,markerColor:d,pattern:t.pattern,labels:h})}}},dl=KA;var $A=70,hr=class extends H{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(t){let{options:e,plotArea:{options:{seriesColors:i=[]}}}=this,s=i.length,o=e.series,r=o.length;for(let a=0;a<r;a++){let l=o[a],c=l.data,{total:h,points:d,count:p}=$n(l),u=360/h,m;isFinite(u)||(m=360/p);let g;b(l.startAngle)?g=l.startAngle:g=e.startAngle,a!==r-1&&l.labels.position===Ai&&(l.labels.position=B);for(let w=0;w<d.length;w++){let E=d[w];if(!E)continue;let{fields:I,value:G,visible:$}=E,et=G!==0?m||G*u:0,it=c.length!==1&&!!I.explode;K(l.color)||(l.color=I.color||i[w%s]),t(G,new Ni(null,0,0,g,et),{owner:this,category:b(I.category)?I.category:"",pattern:b(I.pattern)?I.pattern:l.pattern,index:w,series:l,seriesIx:a,dataItem:c[w],percentage:h!==0?G/h:0,explode:it,visibleInLegend:I.visibleInLegend,visible:$,zIndex:r-a,animationDelay:this.animationDelay(w,a,r)}),$!==!1&&(g+=et)}}}evalSegmentOptions(t,e,i){let s=i.series;Se(t,{value:e,series:s,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:s._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})}addValue(t,e,i){let s=f({},i.series,{index:i.index});if(s.pattern=i.pattern||s.pattern,this.evalSegmentOptions(s,t,i),this.createLegendItem(t,s,i),i.visible===!1)return;let o=new hl(t,e,s);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){let{options:e,points:i,seriesConfigs:s=[]}=this,o=i.length,r=t.clone(),a=5,l=Math.min(r.width(),r.height()),c=l/2,h=l-l*.85,d=new S(r.x1,r.y1,r.x1+l,r.y1+l),p=d.center(),u=r.center(),m=e.series.length,g=[],w=[],E=F(e.padding,h);this.targetBox=t,E=E>c-a?c-a:E,d.translate(u.x-p.x,u.y-p.y);let I=c-E,G=new N(I+d.x1+E,I+d.y1+E);for(let $=0;$<o;$++){let et=i[$],it=et.sector,ct=et.seriesIx;if(it.radius=I,it.center=G,s.length){let zt=s[ct];it.innerRadius=zt.innerRadius,it.radius=zt.radius}ct===m-1&&et.explode&&(it.center=it.clone().setRadius(it.radius*.15).point(it.middle())),et.reflow(d);let wt=et.label;wt&&wt.options.position===Ai&&ct===m-1&&(wt.orientation===Q?w.push(wt):g.push(wt))}g.length>0&&(g.sort(this.labelComparator(!0)),this.leftLabelsReflow(g)),w.length>0&&(w.sort(this.labelComparator(!1)),this.rightLabelsReflow(w)),this.box=d}leftLabelsReflow(t){let e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}rightLabelsReflow(t){let e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}distanceBetweenLabels(t){let e=gt(this.points),i=e.sector,s=t.length-1,o=i.radius+e.options.labels.distance,r=[],a=t[0].box,l=D(a.y1-(i.center.y-o-a.height()-a.height()/2));r.push(l);for(let c=0;c<s;c++){let h=t[c+1].box;a=t[c].box,l=D(h.y1-a.y2),r.push(l)}return l=D(i.center.y+o-t[s].box.y2-t[s].box.height()/2),r.push(l),r}distributeLabels(t,e){let i=t.length,s,o,r;for(let a=0;a<i;a++)for(r=-t[a],s=o=a;r>0&&(s>=0||o<i);)r=this._takeDistance(t,a,--s,r),r=this._takeDistance(t,a,++o,r);this.reflowLabels(t,e)}_takeDistance(t,e,i,s){let o=s;if(t[i]>0){let r=Math.min(t[i],o);o-=r,t[i]-=r,t[e]+=r}return o}reflowLabels(t,e){let i=gt(this.points),s=i.sector,o=i.options.labels,r=e.length,a=o.distance,l=s.center.y-(s.radius+a)-e[0].box.height(),c;t[0]+=2;for(let h=0;h<r;h++){let d=e[h],p=d.box;l+=t[h],c=this.hAlignLabel(p.x2,s.clone().expand(a),l,l+p.height(),d.orientation===Q),d.orientation===Q?(o.align!==Ot&&(c=s.radius+s.center.x+a),d.reflow(new S(c+p.width(),l,c,l))):(o.align!==Ot&&(c=s.center.x-s.radius-a),d.reflow(new S(c-p.width(),l,c,l))),l+=p.height()}}createVisual(){let{options:{connectors:t},points:e}=this,i=e.length,s=4;super.createVisual(),this._connectorLines=[];for(let o=0;o<i;o++){let r=e[o],{sector:a,label:l}=r,c=a.middle(),h=(r.options.connectors||{}).color||t.color;if(l){let d=new x.Path({stroke:{color:h,width:t.width},animation:{type:be,delay:r.animationDelay}});if(l.options.position===Ai){let p=l.box,u=a.center,m=a.point(c),g=new N(p.x1,p.center().y),w,E,I;m=a.clone().expand(t.padding).point(c),d.moveTo(m.x,m.y),l.orientation===Q?(E=new N(p.x1-t.padding,p.center().y),I=H0(u,m,g,E),g=new N(E.x-s,E.y),I=I||g,I.x=Math.min(I.x,g.x),this.pointInCircle(I,a.center,a.radius+s)||I.x<a.center.x?(w=a.center.x+a.radius+s,r.options.labels.align!==De?w<g.x?d.lineTo(w,m.y):d.lineTo(m.x+s*2,m.y):d.lineTo(w,m.y),d.lineTo(g.x,E.y)):(I.y=E.y,d.lineTo(I.x,I.y))):(E=new N(p.x2+t.padding,p.center().y),I=H0(u,m,g,E),g=new N(E.x+s,E.y),I=I||g,I.x=Math.max(I.x,g.x),this.pointInCircle(I,a.center,a.radius+s)||I.x>a.center.x?(w=a.center.x-a.radius-s,r.options.labels.align!==De?w>g.x?d.lineTo(w,m.y):d.lineTo(m.x-s*2,m.y):d.lineTo(w,m.y),d.lineTo(g.x,E.y)):(I.y=E.y,d.lineTo(I.x,I.y))),d.lineTo(E.x,E.y),this._connectorLines.push(d),this.visual.append(d)}}}}renderVisual(){if(super.renderVisual(),Ln(this.options.series,t=>t.autoFit)){let t=this.targetBox,e=this.box.center(),i=this.visual.bbox();if(!i)return;let s=i.bottomRight(),o=Math.min((e.y-t.y1)/(e.y-i.origin.y),(t.y2-e.y)/(s.y-e.y),(e.x-t.x1)/(e.x-i.origin.x),(t.x2-e.x)/(s.x-e.x));o<1&&this.visual.transform(_.transform().scale(o,o,[e.x,e.y]))}}labelComparator(t){let e=t?-1:1;return function(i,s){let o=(i.parent.sector.middle()+270)%360,r=(s.parent.sector.middle()+270)%360;return(o-r)*e}}hAlignLabel(t,e,i,s,o){let{radius:r,center:{x:a,y:l}}=e,c=Math.min(Math.abs(l-i),Math.abs(l-s));return c>r?t:a+Math.sqrt(r*r-c*c)*(o?1:-1)}pointInCircle(t,e,i){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}animationDelay(t){return t*$A}stackRoot(){return this}};function H0(n,t,e,i){let s=(i.x-e.x)*(n.y-e.y)-(i.y-e.y)*(n.x-e.x),o=(i.y-e.y)*(t.x-n.x)-(i.x-e.x)*(t.y-n.y),r;if(o!==0){let a=s/o;r=new N(n.x+a*(t.x-n.x),n.y+a*(t.y-n.y))}return r}v(hr,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}});f(hr.prototype,dl);hr.prototype.isStackRoot=!0;var pl=hr;var Hm=class extends ue{render(){this.createPieChart(this.series)}createPieChart(t){let e=t[0],i=new pl(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}appendChart(t,e){super.appendChart(t,e),Be(this.options.legend.data,t.legendItems)}getPointBelow(t){return this.getPointToTheRight(t)}getPointAbove(t){return this.getPointToTheLeft(t)}},ul=Hm;var fl=class extends hl{reflowLabel(){let{options:{labels:t},label:e}=this,i=this.sector.clone(),s=i.middle();if(e){let o=e.box.height();if(t.position===B){i.radius-=(i.radius-i.innerRadius)/2;let r=i.point(s);e.reflow(new S(r.x,r.y-o/2,r.x,r.y))}else super.reflowLabel()}}createSegment(t,e){return ls.current.createRing(t,e)}};v(fl,{overlay:{gradient:"roundedGlass"},labels:{position:B},animation:{type:Ue}});f(fl.prototype,Xt);var ml=fl;var JA=50,bd=class extends pl{addValue(t,e,i){let s=f({},i.series,{index:i.index});if(s.pattern=i.pattern||s.pattern,this.evalSegmentOptions(s,t,i),this.createLegendItem(t,s,i),i.visible===!1)return;let o=new ml(t,e,s);Object.assign(o,i),this.append(o),this.points.push(o)}reflow(t){let e=this.options,i=t.clone(),s=5,o=Math.min(i.width(),i.height()),r=o/2,a=o-o*.85,l=e.series,c=l.length,h=F(e.padding,a);h=h>r-s?r-s:h;let d=r-h,p=0,u;for(let I=0;I<c;I++){let G=l[I];I===0&&b(G.holeSize)&&(u=G.holeSize,d-=G.holeSize),b(G.size)?d-=G.size:p++,b(G.margin)&&I!==c-1&&(d-=G.margin)}b(u)||(u=(r-h)/(c+.75)*.75,d-=u);let m=u,g=0,w,E;this.seriesConfigs=[];for(let I=0;I<c;I++){let G=l[I];w=F(G.size,d/p),m+=g,E=m+w,this.seriesConfigs.push({innerRadius:m,radius:E}),g=G.margin||0,m=E}super.reflow(t)}animationDelay(t,e,i){return t*JA+Yt*(e+1)/(i+1)}};v(bd,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var jm=bd;var Um=class extends ul{render(){this.createDonutChart(this.series)}createDonutChart(t){let e=t[0],i=new jm(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(i)}getPointBelow(t){return this._getNextPoint(t,this._pointsByVertical,-1)}getPointAbove(t){return this._getNextPoint(t,this._pointsByVertical,1)}},Gm=Um;var t1=.15,Wm=class extends ue{initFields(){this.valueAxisRangeTracker=new no}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){let t=this.valueAxis,e=t.range(),i=t.options.reverse?e.max:e.min,s=t.getSlot(i),o=this.polarAxis.getSlot(0).center,r=t.box.translate(o.x-s.x1,o.y-s.y1);t.reflow(r)}createValueAxis(){let t=this.valueAxisRangeTracker,e=t.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1}),s,o;i.type===Zo?(s=Ef,o={min:.1,max:1}):(s=kf,o={min:0,max:1});let r=t.query(name)||e||o;r&&e&&(r.min=Math.min(r.min,e.min),r.max=Math.max(r.max,e.max));let a=new s(r.min,r.max,i,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){let{options:{plotArea:t},valueAxis:e,polarAxis:i,box:s}=this,o=Math.min(s.width(),s.height())*t1,r=Z(t.padding||{},o),a=s.clone().unpad(r),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,L,B);let c=l.clone().shrink(0,l.height()/2);i.reflow(l),e.reflow(c);let h=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:h})),this.axisBox=l,this.alignAxes(l)}backgroundBox(){return this.box}detachLabels(){}},wd=Wm;var _d=class extends ws{pointSlot(t,e){let i=t.center.y-e.y1,s=N.onCircle(t.center,t.startAngle,i);return new S(s.x,s.y,s.x,s.y)}};v(_d,{clip:!1});var Cd=_d;var gl=class extends ll{};gl.prototype.pointSlot=Cd.prototype.pointSlot;v(gl,{clip:!1});var Sd=gl;var Xm=class extends $o{fillToAxes(t){let e=this._polarAxisCenter();t.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let t=this._strokeSegments;if(!t){let e=this._polarAxisCenter(),i=new ps(!1),s=this.points();s.push(e),t=this._strokeSegments=i.process(s),t.pop()}return t}},j0=Xm;var Ym=class extends ti{fillToAxes(t){let i=this.parent.plotArea.polarAxis.box.center(),s=new _.Segment([i.x,i.y]);t.segments.unshift(s),t.segments.push(s)}},U0=Ym;var Zm=class extends Sd{createSegment(t,e,i){let s=(e.line||{}).style,o;return s===ci?o=new j0(t,e,i):o=new U0(t,e,i),o}createMissingValue(t,e){let i;return Wt(t.x)&&e!==zi&&(i={x:t.x,y:t.y},e===pe&&(i.y=0)),i}seriesMissingValues(t){return t.missingValues||pe}_hasMissingValuesGap(){let t=this.options.series;for(let e=0;e<t.length;e++)if(this.seriesMissingValues(t[e])===Bf)return!0}sortPoints(t){if(t.sort(e1),this._hasMissingValuesGap())for(let e=0;e<t.length;e++){let i=t[e];if(i){let s=i.value;!Wt(s.y)&&this.seriesMissingValues(i.series)===Bf&&delete t[e]}}return t}};function e1(n,t){return n.value.x-t.value.x}var G0=Zm;var xl=class extends wd{createPolarAxis(){let t=new Tf(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)}render(){this.series=[...this.originalSeries],this.createTrendlineSeries(),super.render()}valueAxisOptions(t){return f(t,{majorGridLines:{type:ri},minorGridLines:{type:ri}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}trendlineFactory(t,e){let i=lr.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=Wn),i}appendChart(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),ue.prototype.appendChart.call(this,t,e)}createCharts(){let t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(pt(t,[Wn]),e),this.createScatterChart(pt(t,[La]),e),this.createAreaChart(pt(t,[Pa]),e)}createLineChart(t,e){if(t.length===0)return;let i=new Sd(this,{series:t});this.appendChart(i,e)}createScatterChart(t,e){if(t.length===0)return;let i=new Cd(this,{series:t});this.appendChart(i,e)}createAreaChart(t,e){if(t.length===0)return;let i=new G0(this,{series:t});this.appendChart(i,e)}_dispatchEvent(t,e,i){let s=t._eventCoordinates(e),o=new N(s.x,s.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);r!==null&&a!==null&&t.trigger(i,{element:Qt(e),x:r,y:a})}createCrosshairs(){}};v(xl,{xAxis:{},yAxis:{}});f(xl.prototype,Ei,{seriesValues:lr.prototype.seriesValues});var W0=xl;function i1(n){let t=[];for(let e=0;e<n.length;e++){let i=n[e];t[i.seriesIx]=t[i.seriesIx]||[],t[i.seriesIx].push(i)}return t}var Ad=class extends Ko{pointSlot(t,e){let i=t.center.y-e.y1,s=N.onCircle(t.center,t.middle(),i);return new S(s.x,s.y,s.x,s.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){let t=i1(this._segments);for(let e=0;e<t.length;e++){let i=t[e];if(i&&i.length>1){let s=i[0].linePoints[0],o=gt(i),r=gt(o.linePoints),a=s.categoryIx===0,l=r.categoryIx===r.categoriesCount-1;a&&l&&gt(i).linePoints.push(s)}}}}createSegment(t,e,i){let s=e.style,o;s===ci?o=Qo:o=Je;let r=new o(t,e,i),a=this.seriesMissingValues(e);return(t.length===e.data.length||a===zi)&&(r.options.closed=!0),r}};v(Ad,{clip:!1,limitPoints:!1});var Td=Ad;var qm=class extends $o{fillToAxes(){}},X0=qm;var Qm=class extends ti{fillToAxes(){}},Y0=Qm;var Km=class extends Td{createSegment(t,e,i,s){let o=this.options.isStacked,r=(e.line||{}).style,a,l,c;return o&&i>0&&s&&(l=s.linePoints.slice(0),a=s),r===ci?(c=new X0(t,e,i,a,l),c.options.closed=!0):(t.push(t[0]),c=new Y0(t,e,i,a,l)),c}seriesMissingValues(t){return t.missingValues||pe}},Z0=Km;var kd=class extends ml{constructor(t,e){super(t,null,e)}getIndex(){return this.categoryIx}};v(kd,{overlay:{gradient:"none"},labels:{distance:10}});var q0=kd;var Ed=class extends H{constructor(t){super(t),this.forEach=t.rtl?Oh:Mh}reflow(t){let{options:e,children:i}=this,{gap:s,spacing:o}=e,r=i.length,a=r+s+o*(r-1),l=t.angle/a,c=t.startAngle+l*(s/2);this.forEach(i,h=>{let d=t.clone();d.startAngle=c,d.angle=l,h.sector&&(d.radius=h.sector.radius),h.reflow(d),h.sector=d,c+=l+l*o})}};v(Ed,{gap:1,spacing:0});var Q0=Ed;var $m=class extends H{reflow(t){let{options:{reverse:e},children:i}=this,s=i.length,o=e?s-1:0,r=e?-1:1;this.box=new S;for(let a=o;a>=0&&a<s;a+=r){let l=i[a].sector;l.startAngle=t.startAngle,l.angle=t.angle}}},K0=$m;var vl=class extends ki{pointType(){return q0}clusterType(){return Q0}stackType(){return K0}categorySlot(t,e){return t.getSlot(e)}pointSlot(t,e){let i=t.clone(),s=t.center.y;return i.radius=s-e.y1,i.innerRadius=s-e.y2,i}reflowPoint(t,e){t.sector=e,t.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}};vl.prototype.reflow=Pe.prototype.reflow;v(vl,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var $0=vl;var yl=class extends wd{createPolarAxis(){let t=new zn(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()}valueAxisOptions(t){return this._hasBarCharts&&f(t,{majorGridLines:{type:ri},minorGridLines:{type:ri}}),this._isStacked100&&f(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),f(t,this.options.valueAxis)}aggregateCategories(){ei.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){ei.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(t){return t}trendlineFactory(t,e){let i=ei.prototype.trendlineFactory.call(this,t,e);return i&&(i.type=ms),i}createCharts(){let t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(pt(t,[Zs]),e),this.createLineChart(pt(t,[ms]),e),this.createBarChart(pt(t,[Xn]),e)}chartOptions(t){let e={series:t},i=t[0];if(i){let s=this.filterVisibleSeries(t),o=i.stack;e.isStacked=o&&s.length>1,e.isStacked100=o&&o.type==="100%"&&s.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(t,e){if(t.length===0)return;let i=new Z0(this,this.chartOptions(t));this.appendChart(i,e)}createLineChart(t,e){if(t.length===0)return;let i=new Td(this,this.chartOptions(t));this.appendChart(i,e)}createBarChart(t,e){if(t.length===0)return;let i=t[0],s=this.chartOptions(t),o=this.filterVisibleSeries(t),r=o.some(c=>c.stack),a=o.some(c=>c.stack&&c.stack.type==="100%");s.gap=i.gap,s.spacing=i.spacing,s.defaultStack=i.stack&&o.length>1,s.isStacked=r&&o.length>1,s.isStacked100=a&&o.length>1;let l=new $0(this,s);this.appendChart(l,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(t,e,i){let s=t._eventCoordinates(e),o=new N(s.x,s.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);r!==null&&a!==null&&t.trigger(i,{element:Qt(e),category:r,value:a})}createCrosshairs(){}_pointsByVertical(t){return super._pointsByVertical(t).sort(this._getSeriesCompareFn())}_getSeriesCompareFn(){return(t,e)=>e.value-t.value}};f(yl.prototype,Ei,{appendChart:ei.prototype.appendChart,aggregateSeries:ei.prototype.aggregateSeries,seriesSourcePoints:ei.prototype.seriesSourcePoints,seriesValues:ei.prototype.seriesValues});v(yl,{categoryAxis:{categories:[]},valueAxis:{}});var J0=yl;var dr=class extends H{constructor(t,e,i){super(e),this.value=t,this.options.index=i.index}getLabelText(t){let e=mt(t);return e?e(this.pointData()):t.format?this.formatValue(t.format):this.value}reflow(t){let e=this.points,i=this.children[0],s=Math.min(e[0].x,e[3].x),o=Math.max(e[1].x,e[2].x);this.box=new S(s,e[0].y,o,e[2].y),i&&i.reflow(new S(t.x1,e[0].y,t.x2,e[2].y))}createVisual(){let t=this.options,e;super.createVisual(),this.addAccessibilityAttributesToVisual(),t.visual?e=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:t,sender:this.getSender(),createVisual:()=>this.createPath()}):e=this.createPath(),e&&this.visual.append(e)}createPath(){let t=this.options,e=t.border;return x.Path.fromPoints(this.points,{fill:he(t.pattern,{color:t.color,opacity:t.opacity}),stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(t){return x.Path.fromPoints(this.points,t)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){let t=x.Path.fromPoints(this.points).close();return{options:this.options,path:t}}createFocusHighlight(t){let e=this.options.focusHighlight.border.width,i=x.Path.fromPoints(this.points,f({},t,{stroke:{width:e*2}})).close(),s=new x.MultiPath;return s.paths.push(x.Path.fromRect(this.box.clone().pad(e).toRect())),s.paths.push(x.Path.fromPoints(this.points)),i.clip(s),i}tooltipAnchor(){let t=this.box;return{point:new N(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(t){let e=this;return e.owner.formatPointValue(e,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}};v(dr,{color:q,border:{width:1},labels:{format:""},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}});f(dr.prototype,Xt);f(dr.prototype,di);var tb=dr;var bl=class extends H{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(t,e){return this.plotArea.chartService.format.auto(e,t.value)}render(){let{options:e,plotArea:{options:{seriesColors:i=[]}}}=this,s=e.series[0],o=s.data;if(!o)return;let{total:r,points:a}=$n(s);for(let l=0;l<a.length;l++){let c=a[l];if(!c)continue;let h=c.fields;K(s.color)||(s.color=h.color||i[l%i.length]),h=f({index:l,owner:this,series:s,seriesIx:0,dataItem:o[l],percentage:c.value/r},h,{visible:c.visible});let d=c.valueFields.value,p=this.createSegment(d,h),u=this.createLabel(d,h);p&&u&&p.append(u)}}evalSegmentOptions(t,e,i){let s=i.series;Se(t,{value:e,series:s,dataItem:i.dataItem,index:i.index},{defaults:s._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})}createSegment(t,e){let i=f({},e.series);if(i.pattern=e.pattern||i.pattern,this.evalSegmentOptions(i,t,e),this.createLegendItem(t,i,e),e.visible!==!1){let s=new tb(t,i,e);return Object.assign(s,e),this.append(s),this.points.push(s),s}}createLabel(t,e){let{series:i,dataItem:s}=e,o=f({},this.options.labels,i.labels),r=t;if(o.visible){let a=mt(o),l={dataItem:s,value:t,percentage:e.percentage,category:e.category,series:i};a?r=a(l):o.format&&(r=this.chartService.format.auto(o.format,r)),o.color||(o.color=ns(i.color),o.background||(o.background=i.color)),this.evalSegmentOptions(o,t,e);let c=new It(r,f({vAlign:o.position},o),l);return this.labels.push(c),c}}labelPadding(){let t=this.labels,e={left:0,right:0};for(let i=0;i<t.length;i++){let o=t[i].options.align;if(o!==B){let r=t[i].box.width();o===V?e.left=Math.max(e.left,r):e.right=Math.max(e.right,r)}}return e}dynamicSlopeReflow(t,e,i){let{options:s,points:o}=this,r=o.length,a=o[0],l=a;for(let p=0;p<o.length;p++)o[p].percentage>l.percentage&&(l=o[p]);let c=a.percentage/l.percentage*e,h=(e-c)/2,d=0;for(let p=0;p<r;p++){let u=o[p].percentage,m=o[p+1],g=m?m.percentage:u,w=o[p].points=[],E=s.dynamicHeight?i*u:i/r,I;u?I=(e-c*(g/u))/2:I=g?0:e/2,I=M(I,0,e),w.push(new _.Point(t.x1+h,t.y1+d)),w.push(new _.Point(t.x1+e-h,t.y1+d)),w.push(new _.Point(t.x1+e-I,t.y1+E+d)),w.push(new _.Point(t.x1+I,t.y1+E+d)),h=I,d+=E+s.segmentSpacing,c=M(e-2*I,0,e)}}constantSlopeReflow(t,e,i){let{options:s,points:o}=this,r=o.length,a=s.neckRatio<=1,l=a?s.neckRatio*e:e,c=a?0:(e-e/s.neckRatio)/2,d=((a?e:e-c*2)-l)/2,p=0;for(let u=0;u<r;u++){let m=o[u].points=[],g=o[u].percentage,w=s.dynamicHeight?d*g:d/r,E=s.dynamicHeight?i*g:i/r;m.push(new _.Point(t.x1+c,t.y1+p)),m.push(new _.Point(t.x1+e-c,t.y1+p)),m.push(new _.Point(t.x1+e-c-w,t.y1+E+p)),m.push(new _.Point(t.x1+c+w,t.y1+E+p)),c+=w,p+=E+s.segmentSpacing}}reflow(t){let e=this.points,i=e.length;if(!i)return;let s=this.options,o=t.clone().unpad(this.labelPadding()),r=o.height()-s.segmentSpacing*(i-1),a=o.width();s.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(let l=0;l<i;l++)e[l].reflow(t)}};v(bl,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:B,position:B,zIndex:1}});f(bl.prototype,dl);var Id=bl;var s1=1e6,Jm=class extends Id{constructor(t,e){e.dynamicSlope=!1,e.neckRatio=s1,super(t,e)}},eb=Jm;var tg=class extends ue{render(){this.createChart(Id,pt(this.series,[Ws])),this.createChart(eb,pt(this.series,[Xs]))}createChart(t,e){let i=e[0];if(!i)return;let s=new t(this,{series:e,legend:this.options.legend,neckRatio:i.neckRatio,dynamicHeight:i.dynamicHeight,dynamicSlope:i.dynamicSlope,segmentSpacing:i.segmentSpacing,highlight:i.highlight});this.appendChart(s)}appendChart(t,e){super.appendChart(t,e),Be(this.options.legend.data,t.legendItems)}_pointsByVertical(t){return this.pointsBySeriesIndex(t.series.index)}getPointToTheRight(t){return this.getPointBelow(t)}getPointToTheLeft(t){return this.getPointAbove(t)}},ib=tg;var o1=(n,t=.05)=>{let e=Wv(n),i=1-t;return s=>{let o=e.toHSL(),r=100-o.l,a=i-s;return o.l+=Math.min(a*r,r),o.toCss()}},sb=o1;var rn=class extends H{constructor(t,e){super(),this.options=e,this.color=e.color||q,this.value=t}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){let e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(t){let e=t.color;return e||(e=ns(this.color)),new It(this.getLabelText(t),f({align:B,vAlign:B,margin:{left:5,right:5},zIndex:F(t.zIndex,this.series.zIndex)},t,{color:e}),this.pointData())}getLabelText(t){let e=mt(t);return e?e(this.pointData()):this.formatValue(t.format)}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();let e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual()}markerBox(){let e=this.options.markers,i=e.border,s=this.box.toRect(),r=F(e.type,"rect")===Tc,a=F(i.width,r?1:0),l=Math.round(a/2);if(e.size){let c=s.center();s.size.width=s.size.height=e.size,s.origin.x=Math.round(c.x-s.size.width/2),s.origin.y=Math.round(c.y-s.size.height/2)}return s.size.width-=a,s.size.height-=a,s.origin.y+=l+.5,s.origin.x+=l+.5,Ze(s)}markerBorder(){let t=this.options,i=t.markers.border,s=F(i.opacity,t.opacity);return{color:i.color||this.color,width:i.width,opacity:s,dashType:i.dashType}}createMarker(){let t=this.options,e=t.markers,i=new Lt({type:F(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),pattern:t.pattern,borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:F(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=i,this.append(i)}createHighlight(t){let e=this.options,i=this.options.highlight.markers||this.options.markers,s=new Lt({type:F(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:i.color||this.color,border:this.markerBorder(),borderRadius:i.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:F(e.zIndex,this.series.zIndex)});s.reflow(this.markerBox());let o=s.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(){let t=this.options.markers,e=this.options.focusHighlight,i=new Lt({type:F(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:e.color,border:e.border,borderRadius:t.borderRadius,padding:e.border.width/2,zIndex:e.zIndex});return i.reflow(this.markerBox()),i.getElement()}tooltipAnchor(){let t=this.box.center().x,e=this.box.y1-de;return{point:new N(t,e),align:{horizontal:B,vertical:X}}}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}};f(rn.prototype,Xt);f(rn.prototype,hi);f(rn.prototype,di);rn.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:we,className:_e,ariaRoleDescription:Ce}};var eg=rn;var Dd=class extends H{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:rt,max:dt},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){let{options:{series:t}}=this;for(let e=0;e<t.length;e++){let i=t[e];for(let s=0;s<i.data.length;s++){let{valueFields:o}=this.plotArea.bindPoint(i,s);b(o.value)&&o.value!==null&&(this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value))}}}addValue(t,e){let i;t&&b(t.value)&&t.value!==null&&(i=this.createPoint(t,e),i&&Object.assign(i,e)),this.points.push(i)}evalPointOptions(t,e,i){let{series:s,seriesIx:o}=i,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[o];b(a)||(this._evalSeries[o]=a=Se(t,{},r,!0));let l=t;return a&&(l=f({},t),Se(l,{value:e,series:s,dataItem:i.dataItem,min:this.valueRange.min,max:this.valueRange.max},r)),l}pointType(){return eg}pointOptions(t,e){let i=this.seriesOptions[e];if(!i){let s=this.pointType().prototype.defaults;this.seriesOptions[e]=i=f({},s,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return Object.assign({},i)}createPoint(t,e){let i=e.series,s=this.pointOptions(i,e.seriesIx),o=e.color||i.color;s.pattern=e.pattern||s.pattern,s=this.evalPointOptions(s,t,e),K(i.color)?o=s.color:this.valueRange.max!==0&&(o=sb(o)(t.value/this.valueRange.max));let r=new eg(t,s);return r.color=o,this.append(r),r}seriesAxes(t){let{xAxis:e,yAxis:i}=t,s=this.plotArea,o=e?s.namedXAxes[e]:s.axisX,r=i?s.namedYAxes[i]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+i);return{xAxis:o,yAxis:r}}reflow(t){let e=this.points,i=!this.options.clip,s=0;this.traverseDataPoints((o,r)=>{let a=e[s++],{xAxis:l,yAxis:c}=this.seriesAxes(r.series),h=l.categoryIndex(o.x),d=c.categoryIndex(o.y),p=l.getSlot(h,h,i),u=c.getSlot(d,d,i);if(a)if(p&&u){let m=this.pointSlot(p,u);a.reflow(m)}else a.visible=!1}),this.box=t}pointSlot(t,e){return new S(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){let{options:{series:e}}=this;for(let i=0;i<e.length;i++){let s=e[i],{xAxis:o,yAxis:r}=this.seriesAxes(s),a=o.currentRangeIndices(),l=r.currentRangeIndices();for(let c=0;c<s.data.length;c++){let{valueFields:h,fields:d}=this.plotArea.bindPoint(s,c),p=o.totalIndex(h.x),u=r.totalIndex(h.y),m=a.min<=p&&p<=a.max,g=l.min<=u&&u<=l.max;m&&g&&t(h,f({pointIx:c,series:s,seriesIx:i,dataItem:s.data[c],owner:this},d))}}}formatPointValue(t,e){let i=t.value;return this.chartService.format.auto(e,i.x,i.y,i.value)}animationPoints(){let t=this.points,e=[];for(let i=0;i<t.length;i++)e.push((t[i]||{}).marker);return e}};v(Dd,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});var ob=Dd;var wl=class extends ue{initFields(){this.namedXAxes={},this.namedYAxes={}}render(t=this.panes){this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()}bindCategories(){let t=this.srcSeries||this.series;for(let e=0;e<t.length;e++){let i=t[e],s=i.data||[],{xAxis:o,yAxis:r}=this.seriesAxes(i),a=da(o.categories||[]),l=da(r.categories||[]);for(let c=0;c<s.length;c++){let{x:h,y:d}=lt.current.bindPoint(i,c).valueFields;a.has(h)||a.add(h),l.has(d)||l.add(d)}o.categories=a.values(),r.categories=l.values()}}createCharts(t){let e=this.groupSeriesByPane();for(let i=0;i<t.length;i++){let s=t[i],o=e[s.options.name||"default"]||[];this.addToLegend(o);let r=this.filterVisibleSeries(o);r&&this.createHeatmapChart(pt(r,[Ra]),s)}}createHeatmapChart(t,e){let i=new ob(this,{series:t});this.appendChart(i,e)}seriesPaneName(t){let e=this.options,i=t.xAxis,s=[].concat(e.xAxis),o=Ut(s,function(p){return p.name===i})[0],r=t.yAxis,a=[].concat(e.yAxis),l=Ut(a,function(p){return p.name===r})[0],h=(e.panes||[{}])[0].name||"default";return(o||{}).pane||(l||{}).pane||h}seriesAxes(t){let e,i,s=this.options,o=[].concat(s.xAxis),r=t.xAxis;r?e=o.find(c=>c.name===r):e=o[0];let a=[].concat(s.yAxis),l=t.yAxis;if(l?i=a.find(c=>c.name===l):i=a[0],!e)throw new Error("Unable to locate X axis with name "+r);if(!i)throw new Error("Unable to locate Y axis with name "+l);return{xAxis:e,yAxis:i}}createAxisLabels(){let t=this.axes;for(let e=0;e<t.length;e++)t[e].createLabels()}createXYAxis(t,e,i){let s=t.name,o=e?this.namedYAxes:this.namedXAxes,r=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),a=r.categories?r.categories[0]:null,l=[r.min,r.max,a],c=this.series;for(let u=0;u<c.length;u++){let m=c[u],g=m[e?"yAxis":"xAxis"];if(g===r.name||i===0&&!g){let w=lt.current.bindPoint(m,0).valueFields;l.push(w[e?"y":"x"]);break}}let h;for(let u=0;u<l.length;u++)if(l[u]instanceof Date){h=!0;break}let d;Re(r.type,ge)||!r.type&&h?d=_i:d=ye;let p=new d(r,this.chartService);if(p.axisIndex=i,s){if(o[s])throw new Error(`${e?"Y":"X"} axis with name ${s} is already defined`);o[s]=p}return this.appendAxis(p),p.indexCategories(),p}createAxes(t){let e=this.options,i=[].concat(e.xAxis),s=[],o=[].concat(e.yAxis),r=[];for(let a=0;a<i.length;a++){let l=this.findPane(i[a].pane);z(l,t)&&s.push(this.createXYAxis(i[a],!1,a))}for(let a=0;a<o.length;a++){let l=this.findPane(o[a].pane);z(l,t)&&r.push(this.createXYAxis(o[a],!0,a))}this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}removeAxis(t){let e=t.options.name;super.removeAxis(t),t.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}_dispatchEvent(t,e,i){let s=t._eventCoordinates(e),o=new N(s.x,s.y),r=this.axes,a=r.length,l=[],c=[];for(let h=0;h<a;h++){let d=r[h],p=d.options.vertical?c:l;eo(p,d.getCategory(o))}l.length>0&&c.length>0&&t.trigger(i,{element:Qt(e),originalEvent:e,x:Ti(l),y:Ti(c)})}updateAxisOptions(t,e){let i=t.options.vertical,s=this.groupAxes(this.panes),o=(i?s.y:s.x).indexOf(t);nb(this.options,o,i,e),nb(this.originalOptions,o,i,e)}crosshairOptions(t){return Object.assign({},t.options.crosshair,{zIndex:0})}_pointsByVertical(t,e=0){let i=this.axisX.options.reverse?e*-1:e,s=this.axisX.children,o=this._getPointAxisXIndex(t)+i;o=ss(o,s.length);let r=s[o].value,a=this.filterPoints(l=>ig(l.pointData().x,r)).sort((l,c)=>this._getPointAxisYIndex(l)-this._getPointAxisYIndex(c));return this.axisY.options.reverse?a.reverse():a}_pointsByHorizontal(t,e=0){let i=this.axisY.options.reverse?e*-1:e,s=this.axisY.children,o=this._getPointAxisYIndex(t)+i;o=ss(o,s.length);let r=s[o].value,a=this.filterPoints(l=>ig(l.pointData().y,r)).sort((l,c)=>this._getPointAxisXIndex(l)-this._getPointAxisXIndex(c));return this.axisX.options.reverse?a.reverse():a}_getPointAxisXIndex(t){return this._getPointAxisIndex(this.axisX,t.pointData().x)}_getPointAxisYIndex(t){return this._getPointAxisIndex(this.axisY,t.pointData().y)}_getPointAxisIndex(t,e){return t.children.findIndex(i=>ig(e,i.value))}};function ig(n,t){return n instanceof Date&&t instanceof Date?Bi(n,t):n===t}function nb(n,t,e,i){let s=[].concat(e?n.yAxis:n.xAxis)[t];f(s,i)}v(wl,{xAxis:{},yAxis:{}});f(wl.prototype,Ei);var rb=wl;var si="color",ii="first",n1="from",Le="max",sg="min",As="noteText",r1="summary",a1="to";pi.current.register(ei,[ae,De,qe,xs,je,gs,us,fs,Si,$s,jo,Ks,Uo,Qs,Go,Ys,qs,vs,...ys]);pi.current.register(lr,[Ma,Oa,Hi,...ys]);pi.current.register(ul,[Ue]);pi.current.register(Gm,[Gn]);pi.current.register(ib,[Ws,Xs]);pi.current.register(W0,[Pa,Wn,La,...ys]);pi.current.register(J0,[Zs,Xn,ms,...ys]);pi.current.register(rb,[Ra]);lt.current.register([ae,De,qe,xs,je,gs],[ce],[Qe,si,As,uh,fh,ji,Ke]);lt.current.register([Uo,Qs,qs,vs],[n1,a1],[Qe,si,As,ji,Ke]);lt.current.register([Go,Ys],[ce],[Qe,si,As,r1,ji,Ke]);lt.current.register([Pa,Wn,La],[P,L],[si,ji,Ke]);lt.current.register([Zs,Xn,ms],[ce],[Qe,si,ji,Ke]);lt.current.register([Ws,Xs],[ce],[Qe,si,"visibleInLegend","visible",ji,Ke]);Gi.current.register([ae,De,qe,xs,je,gs,Go,Ys],{value:Le,color:ii,noteText:ii,errorLow:sg,errorHigh:Le});Gi.current.register([Uo,Qs,qs,vs],{from:sg,to:Le,color:ii,noteText:ii});Gi.current.register([Zs,Xn,ms],{value:Le,color:ii});lt.current.register([Ma,Oa,Hi],[P,L],[si,As,Zy,qy,Qy,Ky]);lt.current.register([Hi],[P,L,"size"],[si,Qe,As,Ke]);lt.current.register([Ra],[P,L,ce],[si,As,Ke]);lt.current.register([us,fs],["open","high","low","close"],[Qe,si,"downColor",As,Ke]);Gi.current.register([us,fs],{open:Le,high:Le,low:sg,close:Le,color:ii,downColor:ii,noteText:ii});lt.current.register([jo,Ks],["lower","q1","median","q3","upper","mean","outliers"],[Qe,si,As,ji,Ke]);Gi.current.register([jo,Ks],{lower:Le,q1:Le,median:Le,q3:Le,upper:Le,mean:Le,outliers:ii,color:ii,noteText:ii});lt.current.register([Si,$s],["current","target"],[Qe,si,"visibleInLegend",As,ji,Ke]);Gi.current.register([Si,$s],{current:Le,target:Le,color:ii,noteText:ii});lt.current.register([Ue,Gn],[ce],[Qe,si,"explode","visibleInLegend","visible",ji,Ke]);var og=[Qe,ce,P,L],l1="mousedown",an="mousemove",ab="contextmenu",lb="mouseleave",cb="keydown",hb="focus",db="blur",c1=20,pb="k-chart-overlay-top",Rd=class extends R{constructor(t,e,i,s={}){super(),this.observers=[],this.addObserver(s.observer),this.chartService=new Fo(this,s),this.chartService.theme=i,this._initElement(t);let o=f({},this.options,e);this._originalOptions=f({},o),this._theme=i,this._initTheme(o,i),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),Xu.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents(),this._restoreOverlayElement())})}_initElement(t){this._setElementClass(t),t.style.position="relative",t.tabIndex=t.getAttribute("tabindex")?t.getAttribute("tabindex"):0,t.setAttribute("role","graphics-document document");for(let e=t.childNodes.length-1;e>=0;e--){let i=t.childNodes[e];Oi(i,"k-chart-overlay")?this.overlayElement=i:t.removeChild(i)}this.element=t}_setElementClass(t){st(t,"k-chart")}_restoreOverlayElement(){this.overlayElement&&(this._hasSeriesData()?this.overlayElement.style.display="none":(!this.options.title||this.options.title&&this.options.title.position!==X?st(this.overlayElement,pb):is(this.overlayElement,pb),this.overlayElement.style.display=""),this.overlayElement.parentElement!==this.element&&this.element.appendChild(this.overlayElement))}_hasSeriesData(){let t=this.options.series||[];return t.length>0&&t.some(i=>i.data&&i.data.length>0)}_initTheme(t,e){let i=[],s=t.series||[];for(let o=0;o<s.length;o++)i.push(Object.assign({},s[o]));t.series=i,h1(t),this.applyDefaults(t,e),t.seriesColors===null&&delete t.seriesColors,Nt(t.title)&&(t.title={text:t.title}),this.options=f({},e,t),this.applySeriesColors()}getSize(){let t=this.options.chartArea||{},e=t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),i=t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight);return{width:e,height:i}}resize(t){let e=this.getSize(),i=this._size,s=e.width>0||e.height>0;t||s&&(!i||e.width!==i.width||e.height!==i.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):s&&this._selections&&Ln(this._selections,o=>!o.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){let e=this._model._plotArea,i=e.findPane(t);e.redraw(i)}else this._redraw()}getAxis(t){return Hn(t,this._plotArea.axes)}findAxisByName(t){return this.getAxis(t)}findPaneByName(t){let e=this._plotArea.panes;for(let i=0;i<e.length;i++)if(e[i].options.name===t)return new jn(e[i])}findPaneByIndex(t){let e=this._plotArea.panes;if(e[t])return new jn(e[t])}plotArea(){return new Mf(this._plotArea)}toggleHighlight(t,e){let i=this._plotArea,s=(i.srcSeries||i.series||[])[0],o;if(K(e))o=i.filterPoints(e);else{let r,a;jt(e)?(r=e.series,a=e.category):r=a=e,s.type===Gn?o=ub(i.pointsBySeriesName(r),a):z(s.type,[Ue,Ws,Xs])?o=ub((i.charts[0]||{}).points,a):o=i.pointsBySeriesName(r)}o&&this.togglePointsHighlight(t,o)}togglePointsHighlight(t,e){let i=this._highlight;for(let s=0;s<e.length;s++)i.togglePointHighlight(e[s],t)}showTooltip(t){let e=this._sharedTooltip(),{_tooltip:i,_plotArea:s}=this,o,r;if(K(t)?(o=s.findPoint(t),o&&e&&(r=o.categoryIx)):e&&b(t)&&(r=s.categoryAxis.categoryIndex(t)),e){if(r>=0){let a=this._plotArea.pointsByCategoryIndex(r);i.showAt(a)}}else o&&i.show(o)}hideTooltip(){this._tooltip.hide()}_initSurface(){let t=this.surface,e=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&We(e,{width:i.width}),i.height&&We(e,{height:i.height}),!t||t.options.type!==this.options.renderAs?(this._destroySurface(),this.surface=x.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)):(this.surface.clear(),this.surface.resize()),this.element._kendoExportVisual=this._kendoExportVisual.bind(this)}_surfaceWrap(){return this.element}_redraw(){let t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=t,this._plotArea=t._plotArea,this._legend=t._legend,t.renderVisual(),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),this.options.transitions!==!1&&t.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new Rm,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this._setComputedStyles(),this.trigger(e0),mb(this._plotArea.panes),this._navState||this._cancelDomEvents(),this._redrawFocusHighlight()}_setComputedStyles(){let t=this.titleHeight();this.element.style.setProperty("--kendo-chart-computed-title-height",`${t}px`)}_redrawFocusHighlight(){if(this._destroyed)return;let{_focusState:{legendInFocus:t,preserveHighlight:e}}=this;t&&e&&(this._focusElement(this._getFocusedLegendItem(),!1),this._focusState.preserveHighlight=!1)}_setElementAccessibilityAttributes(){let t=this.options.title,e=Nt(t)?t:t.description||t.text;e&&this.element.setAttribute("aria-roledescription",e)}_kendoExportVisual(t){if(t&&t.width&&t.height){let e=this._originalOptions.chartArea||{},i={width:e.width||t.width,height:e.height||t.height};return this.exportVisual(i)}return this.exportVisual()}exportVisual(t){let e;if(t&&(t.width||t.height||t.options)){let i=this.options,s=f({},t.options,{chartArea:{width:t.width,height:t.height}});ng(this._originalOptions,s),this.options=f({},this._originalOptions,s),this._initTheme(this.options,this._theme),this.bindCategories();let o=this._getModel();o.renderVisual(),mb(o._plotArea.panes),e=o.visual,this.options=i}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof ei&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){let t=this.options;t.pannable!==!1&&(this._pannable=new Pm(this._plotArea,t.pannable))}_createZoomSelection(){let t=this.options.zoomable,e=(t||{}).selection;t!==!1&&e!==!1&&(this._zoomSelection=new Lm(this,e))}_createMousewheelZoom(){let t=this.options.zoomable,e=(t||{}).mousewheel;t!==!1&&e!==!1&&(this._mousewheelZoom=new Om(this,e))}_toggleDragZoomEvents(){let t=this.options.pannable,e=this.options.zoomable,i=(e||{}).selection,s=(e||{}).mousewheel,o=!t&&(e===!1||i===!1)&&!this.requiresHandlers([Ch,Wo,Xo]),r=(e===!1||s===!1)&&!this.requiresHandlers([Yn,Js,to]),a=this.element;this._dragZoomEnabled&&o&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(o&&r)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!r)}_toggleDomEvents(t,e){let i=this.domEvents;i&&(i.toggleDrag&&i.toggleDrag(t),i.toggleZoom&&i.toggleZoom(e))}_createTooltip(){let{options:{tooltip:t}}=this,e;return this._sharedTooltip()?e=this._createSharedTooltip(t):e=new zm(this.chartService,t),e}_createSharedTooltip(t){return new al(this._plotArea,t)}applyDefaults(t,e){d1(t,e),p1(t,e)}applySeriesColors(){let t=this.options,e=t.series,i=t.seriesColors||[];for(let s=0;s<e.length;s++){let o=e[s],r=i[s%i.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}}_getModel(){let t=this.options,e=this._createPlotArea(),i=new lf(this._modelOptions());i.chart=this,i._plotArea=e;let s=cs.buildTitle(t.title),o=cs.buildTitle(t.subtitle,{align:t.title.align,position:t.title.position});if(i.append.apply(i,cs.orderTitles([s,o])),t.legend&&t.legend.visible){let r=new ol(e.options.legend,this.chartService);i.append(r),i._legend=r}return i.append(e),i.reflow(),this._setTitleBox(s,o),i}_setTitleBox(t,e){if(!t&&!e)return;this._titleBox=(t||e).box.clone();let i=t?t.options.position:"",s=e?e.options.position:"";i===s&&e?this._titleBox.wrap(e.box):t&&e&&s!==X&&(this._titleBox=e.box.clone())}_modelOptions(){let t=this.options,e=this.getSize();return f({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)}_createPlotArea(t){let e=this.options;return pi.current.create(t?[]:e.series,e,this.chartService)}_setupSelection(){let{_plotArea:{axes:t}}=this,e=this._selections=[];for(let i=0;i<t.length;i++){let s=t[i],o=s.options;if(s instanceof ye&&o.select&&!o.vertical){let r=s.range(),a=new rl(this,s,f({min:r.min,max:r.max},o.select));e.push(a)}}}_selectStart(t){return this.trigger(ja,t)}_select(t){return this.trigger(Yo,t)}_selectEnd(t){return this.trigger(Ua,t)}_initHandlers(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=An(this._mousemove.bind(this),c1)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){let e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){let e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){e.sender=this,t===Sh?e.anchor.point=this._toDocumentCoordinates(e.anchor.point):t===yh?this._updateDrilldownPoint(e.point):t===bh?this._resetDrilldownPoint():t===xh?(this._focusPoint(e.point),this._startDrilldown(e.point)):t===gh&&this._focusLegendItem(e);let i=this.observers,s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s}titleHeight(){return this._titleBox?this._titleBox.height():0}_attachEvents(){let t=this.element;this._touchAction=t.style.touchAction,Ro(t,{[ab]:this._clickHandler,[Zn]:this._mousewheelHandler,[lb]:this._mouseleaveHandler,[cb]:this._keydownHandler,[l1]:this._mousedownHandler,[hb]:this._focusHandler,[db]:this._blurHandler}),this._shouldAttachMouseMove()&&Ro(t,{[an]:this._mousemove}),this.domEvents=va.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(_h)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())}_gestureend(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(to,{}))}_gesturechange(t){let e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();let i=this._gestureDistance,s=-t.distance/i+1;if(Math.abs(s)>=.1){s=Math.round(s*10),this._gestureDistance=t.distance;let o={delta:s,axisRanges:_l(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Yn,o)){let r=this._eventCoordinates(t);this._zooming||(this._zooming=!0),(o.axisRanges=e.updateRanges(s,r))&&!this.trigger(Js,o)&&e.zoom()}}}}_mouseout(t){if(t.element){let e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}}_start(t){let e=this._eventCoordinates(t);this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([Ch,Wo,Xo])&&this._startNavigation(t,e,Ch),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Yn,{axisRanges:_l(this._plotArea.axes),originalEvent:t}))}_move(t){let{_navState:e,_pannable:i}=this;if(!this._stopChartHandlers(t)){if(i){let s=i.move(t);s&&!this.trigger(Wo,{axisRanges:s,originalEvent:t})&&i.pan()}else if(e){let s={},o=e.axes;for(let r=0;r<o.length;r++){let a=o[r];if(a.options.name){let c=a.options.vertical?t.y:t.x,h=c.startLocation-c.location;h!==0&&(s[a.options.name]=a.translateRange(h))}}e.axisRanges=s,this.trigger(Wo,{axisRanges:s,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}}_end(t){if(this._stopChartHandlers(t))return;let e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Xo,{axisRanges:_l(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Xo),this._zoomSelection){let i=this._zoomSelection.end(t);i&&!this.trigger(Js,{axisRanges:i,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(to,{axisRanges:i,originalEvent:t}))}}_stopChartHandlers(t){let e=this._selections||[];if(!e.length)return!1;let i=this._eventCoordinates(t),s=this._plotArea.paneByPoint(i);if(s){for(let o=0;o<e.length;o++)if(e[o].onPane(s))return!0}}_mousewheelZoomRate(){let e=(this.options.zoomable||{}).mousewheel||{};return F(e.rate,a0)}_mousewheel(t){let e=Ms(t),i=this._mousewheelZoom,s=this._eventCoordinates(t);if(!(this._stopChartHandlers(t)||!this._plotArea.backgroundContainsPoint(s)))if(i){let o={delta:e,axisRanges:_l(this._plotArea.axes),originalEvent:t};(this._zooming||!this.trigger(Yn,o))&&(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=i.updateRanges(e,s),o.axisRanges&&!this.trigger(Js,o)&&i.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(to,o),this._zooming=!1,this.surface&&this.surface.resumeTracking()},Ga))}else{let o=this._navState;if(o||this._startNavigation(t,s,Yn)||(o=this._navState),o){let r=o.totalDelta||e;o.totalDelta=r+e;let a=this._navState.axes,l={};for(let c=0;c<a.length;c++){let h=a[c],d=h.options.name;d&&(l[d]=h.scaleRange(-r*this._mousewheelZoomRate(),s))}this.trigger(Js,{delta:e,axisRanges:l,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(t,to)},Ga)}}}_startNavigation(t,e,i){let s=this._model._plotArea,o=s.findPointPane(e),r=s.axes.slice(0);if(!o)return;let a=_l(r);this.trigger(i,{axisRanges:a,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:a,pane:o,axes:r})}_endNavigation(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)}_getChartElement(t,e){let i=this.surface.eventTarget(t);if(i)return this._drawingChartElement(i,t,e)}_drawingChartElement(t,e,i){let s=t,o;for(;s&&!o;)o=s.chartElement,s=s.parent;if(o)return o.aliasFor&&(o=o.aliasFor(e,this._eventCoordinates(e))),i&&(o=o.closest(i),o&&o.aliasFor&&(o=o.aliasFor())),o}_eventCoordinates(t){let e=Ec(t);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){let{paddingLeft:t,paddingTop:e}=bt(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:t}}return this._padding}_toDocumentCoordinates(t){let e=this._elementPadding(),i=Fi(this.element);return{left:D(t.x+e.left+i.left),top:D(t.y+e.top+i.top)}}_toModelCoordinates(t,e){let i=this.element,s=Fi(i),o=this._elementPadding(),r=Pc(i).invert(),a=new _.Point(t-s.left-o.left,e-s.top-o.top).transform(r);return new N(a.x,a.y)}_tap(t){let e=this.surface.eventTarget(t),i=this._drawingChartElement(e,t),s=this._sharedTooltip();!this._startHover(e,t)&&!s&&this._unsetActivePoint(),s&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(i,t),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(t){let e=this._getChartElement(t);this._propagateClick(e,t)}_propagateClick(t,e){let i=t;for(;i;)i.click&&i.click(this,e),i=i.parent}_isLegendBeforeChart(){let{options:{legend:{position:t}},_legend:e}=this;return e&&e.hasItems()&&(t===U||t===V)}_focus(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1}_keydown(t){let{_focusState:{legendInFocus:e,focusedElement:i},_legend:s}=this;if(t.key===$v){this._clearFocusedElement();let o=this._isLegendBeforeChart();e&&o!==t.shiftKey?this._navigatePoints(t):!e&&o===t.shiftKey&&s.hasItems()&&this._navigateLegend(t)}else t.key===ey?(i&&t.stopPropagation(),this._tooltip&&this._tooltip.visible?this._hideTooltip():this._blur()):t.key===ty?i&&(this._focusState.preserveHighlight=!0,this._propagateClick(i,t),this._focusElement(i)):e?this._navigateLegend(t):this._navigatePoints(t)}_navigatePoints(t){let{_focusState:e,_plotArea:i}=this;if(e.legendInFocus=!1,!e.focusedElement){this._focusFirstPoint(),t.preventDefault();return}let s=o=>{e.focusedPoint=o,this._focusElement(e.focusedPoint),this._displayTooltip(o),t.preventDefault()};switch(t.key){case zu:s(i.getPointToTheRight(e.focusedPoint));break;case Vu:s(i.getPointToTheLeft(e.focusedPoint));break;case Bu:s(i.getPointBelow(e.focusedPoint));break;case Nu:s(i.getPointAbove(e.focusedPoint));break;default:break}}_navigateLegend(t){let{_focusState:e,_legend:i,chartService:{rtl:s}}=this;if(e.legendInFocus=!0,!e.focusedElement){this._focusFirstLegendItem(),t.preventDefault();return}let o=i.getItems().length,r=a=>{e.focusedLegendItemIndex=a(e.focusedLegendItemIndex,o),this._focusElement(this._getFocusedLegendItem()),t.preventDefault()};switch(t.key){case Nu:case Vu:r(s?ra:aa);break;case Bu:case zu:r(s?aa:ra);break;default:break}}_focusFirstPoint(){let t=this._focusState.focusedPoint=this._plotArea.getFirstPoint();t&&(this._focusElement(t),this._displayTooltip(t))}_hasFocus(){return this.element.ownerDocument.activeElement===this.element}_mousedown(){this._hasFocus()||(this._preventInitialPointFocus=!0)}_focusChart(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())}_focusPoint(t){this._focusState.focusedPoint=t,this._focusChart(),this._focusElement(t,!0)}_focusFirstLegendItem(){let{_focusState:t}=this;t.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),t.legendInFocus=!0,this._hideTooltip()}_focusLegendItem(t){let{_focusState:e}=this;e.focusedLegendItemIndex=this._legend.getItems().findIndex(i=>i.options.series.index===t.seriesIndex&&i.options.pointIndex===t.pointIndex),e.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)}_getFocusedLegendItem(){let{_focusState:t,_legend:e}=this;return e.getItems()[t.focusedLegendItemIndex]}_focusElement(t,e){let{_focusState:i}=this;if(this._clearFocusedElement(),!!t&&(i.focusedElement=t,this._setElementActiveDescendant(t),!e))if(t.focusVisual(),i.legendInFocus){let s=t.options;this._showSeriesInactiveOpacity(s.series.index,s.pointIndex)}else this._showInactiveOpacity(t)}_clearFocusedElement(){let{_focusState:t}=this;t&&(t.focusedElement&&t.focusedElement.clearFocusFromVisual&&(t.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),t.focusedElement=null)}_setElementActiveDescendant(t){this.options.renderAs==="canvas"&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(t),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(ts,t._id)}_clearElementActiveDescendant(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(ts)}_createPseudoFocusedElement(t){let e=document.createElement("div"),i=t.options.accessibility;e.id=t._id,e.setAttribute("aria-label",t.getAriaLabelText()),e.setAttribute("role",i.role),e.setAttribute("aria-roledescription",i.ariaRoleDescription);let s=i.ariaChecked;return b(s)&&e.setAttribute("aria-checked",s),e}_blur(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()}_startHover(t,e){if(this._suppressHover)return!1;let i=this._drawingChartElement(t,e,function(o){return(o.hover||o.over)&&!(o instanceof ue)}),s=this._activePoint;return this._updateHoveredPoint(i,e),i&&s!==i&&i.hover&&(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,e)&&(this._displayTooltip(i),this._showInactiveOpacity(i))),i}_displayTooltip(t){f({},this.options.tooltip,t.options.tooltip).visible&&(this._sharedTooltip()&&t.box?this._trackSharedTooltip(t.box.center(),{}):this._tooltip.show(t))}_hideTooltip(){this._tooltip&&this._tooltip.hide()}_displayInactiveOpacity(t,e,i){let s=this._activeChartInstance=this._chartInstanceFromPoint(t);if(s)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(s.children,null,!0),this._applySeriesOpacity(s.children,t.series),this._highlight.show(i||t);else{let o;if(!s.supportsPointInactiveOpacity()){this._highlight.show(t);return}o=this._getInactivePoints(t,s),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}}_getInactivePoints(t,e){return this._getAllPointsOfType(e,t.constructor).filter(s=>s!==t)}_getAllPointsOfType(t,e){let i=[];for(let s=0;s<t.children.length;s++){let o=t.children[s];o.constructor===e?i.push(o):o.children&&o.children.length&&(i=i.concat(this._getAllPointsOfType(o,e)))}return i}_updateHoveredPoint(t,e){let i=this._hoveredPoint;i&&i!==t&&(i.out(this,e),this._hoveredPoint=null),t&&i!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))}_updateDrilldownPoint(t){if(!t||!t.series)return;let{fields:e}=lt.current.bindPoint(t.series,null,t.dataItem);e.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer")}_resetDrilldownPoint(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)}_startDrilldown(t){if(!t||!t.series)return;let e=t.series,{fields:i}=lt.current.bindPoint(e,null,t.dataItem),s=i.drilldown;if(s){let o={series:e,point:t,value:s,sender:this};this.trigger(l0,o)}}_updateSeriesOpacity(t,e){let i=this._plotArea,s=i.series.length;for(let o=0;o<s;o++){let r=i.series[o],a=this._getDefaultOpacityForSeries(r),l=this._getInactiveOpacityForSeries(r);!e&&r!==t.series?(r.defaultOpacity=a,r.opacity=l,r.line&&(r.line.opacity=l)):(r.opacity=a,r.line&&(r.line.opacity=a))}}_applySeriesOpacity(t,e,i,s){for(let o=0;o<t.length;o++){let r=t[o],a=r.series||s;if(a&&(a.highlight||{}).visible&&r.visual){let c=s?s.opacity:r.series.opacity;(a!==e||i)&&r.visual.opacity(i?1:c)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,e,i,r.series)}}_chartInstanceFromPoint(t){let e=t.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_showInactiveOpacity(t){let e=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(t,e):this._highlight.show(t)}_hideInactiveOpacity(t){let e=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(e&&this._activeChartInstance&&(this._updateSeriesOpacity(t,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)}_hasInactiveOpacity(){let t=this.options.seriesDefaults.highlight.inactiveOpacity!==void 0,e=this.options.series.filter(i=>i.highlight.inactiveOpacity!==void 0).length>0;return t||e}_getInactiveOpacityForSeries(t){let e=this.options.seriesDefaults.highlight.inactiveOpacity;return t.highlight.inactiveOpacity||e||t.opacity||ju}_getDefaultOpacityForSeries(t){return t.defaultOpacity||t.opacity||ju}_mouseover(t){let e=this._startHover(t.element,t.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),Ro(document,{[an]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(t){let{options:e,_tooltip:i,_highlight:s,_activePoint:o}=this,r=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(r)){if(o&&o.tooltipTracking&&o.series&&o.parent.getNearestPoint){let a=o.parent.getNearestPoint(r.x,r.y,o.seriesIx);a&&a!==o&&(this._activePoint=a,a.hover(this,t)||(f({},e.tooltip,a.options.tooltip).visible&&i.show(a),s.show(a)))}}else Po(document,{[an]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(o)}_mousemove(t){let e=this._eventCoordinates(t),i=this._plotArea;if(this._trackCrosshairs(e),i.hover){let s=i.backgroundContainsPoint(e);s?(this._plotAreaHovered=!0,this._plotArea.hover(this,t)):this._plotAreaHovered&&!s&&(this._plotAreaHovered=!1,this.trigger(_h))}this._sharedTooltip()&&this._trackSharedTooltip(e,t)}_trackCrosshairs(t){let e=this._plotArea.crosshairs;for(let i=0;i<e.length;i++){let s=e[i];s.box.containsPoint(t)?s.showAt(t):s.hide()}}_trackSharedTooltip(t,e,i){if(this._suppressHover)return;let{options:{tooltip:s},_plotArea:o,_plotArea:{categoryAxis:r},_tooltip:a,_highlight:l}=this;if(o.backgroundContainsPoint(t)){let c=r.pointCategoryIndex(t);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&i){let h=o.pointsByCategoryIndex(c),d=h.map(function(u){return u.eventArgs(e)}),p=d[0]||{};p.categoryPoints=d,h.length>0&&!this.trigger(vh,p)?(s.visible&&a.showAt(h,t),l.show(h),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else i&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(t){let e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)}_unsetActivePoint(t){let{_highlight:e}=this;this._activePoint=null,this._hoveredPoint=null,(!t||!t.keepTooltipOpen)&&this._hideTooltip(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,e&&e.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){let t=this.options,e=[].concat(t.categoryAxis);for(let i=0;i<e.length;i++){let s=e[i];s.autoBind!==!1&&this.bindCategoryAxisFromSeries(s,i)}}bindCategoryAxisFromSeries(t,e){let i=new Set,s=this.options.series.filter(h=>h.categoryAxis===t.name||!h.categoryAxis&&e===0),o=s.some(h=>!!h.categoryField),r=s.filter(h=>h.data&&h.data.length>0),a=r.map(h=>lt.current.bindPoint(h,0).fields.category),l=a.reduce((h,d)=>h||tr(t,d),!1);if(r.filter((h,d)=>h.categoryField||b(a[d])).forEach(h=>h.data.forEach((d,p)=>{let u=lt.current.bindPoint(h,p).fields.category;if(l){let m=Jn(u,d,this.chartService.intl);u=m?m.getTime():void 0}i.add(u)})),i.size>0){let h=Array.from(i.values());l&&(h=h.sort().map(d=>d&&new Date(d))),t.categories=h}else o&&(t.categories=[])}_isBindable(t){let e=lt.current.valueFields(t),i=!0;for(let s=0;s<e.length;s++){let o=e[s];if(o===ce?o="field":o=o+"Field",!b(t[o])){i=!1;break}}return i}_noTransitionsRedraw(){let t=this.options,e;t.transitions!==!1&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}_legendItemHover(t,e){this._showSeriesInactiveOpacity(t,e)}_showSeriesInactiveOpacity(t,e){let{_plotArea:i,_highlight:s}=this,o=(i.srcSeries||i.series)[t],r;if(z(o.type,[Ue,Gn,Ws,Xs])?r=i.findPoint(function(a){return a.series.index===t&&a.index===e}):r=i.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&o.visible&&r){let a=i.series.length>1,l=r.length?r[0]:r;this._displayInactiveOpacity(l,a,r)}else s.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([wh,_h])}updateMouseMoveHandler(){Po(this.element,{[an]:this._mousemove}),this._shouldAttachMouseMove()&&Ro(this.element,{[an]:this._mousemove})}applyOptions(t,e){ng(this._originalOptions,t),this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler(),this._restoreOverlayElement()}setDirection(t){this.chartService.rtl=!!t,this.surface&&this.surface.type==="svg"&&this._destroySurface()}setIntlService(t){this.chartService.intl=t}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,Po(this.element,{[ab]:this._clickHandler,[Zn]:this._mousewheelHandler,[an]:this._mousemove,[lb]:this._mouseleaveHandler,[cb]:this._keydownHandler,[hb]:this._focusHandler,[db]:this._blurHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Po(document,{[an]:this._mouseMoveTrackHandler}),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){let t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)}_destroySelections(){let t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()}_destroyView(){let t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}};function h1(n){let t=og;for(let e=0;e<t.length;e++){let i=t[e]+"Axes";n[i]&&(n[t[e]+"Axis"]=n[i],delete n[i])}}function ub(n,t){if(n){for(let e=0;e<n.length;e++)if(n[e].category===t)return[n[e]]}}function d1(n,t){let e=(t||{}).axisDefaults||{},i,s,o;function r(a){let l=(a||{}).color||s.color,c=f({},e,e[i],s,s[i],{line:{color:l},labels:{color:l},title:{color:l}},a);return delete c[i],c}for(let a=0;a<og.length;a++)i=og[a]+"Axis",s=n.axisDefaults||{},o=[].concat(n[i]),o=o.map(r),n[i]=o.length>1?o:o[0]}function p1(n,t){let e=n.series,i=e.length,s=n.seriesDefaults,o=f({},n.seriesDefaults),r=t?f({},t.seriesDefaults):{},a=f({},r);fb(o),fb(a);for(let l=0;l<i;l++){let c=e[l].type||n.seriesDefaults.type,h=f({data:[]},a,r[c],{tooltip:n.tooltip},o,s[c]);e[l]._defaults=h,e[l]=f({},h,e[l]),e[l].data=e[l].data||[]}}function fb(n){delete n.bar,delete n.column,delete n.rangeColumn,delete n.line,delete n.verticalLine,delete n.pie,delete n.donut,delete n.area,delete n.verticalArea,delete n.scatter,delete n.scatterLine,delete n.bubble,delete n.candlestick,delete n.ohlc,delete n.boxPlot,delete n.bullet,delete n.verticalBullet,delete n.polarArea,delete n.polarLine,delete n.radarArea,delete n.radarLine,delete n.waterfall}function _l(n){let t={};for(let e=0;e<n.length;e++){let i=n[e],s=i.options.name;s&&(t[s]=i.range())}return t}var u1=["data","categories"];function ng(n,t){for(let e in t)if(!z(e,u1)&&Os(t,e)){let i=t[e],s=n[e];if(b(s)){let o=i===null;o||!b(i)?(delete n[e],o&&delete t[e]):s&&jt(i)&&jt(s)&&ng(s,i)}}}function mb(n){for(let t=0;t<n.length;t++)n[t].notifyRender()}v(Rd,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{},focusHighlight:{border:{opacity:1,color:J,width:2}}},categoryAxis:{},seriesDefaults:{type:De,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{},focusHighlight:{border:{opacity:1,width:2},zIndex:200}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var ln=Rd;var f1=-2,rg=class extends al{_slotAnchor(t,e){let s=this.plotArea.categoryAxis.options.vertical,o=s?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"},r;return s?r=new N(this.plotArea.box.x2,e.center().y):r=new N(e.center().x,f1),{point:r,align:o}}_defaultAnchor(t,e){return this._slotAnchor({},e)}},gb=rg;var m1=150,g1=150,xb=[ae,Si];function vb(n){let t=[];for(let e=0;e<n.length;e++){let i=n[e];t[e]=i.style.display,i.style.display="none"}return t}function yb(n,t){for(let e=0;e<n.length;e++)n[e].style.display=t[e]}function bb(n){return Y(n)?[n]:n}var Pd=class extends ln{_setElementClass(t){st(t,"k-sparkline")}_initElement(t){super._initElement(t),this._initialWidth=Math.floor(We(t).width)}_resize(){let t=this.element,e=vb(t.childNodes);this._initialWidth=Math.floor(We(t).width),yb(t.childNodes,e),super._resize()}_modelOptions(){let t=this.options,e=this._surfaceWrap(),i=vb(e.childNodes),s=document.createElement("span");s.innerHTML="&nbsp;",e.appendChild(s);let o=f({width:this._autoWidth,height:We(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return We(e,{width:o.width,height:o.height}),e.removeChild(s),yb(e.childNodes,i),this.surface&&this.surface.resize(),o}_surfaceWrap(){if(!this.stage){let t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage}_createPlotArea(t){let e=super._createPlotArea(t);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(t){let e=this.options,i=Z(e.chartArea.margin),s=t.charts,o=this._surfaceWrap(),r=0;for(let l=0;l<s.length;l++){let c=s[l],h=(c.options.series||[])[0];if(!h)continue;if(h.type===ae)return m1;if(h.type===Si)return g1;if(h.type===Ue)return We(o).height;let d=c.categoryAxis;if(d){let p=d.categoriesCount()*(!c.options.isStacked&&z(h.type,[De,$s])?c.seriesOptions.length:1);r=Math.max(r,p)}}let a=r*e.pointWidth;return a>0&&(a+=i.left+i.right),a}_createSharedTooltip(t){return new gb(this._plotArea,t)}static normalizeOptions(t){let e=bb(t);return ft(e)?e={seriesDefaults:{data:e}}:e=f({},e),e.series||(e.series=[{data:bb(e.data)}]),f(e,{seriesDefaults:{type:e.type}}),(z(e.series[0].type,xb)||z(e.seriesDefaults.type,xb))&&(e=f({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}};v(Pd,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var Cl=Pd;var ag=class extends x.Animation{setup(){this._initialOpacity=parseFloat(bt(this.element,"opacity").opacity)}step(t){bt(this.element,{opacity:String(qt(this._initialOpacity,0,t))})}abort(){super.abort(),bt(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),bt(this.element,{opacity:String(this._initialOpacity)})}},wb=ag;function lg(n,t){let e=document.createElement("div");return e.className=n,t&&(e.style.cssText=t),e}var Ld=class extends R{constructor(t,e,i){super(),this.options=f({},this.options,i),this.container=t,this.chartService=e;let s=bt(t,["paddingLeft","paddingTop"]);this.chartPadding={top:s.paddingTop,left:s.paddingLeft},this.createElements(),t.appendChild(this.element)}createElements(){let t=this.element=lg("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=lg("k-tooltip k-chart-tooltip"),i=this.scroll=lg("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(i)}show(t,e,i){let{element:s,options:o,scroll:r,tooltip:a}=this,l=ot(ht(t)+ht(e-t)/2),c=i.width()*.4,h=i.center().x-c,p=i.center().x-h,u=o.max-o.min,m=p/u,g=l-o.min,w=this.chartService.intl.format(o.format,t,e),E=mt(o);this.clearHideTimeout(),this._visible||(bt(s,{visibility:"hidden",display:"block"}),this._visible=!0),E&&(w=E({from:t,to:e})),a.innerHTML=w,bt(a,{left:i.center().x-a.offsetWidth/2,top:i.y1});let I=bt(a,["marginTop","borderTopWidth","height"]);bt(r,{width:c,left:h+g*m,top:i.y1+I.marginTop+I.borderTopWidth+I.height/2}),bt(s,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new wb(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}};v(Ld,{format:"{0:d} - {1:d}",hideDelay:500});var cg=Ld;var Ii="_navigator",Di=Ii,hg="_default";var v1=3,dg=class n extends R{constructor(t){super(),this.chart=t;let e=this.options=f({},this.options,t.options.navigator),i=e.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),b(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new Rn(this,{[Wo]:"_drag",[Xo]:"_dragEnd",[Js]:"_zoom",[to]:"_zoomEnd"}),t.addObserver(this.chartObserver)}parseDate(t){return Pt(this.chart.chartService.intl,t)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){let{chart:t,options:e}=this,i=this.mainAxis(),{min:s,max:o}=i.roundedRange(),{from:r,to:a,mousewheel:l}=e.select,c=y1(i);i.categoriesCount()!==0&&(this.clean(),c.box=i.box,this.selection=new rl(t,c,{min:s,max:o,from:r||s,to:a||o,mousewheel:F(l,{zoom:"left"}),visible:e.visible},new Rn(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new cg(t.element,t.chartService,{min:s,max:o,template:mt(e.hint),format:e.hint.format})))}setRange(){let e=this.chart._createPlotArea(!0).namedCategoryAxes[Di],{min:i,max:s}=e.roundedRange(),o=this.options.select||{},r=o.from||i;r<i&&(r=i);let a=o.to||s;a>s&&(a=s),this.options.select=f({},o,{from:r,to:a}),this.filterAxes()}_redrawSelf(t){let e=this.chart._plotArea;e&&e.redraw(gt(e.panes),t)}redrawSlaves(){let t=this.chart,e=t._plotArea,i=e.panes.filter(s=>s.options.name!==Ii);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(i)}_drag(t){let{chart:e,selection:i}=this,s=e._eventCoordinates(t.originalEvent),o=this.mainAxis(),r=o.roundedRange(),a=o.pane.box.containsPoint(s),l=e._plotArea.categoryAxis,c=t.axisRanges[l.options.name],h=this.options.select,d;if(!c||a||!i)return;h.from&&h.to?d=ht(h.to)-ht(h.from):d=ht(i.options.to)-ht(i.options.from);let p=ot(M(ht(c.min),r.min,ht(r.max)-d)),u=ot(M(ht(p)+d,ht(r.min)+d,r.max));this.options.select={from:p,to:u},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),i.set(p,u),this.showHint(p,u)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){let{selection:{options:{from:t,to:e}},options:{select:i}}=this;i.from=t,i.to=e}filterAxes(){let{options:{select:t={}},chart:e}=this,i=e.options.categoryAxis,{from:s,to:o}=t;for(let r=0;r<i.length;r++){let a=i[r];a.pane!==Ii&&(a.min=s,a.max=o)}}filter(){let{chart:t,options:{select:e}}=this;if(!t.requiresHandlers(["navigatorFilter"]))return;let i=this.mainAxis(),s={from:e.from,to:e.to};if(i.options.type!=="category"){let o=new _i(f({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;s.from=Vt(o.min,-o.baseUnitStep,o.baseUnit),s.to=Vt(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",s)}_zoom(t){let{chart:{_plotArea:{categoryAxis:e}},selection:i,options:{select:s,liveDrag:o}}=this,r=this.mainAxis(),a=t.delta;if(!i)return;let l=r.categoryIndex(i.options.from),c=r.categoryIndex(i.options.to),h=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=v1),c-l>1?(i.zoom(a,h),this.readSelection()):(e.options.min=s.from,s.from=e.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),h).min),o&&(this.filterAxes(),this.redrawSlaves()),i.set(s.from,s.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(t){this._dragEnd(t)}showHint(t,e){let i=this.chart._plotArea;this.hint&&this.hint.show(t,e,i.backgroundBox())}_selectStart(t){return this.chart._selectStart(t)}_select(t){return this.showHint(t.from,t.to),this.chart._select(t)}_selectEnd(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)}mainAxis(){let t=this.chart._plotArea;if(t)return t.namedCategoryAxes[Di]}select(t,e){let i=this.options.select;return t&&e&&(i.from=this.parseDate(t),i.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:i.from,to:i.to}}static setup(t={},e={}){if(t.__navi)return;t.__navi=!0;let i=f({},e.navigator,t.navigator),s=t.panes=[].concat(t.panes),o=f({},i.pane,{name:Ii});i.visible||(o.visible=!1,o.height=.1),t.navigator.position!=="top"?s.push(o):s.unshift(o),s.forEach(r=>{r.name=r.name||hg}),n.attachAxes(t,i),n.attachSeries(t,i,e)}static attachAxes(t,e){let i=e.series||[],s=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis);s.concat(o).forEach(d=>{d.pane=d.pane||hg});let l=pt(i,mh).length===0,c=f({type:"date",pane:Ii,roundToBaseUnit:!l,justified:l,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),h=e.categoryAxis;s.push(f({},c,{maxDateGroups:200},h,{name:Di,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),f({},c,h,{name:Di+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),f({},c,h,{name:Di+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(f({name:Di,pane:Ii,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(t,e,i){let s=t.series=t.series||[],o=[].concat(e.series||[]),r=i.seriesColors,a=e.seriesDefaults;for(let l=0;l<o.length;l++)s.push(f({color:r[l%r.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[l],{axis:Di,categoryAxis:Di,autoBind:e.autoBindElements}))}};function _b(){}function y1(n){return _b.prototype=n,new _b}var Md=dg;var b1=28,Od=class extends ln{applyDefaults(t,e){let i=We(this.element).width||600,s=e,o={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(i/b1)}}};s&&(s=f({},s,o)),Md.setup(t,s),super.applyDefaults(t,s)}_setElementClass(t){st(t,"k-chart k-stockchart")}setOptions(t){this.destroyNavigator(),super.setOptions(t)}noTransitionsRedraw(){let t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t}_resize(){this.noTransitionsRedraw()}_redraw(){let t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()}_dirty(){let t=this.options,e=[].concat(t.series,t.navigator.series),i=Ut(e,function(o){return o&&o.visible}).length,s=this._seriesCount!==i;return this._seriesCount=i,s}_fullRedraw(){let t=this.navigator;t||(t=this.navigator=new Md(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),super._redraw(),t.initSelection()}_trackSharedTooltip(t){let i=this._plotArea.paneByPoint(t);i&&i.options.name===Ii?this._unsetActivePoint():super._trackSharedTooltip(t)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){let t=[].concat(this.options.categoryAxis),e;for(let i=0;i<t.length;i++){let s=t[i];s.name===Di?e=s.categories:e&&s.pane===Ii&&(s.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(t){let e=this._eventCoordinates(t),i=this._plotArea.paneByPoint(e);return super._stopChartHandlers(t)||i&&i.options.name===Ii}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}};v(Od,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var pg=Od;var Cb="arrow",Fd="arrowPointer",cn="barPointer";var Nd=Math.PI/180,qi="inside",lo="linear",Bd="outside",Vd="radialPointer",zd="radialRangePointer";function pr(n,t){let e=n.getOrigin(),i=n.getSize(),s=Z(t);return n.setOrigin([e.x-s.left,e.y-s.top]),n.setSize([i.width+(s.left+s.right),i.height+(s.top+s.bottom)]),n}var{Group:w1,Path:Sb,Text:_1}=x;function ur(n,t){let e=n.box,i=n.children[0].box,s=t.border||{},o=t.background||"",r=Sb.fromRect(new _.Rect([e.x1,e.y1],[e.width(),e.height()]),{stroke:{}}),a=new _1(n.text,new _.Point(i.x1,i.y1),{font:t.font,fill:{color:t.color}}),l=pr(a.bbox().clone(),t.padding),c=Sb.fromRect(l,{stroke:{color:s.width?s.color:"",width:s.width,opacity:s.opacity,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),h=new w1;return h.append(r),h.append(c),h.append(a),h}function fr(n,t,e){let i=b(n.from)?n.from:dt,s=b(n.to)?n.to:rt;return n.from=Math.max(Math.min(s,i),t),n.to=Math.min(Math.max(s,i),e),n}function Sl(n,t){let e=Z(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,pr(n,e)}var C1=5,{Path:S1,Surface:A1}=x,Hd=class extends R{constructor(t,e,i,s={}){super(),this.element=t,this.theme=i,this.contextService=new Fo(this,s),this._originalOptions=f({},this.options,e),this.options=f({},this._originalOptions),this._initTheme(i),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(t){let e=this.pointers[0];if(arguments.length===0)return e.value();e.value(t),this._setValueOptions(t)}_draw(){let t=this.surface;t.clear(),t.draw(this._visuals)}exportVisual(){return this._visuals}allValues(t){let e=this.pointers,i=[];if(arguments.length===0){for(let s=0;s<e.length;s++)i.push(e[s].value());return i}if(ft(t))for(let s=0;s<t.length;s++)Y(t[s])&&e[s].value(t[s]);this._setValueOptions(t)}_setValueOptions(t){let e=[].concat(this.options.pointer),i=[].concat(t);for(let s=0;s<i.length;s++)e[s].value=i[s]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){let t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)}redraw(){let t=this._surfaceSize(),e=new _.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();let i=Sl(e.bbox(),this._gaugeAreaMargin);this.reflow(i)}setOptions(t,e){this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(t){this.contextService.rtl=!!t,this.surface&&this.surface.type==="svg"&&(this.surface.destroy(),this.surface=null)}setIntlService(t){this.contextService.intl=t}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=f({},e,this.options);let i=this.options,s=i.pointer;if(ft(s)){let o=[];for(let r=0;r<s.length;r++)o.push(f({},e.pointer,s[r]));i.pointer=o}}_createGaugeArea(){let t=this.options.gaugeArea,e=this.surface.size(),i=t.border||{},s=new _.Rect([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||C1,i.width>0&&(s=Sl(s,i.width)),S1.fromRect(s,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})}_initSurface(){let{options:t,surface:e}=this,i=this._surfaceElement(),s=this._surfaceSize();We(i,s),!e||e.options.type!==t.renderAs?(e&&e.destroy(),this.surface=A1.create(i,{type:t.renderAs})):(this.surface.clear(),this.surface.resize())}_surfaceSize(){let t=this.options,e=this._getSize();return t.gaugeArea&&f(e,t.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){let t=this.element,e=this._defaultSize(),i=t.offsetWidth,s=t.offsetHeight;return i||(i=e.width),s||(s=e.height),{width:i,height:s}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(t){this.options.transitions=t;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t}};v(Hd,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var Al=Hd;var{Path:mg,Group:Tl}=x,jd=_.Point;function T1(n,t){let{position:e,tickX:i,tickY:s}=n,o,r;return n.vertical?(o=new jd(i,e),r=new jd(i+t.size,e)):(o=new jd(e,s),r=new jd(e,s+t.size)),new mg({stroke:{color:t.color,width:t.width}}).moveTo(o).lineTo(r)}function Ab(n,t,e,i){let s=t.length;if(i.visible){let{mirror:o,lineBox:r}=e;for(let a=i.skip;a<s;a+=i.step)a%i.skipUnit!==0&&(e.tickX=o?r.x2:r.x2-i.size,e.tickY=o?r.y1-i.size:r.y1,e.position=t[a],n.append(T1(e,i)))}}var Ud=class extends te{constructor(t,e){let i=t||{};!b(i.reverse)&&i.vertical===!1&&(e||{}).rtl&&(i=Object.assign({},i,{reverse:!0})),super(0,1,i,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(t){let e=f({},this.options,t);return e=f({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||Ye(e.min,e.max),e}initFields(){}render(){let t=this.elements=new Tl,e=this.renderLabels(),i=this.renderLine(),s=this.renderTicks(),o=this.renderRanges();return t.append(i,e,s,o),t}renderRanges(){let t=this.options,{min:e,max:i,vertical:s,labels:{mirror:o}}=t,r=t.ranges||[],a=new Tl,l=r.length,c=t.rangeSize||t.minorTicks.size/2;for(let h=0;h<l;h++){let d=fr(r[h],e,i),p=this.getSlot(d.from,d.to),u=s?this.lineBox():p,m=s?p:this.lineBox();s?u.x1-=c*(o?-1:1):m.y2+=c*(o?-1:1),a.append(mg.fromRect(new _.Rect([u.x1,m.y1],[u.x2-u.x1,m.y2-m.y1]),{fill:{color:d.color,opacity:d.opacity},stroke:{}}))}return a}renderLabels(){let{labels:t,options:e}=this,i=new Tl;for(let s=0;s<t.length;s++)i.append(ur(t[s],e.labels));return i}renderLine(){let t=this.options.line,e=this.lineBox(),i=new Tl;if(t.width>0&&t.visible){let s=new mg({stroke:{color:t.color,dashType:t.dashType,width:t.width}});s.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),i.append(s)}return i}renderTicks(){let t=new Tl,e=this.options,i=e.majorTicks.visible?e.majorUnit:0,s={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return Ab(t,this.getMajorTickPositions(),s,e.majorTicks),Ab(t,this.getMinorTickPositions(),s,f({},{skipUnit:i/e.minorUnit},e.minorTicks)),t}};v(Ud,{min:0,max:50,majorTicks:{size:15,align:qi,color:J,width:.5,visible:!0},minorTicks:{size:10,align:qi,color:J,width:.5,visible:!0},line:{width:.5},labels:{position:qi,padding:2},mirror:!1,_alignLines:!1});var gg=Ud;var Gd=class extends R{constructor(t,e){super();let{min:i,max:s}=t.options,o=this.options=f({},this.options,e);o.fill=o.color,this.scale=t,b(o.value)?o.value=M(o.value,i,s):o.value=i}value(t){let e=this.options,i=e.value;if(arguments.length===0)return i;let{min:s,max:o}=this.scale.options;e._oldValue=b(e._oldValue)?e.value:s,e.value=M(t,s,o),this.elements&&this.repaint()}};v(Gd,{color:J});var mr=Gd;var Wd=class extends mr{constructor(t,e){super(t,e),this.options=f({track:{visible:b(e.track)}},this.options)}reflow(){let{options:t,scale:e}=this,{mirror:i,vertical:s}=e.options,o=e.lineBox(),r=t.track.size||t.size,a=t.size/2,l=Z(t.margin),c=s?l[i?"left":"right"]:l[i?"bottom":"top"],h,d,p;c=i?-c:c,s?(p=new S(o.x1+c,o.y1,o.x1+c,o.y2),i?p.x1-=r:p.x2+=r,t.shape!==cn&&(d=new S(o.x2+c,o.y1-a,o.x2+c,o.y2+a),h=d)):(p=new S(o.x1,o.y1-c,o.x2,o.y1-c),i?p.y2+=r:p.y1-=r,t.shape!==cn&&(d=new S(o.x1-a,o.y1-c,o.x2+a,o.y1-c),h=d)),this.trackBox=p,this.pointerRangeBox=d,this.box=h||p.clone().pad(t.border.width)}getElementOptions(){let t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:b(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}}_margin(){let{scale:t,options:e}=this,{mirror:i,vertical:s}=t.options,o=Z(e.margin);return s?o[i?"left":"right"]:o[i?"bottom":"top"]}};v(Wd,{shape:cn,track:{border:{width:1}},color:J,border:{width:1},opacity:1,margin:Z(3),animation:{type:cn},visible:!0});var kl=Wd;var El=class extends x.Animation{setup(){let t=this.options,{margin:e,from:i,to:s,vertical:o}=t,r=o?"x1":"y1";t.mirror===o?(i[r]-=e,s[r]-=e):(i[r]+=e,s[r]+=e);let a=this.fromScale=new _.Point(i.x1,i.y1),l=this.toScale=new _.Point(s.x1,s.y1);t.duration!==0&&(t.duration=Math.max(a.distanceTo(l)/t.duration*1e3,1))}step(t){let e=qt(this.fromScale.x,this.toScale.x,t),i=qt(this.fromScale.y,this.toScale.y,t);this.element.transform(_.transform().translate(e,i))}};v(El,{easing:lo,duration:250});x.AnimationFactory.current.register(Fd,El);var Tb=El;var gr=_.Point,k1=x.Path,vg=class extends kl{constructor(t,e){super(t,e),b(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.6)}pointerShape(){let{scale:t,options:{size:e}}=this,i=e/2,s=t.options.mirror?-1:1,o;return t.options.vertical?o=[new gr(0,0-i),new gr(0-s*e,0),new gr(0,0+i)]:o=[new gr(0-i,0),new gr(0,0+s*e),new gr(0+i,0)],o}repaint(){let{scale:t,options:e}=this,i=new Tb(this.elements,f(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));e.animation.transitions===!1&&(i.options.duration=0),i.setup(),i.play()}render(){let{scale:t,options:e}=this,i=this.getElementOptions(),s=this.pointerShape(e.value);e.animation.type=Fd;let o=new k1({stroke:i.stroke,fill:i.fill}).moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).close(),r=t.getSlot(e.value);return o.transform(_.transform().translate(r.x1,r.y1)),this.elements=o,o}},yg=vg;var Il=class extends x.Animation{setup(){let t=this.options,e=this.axis=t.vertical?L:P,i=this.to=t.newPoints[0][e],s=this.from=t.oldPoints[0][e];t.duration!==0&&(t.duration=Math.max(Math.abs(i-s)/t.speed*1e3,1)),this._set(s)}step(t){let e=qt(this.from,this.to,t);this._set(e)}_set(t){let e="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][e](t),i[1][e](t)}};v(Il,{easing:lo,speed:250});x.AnimationFactory.current.register(cn,Il);var kb=Il;var{Group:E1,Path:Eb}=x,bg=class extends kl{constructor(t,e){super(t,e),b(this.options.size)||(this.options.size=this.scale.options.majorTicks.size*.3)}pointerShape(t){let{scale:e,options:i}=this,{mirror:s,vertical:o}=e.options,r=s===o?-1:1,a=i.size*r,l=e.getSlot(e.options.min),c=e.getSlot(t),h=o?L:P,d=o?P:L,p=this._margin()*r,u=new _.Point;u[h]=l[h+"1"],u[d]=l[d+"1"];let m=new _.Point;m[h]=c[h+"1"],m[d]=c[d+"1"],o?(u.translate(p,0),m.translate(p,0)):(u.translate(0,p),m.translate(0,p));let g=m.clone(),w=u.clone();return o?(g.translate(a,0),w.translate(a,0)):(g.translate(0,a),w.translate(0,a)),[u,m,g,w]}repaint(){let{scale:t,options:e}=this,i=this.pointerShape(e.value),s=this.pointerPath,o=this.pointerShape(e._oldValue);s.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close();let r=new kb(s,f(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[o[1],o[2]],newPoints:[i[1],i[2]]}));e.animation.transitions===!1&&(r.options.duration=0),r.setup(),r.play()}render(){let t=new E1,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());let i=this.pointerPath=new Eb({stroke:e.stroke,fill:e.fill});return t.append(i),this.elements=t,t}renderTrack(){let t=this.options.track,e=t.border||{},i=this.trackBox.clone().pad(e.width||0);return new Eb.fromRect(i.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})}},wg=bg;var I1=60,D1=60,R1=x.Group,_g=class extends Al{reflow(t){let e=this.pointers,i=t.origin.x,s=t.origin.y,o=new S(i,s,i+t.width(),s+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(let r=0;r<e.length;r++)e[r].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){let t=new R1,e=this.scale.render(),i=this.pointers;t.append(this.gaugeArea),t.append(e);for(let s=0;s<i.length;s++){let o=i[s];t.append(o.render()),o.value(o.options.value)}this._visuals=t}_createModel(){let t=this.options,e=this.scale=new gg(t.scale,this.contextService);this.pointers=[];let i=t.pointer;i=ft(i)?i:[i];for(let s=0;s<i.length;s++){let o=f({},i[s],{animation:{transitions:t.transitions}}),r=o.shape===Cb?yg:wg;this.pointers.push(new r(e,o))}}_defaultSize(){let t=this.options.scale.vertical;return{width:t?I1:200,height:t?200:D1}}_getBox(t){let{scale:e,pointers:i}=this,s=t.center(),o=i[0].box.clone().wrap(e.box);for(let a=0;a<i.length;a++)o.wrap(i[a].box.clone());let r;return e.options.vertical?(r=o.width()/2,o=new S(s.x-r,t.y1,s.x+r,t.y2)):(r=o.height()/2,o=new S(t.x1,s.y-r,t.x2,s.y+r)),o}_alignElements(){let{scale:t,pointers:e}=this,i=t.box,s=e[0].box.clone().wrap(t.box),o=this.bbox;for(let a=0;a<e.length;a++)s.wrap(e[a].box.clone());let r;t.options.vertical?(r=o.center().x-s.center().x,t.reflow(new S(i.x1+r,o.y1,i.x2+r,o.y2))):(r=o.center().y-s.center().y,t.reflow(new S(i.x1,i.y1+r,i.x2,i.y2+r)));for(let a=0;a<e.length;a++)e[a].reflow(this.bbox)}_shrinkScaleWidth(t){let{scale:e}=this;if(!e.options.vertical){let i=e.contentBox().width()-t.width();i>0&&(e.box.shrink(i,0),e.box.alignTo(t,"center"),e.reflow(e.box))}}_shrinkElements(){let{scale:t,pointers:e}=this,i=t.box.clone(),s=t.options.vertical?"y":"x",o=e[0].box;for(let r=0;r<e.length;r++)o.wrap(e[r].box.clone());i[s+1]+=Math.max(i[s+1]-o[s+1],0),i[s+2]-=Math.max(o[s+2]-i[s+2],0),t.reflow(i);for(let r=0;r<e.length;r++)e[r].reflow(this.bbox)}};v(_g,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var Xd=180,{Arc:P1,Path:L1,Group:Yd}=x;function Ib(n,t,e,i){let s=new Yd,o=n.center,r=n.getRadiusX();if(i.visible)for(let a=0;a<t.length;a++){let l=n.pointAt(t[a]),c=new _.Point(o.x+r-i.size,o.y).rotate(t[a],o);s.append(new L1({stroke:{color:i.color,width:i.width}}).moveTo(l).lineTo(c))}return s}function Cg(n,t,e,i){return{from:n,to:t,color:e,opacity:i}}var Zd=class extends te{constructor(t,e){super(0,1,t,e)}initUserOptions(t){let e=f({},this.options,t);return e.majorUnit=e.majorUnit||Ye(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(t,e){let i=this.renderArc(t,e);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(t){let e=t.center(),i=Math.min(t.height(),t.width())/2;if(b(this.bbox))this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels();else return this.render(e,i)}slotAngle(t){let{min:e,max:i,reverse:s,startAngle:o,endAngle:r}=this.options,a=r-o,l;return s?l=r-(t-e)/(i-e)*a:l=(t-e)/(i-e)*a+o,l+Xd}hasRanges(){let t=this.options.ranges;return t&&t.length}ticksSize(){let{majorTicks:t,minorTicks:e}=this.options,i=0;return t.visible&&(i=t.size),e.visible&&(i=Math.max(e.size,i)),i}labelsCount(){let t=super.labelsCount(),e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit===0&&(t-=1),t}renderLabels(){let t=this.options,e=this.arc.clone(),i=e.getRadiusX(),s=this.tickAngles(e,t.majorUnit),o=t.rangeSize=t.rangeSize||i*.1,r=new Yd,a=i*.05;b(t.rangeDistance)?a=t.rangeDistance:t.rangeDistance=a;let l=t.labels,c=l.position===qi,h=b(this.labelElements);c&&(i-=this.ticksSize(),this.hasRanges()&&!h&&(i-=o+a),e.setRadiusX(i).setRadiusY(i));let d=this.labels,p=d.length,u=Z(l.padding),m=(u.left+u.right)/2,g=(u.top+u.bottom)/2;for(let w=0;w<p;w++){let E=d[w],I=E.box.width()/2,G=E.box.height()/2,$=s[w],et=($-Xd)*Nd,it=e.pointAt($),ct=it.x+Math.cos(et)*(I+m)*(c?1:-1),wt=it.y+Math.sin(et)*(G+g)*(c?1:-1);E.reflow(new S(ct-I,wt-G,ct+I,wt+G));let zt=new _.Point(E.box.x1,E.box.y1),St;if(!h)St=ur(E,t.labels),r.append(St);else{St=this.labelElements.children[w];let Ge=St.bbox().origin,fe=St.transform()||_.transform();fe.translate(zt.x-Ge.x,zt.y-Ge.y),St.transform(fe)}this.bbox=_.Rect.union(this.bbox,St.bbox())}return r}repositionRanges(){let t=this.ranges.children;if(t.length>0){let{rangeDistance:e,rangeSize:i}=this.options,s=this.getRangeRadius();this.options.labels.position===qi&&(s+=i+e);let o=s+i/2;for(let r=0;r<t.length;r++)t[r]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=_.Rect.union(this.bbox,this.ranges.bbox())}}renderRanges(){let t=this.rangeSegments(),e=t.length,i=new Yd;if(e){let{rangeSize:s,reverse:o,rangeDistance:r}=this.options,a=this.getRangeRadius();this.radius(this.radius()-s-r);for(let l=0;l<e;l++){let c=t[l],h=this.slotAngle(c[o?"to":"from"]),d=this.slotAngle(c[o?"from":"to"]);d-h!==0&&i.append(this.createRange(h,d,a,c))}}return i}createRange(t,e,i,s){let o=this.options.rangeSize,r=new _.Arc(this.arc.center,{radiusX:i+o/2,radiusY:i+o/2,startAngle:t,endAngle:e});return new P1(r,{stroke:{width:o,color:s.color,opacity:s.opacity,lineCap:s.lineCap}})}rangeSegments(){let t=this.options,e=t.ranges||[],i=e.length,s=[];if(i){let{min:o,max:r,rangePlaceholderColor:a}=t;s.push(Cg(o,r,a));for(let l=0;l<i;l++){let c=fr(e[l],o,r),h=s.length;for(let d=0;d<h;d++){let p=s[d];if(p.from<=c.from&&c.from<=p.to){s.push(Cg(c.from,c.to,c.color,c.opacity)),p.from<=c.to&&c.to<=p.to&&s.push(Cg(c.to,p.to,a,c.opacity)),p.to=c.from;break}}}}return s}getRangeRadius(){let{arc:t,options:e}=this,{rangeSize:i,rangeDistance:s,majorTicks:{size:o}}=e,r;return e.labels.position===Bd?r=t.getRadiusX()-o-s-i:r=t.getRadiusX()-i,r}renderArc(t,e){let i=this.options;return this.arc=new _.Arc(t,{radiusX:e,radiusY:e,startAngle:i.startAngle+Xd,endAngle:i.endAngle+Xd})}renderTicks(){let{arc:t,options:e}=this,i=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=Ib(i,this.majorTickAngles,e.majorUnit,e.majorTicks);let s=new Yd;s.append(this.majorTicks);let o=e.majorTicks.size,r=e.minorTicks.size;if(this._tickDifference=o-r,e.labels.position===Bd){let a=i.getRadiusX();i.setRadiusX(a-o+r).setRadiusY(a-o+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=Ib(i,this.minorTickAngles,e.minorUnit,e.minorTicks),s.append(this.minorTicks),s}normalizeTickAngles(t){let e=this.options,i=e.majorUnit/e.minorUnit;for(let s=t.length-1;s>=0;s--)s%i===0&&t.splice(s,1);return t}tickAngles(t,e){let i=this.options,s=i.reverse,o=i.max-i.min,r=t.endAngle-t.startAngle,a=o/e,l=t.startAngle,c=r/a;s&&(l+=r,c=-c),r>=360&&i.max%e===0&&(a-=1);let h=[];for(let d=0;d<a;d++)h.push(D(l,3)),l+=c;return D(l)<=t.endAngle&&h.push(l),h}radius(t){if(t)this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0);else return this.arc.getRadiusX()}repositionTicks(t,e,i){let s=i&&this._tickDifference||0,o=this.arc,r=o.getRadiusX();i&&this.options.labels.position===Bd&&s!==0&&(o=this.arc.clone(),o.setRadiusX(r-s).setRadiusY(r-s));for(let a=0;a<t.length;a++){let l=o.pointAt(e[a]),c=t[a].segments,h=l.x-c[0].anchor().x,d=l.y-c[0].anchor().y;t[a].transform(new _.transform().translate(h,d))}}};v(Zd,{min:0,max:100,majorTicks:{size:15,align:qi,color:J,width:.5,visible:!0},minorTicks:{size:10,align:qi,color:J,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:qi,padding:2}});var Dl=Zd;var Rl=class extends x.Animation{constructor(t,e){super(t,e);let i=this.options;i.duration=Math.max(Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3,1)}step(t){let e=this.options,i=qt(e.oldAngle,e.newAngle,t);this.element.transform(_.transform().rotate(i,e.center))}};v(Rl,{easing:lo,duration:150});x.AnimationFactory.current.register(Vd,Rl);var Db=Rl;var M1=.05,{Circle:O1,Group:F1,Path:N1}=x,qd=class extends mr{setAngle(t){this.elements.transform(_.transform().rotate(t,this.center))}repaint(){let{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),s=t.slotAngle(e.value);e.animation.transitions===!1?this.setAngle(s):new Db(this.elements,f(e.animation,{oldAngle:i,newAngle:s})).play()}render(){let{scale:t,options:e}=this,i=new F1;return e.animation!==!1&&f(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),i.append(this._renderNeedle(),this._renderCap()),this.elements=i,this.setAngle(Nd),i}reflow(t){let e=this.center=t.center,i=M(this.options.length||1,.1,1.5),s=this.radius=t.getRadiusX()*i,o=this.capSize=Math.round(s*this.options.cap.size);this.bbox=_.Rect.fromPoints(new _.Point(e.x-o,e.y-o),new _.Point(e.x+o,e.y+o))}_renderNeedle(){let t=this.scale.options.minorTicks.size,e=this.center,i=this.options.color,s=new N1({fill:{color:i},stroke:{color:i,width:.5}});return s.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),s}_renderCap(){let t=this.options,e=t.cap.color||t.color,i=new _.Circle(this.center,this.capSize);return new O1(i,{fill:{color:e},stroke:{color:e}})}};v(qd,{cap:{size:M1},arrow:{width:16,height:14},animation:{type:Vd,duration:150}});var Sg=qd;var B1=x.Group,Ag=class extends Al{reflow(t){let e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(let i=0;i<e.length;i++)e[i].reflow(this.scale.arc),this._initialPlotArea=_.Rect.union(this._initialPlotArea,e[i].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(t,e,i){let s=this._visuals=new B1;s.append(t),s.append(i.ticks),s.append(i.ranges),this._buildPointers(e),s.append(i.labelElements)}_buildPointers(t){for(let e=0;e<t.length;e++){let i=t[e];i.render(),this._visuals.append(i.elements),i.value(i.options.value)}}fitScale(t){let e=this.scale.arc,i=this._initialPlotArea,s=Math.abs(this.getDiff(i,t)),o=D(s,3),r=D(-s,3),a,l,c,h,d,p=0,u=0;for(;u++<100&&(p=d===c?p+1:0,!(p>5||o!==h&&(a=this.getPlotBox(o,t,e),0<=a&&a<=2)||r!==h&&(c=this.getPlotBox(r,t,e),0<=c&&c<=2)||(a>0&&c>0?h=o*2:a<0&&c<0?h=r*2:h=D((o+r)/2||1,3),l=this.getPlotBox(h,t,e),0<=l&&l<=2)));)d=c,l>0?(r=h,c=l):(o=h,a=l)}getPlotBox(t,e,i){let s=this.scale,o=this.pointers,r=i.getRadiusX(),a=i.clone();a.setRadiusX(r+t).setRadiusY(r+t),s.arc=a,s.reflow(e),this.plotBbox=s.bbox;for(let l=0;l<o.length;l++)o[l].reflow(a),this.plotBbox=_.Rect.union(this.plotBbox,o[l].bbox);return this.getDiff(this.plotBbox,e)}getDiff(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())}alignScale(t){let e=this.plotBbox.center(),i=t.center(),s=e.x-i.x,o=e.y-i.y,{scale:r,pointers:a}=this;r.arc.center.x-=s,r.arc.center.y-=o,r.reflow(t);for(let l=0;l<a.length;l++)a[l].reflow(r.arc),this.plotBbox=_.Rect.union(r.bbox,a[l].bbox)}_createModel(){let t=this.options,e=t.pointer,i=this.scale=new Dl(t.scale,this.contextService);this.pointers=[];let s=ft(e)?e:[e];for(let o=0;o<s.length;o++){let r=new Sg(i,f({},s[o],{animation:{transitions:t.transitions}}));this.pointers.push(r)}}};v(Ag,{transitions:!0,gaugeArea:{background:""}});var Tg=class extends Dl{rangeSegments(){let{min:t,max:e,rangePlaceholderColor:i,rangeLineCap:s}=this.options;return[{from:t,to:e,color:i,lineCap:s}]}hasRanges(){return!0}placeholderRangeAngle(t){let e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)}addRange(t,e,i){let s=this.options.reverse,o=this.slotAngle(s?e:t),r=this.slotAngle(s?t:e),a=this.createRange(o,r,this.getRangeRadius(),i);return this.ranges.append(a),a}};v(Tg,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var V1=800,Pl=class extends x.Animation{constructor(t,e){super(t,e);let i=this.options,s=Math.abs(i.newAngle-i.oldAngle)/i.duration*1e3;i.duration=M(s,150,V1);let o=t.elements.options.get("stroke.color"),r=t.currentColor();o!==r&&(this.startColor=new re(o),this.color=new re(r))}step(t){let{options:e,startColor:i,color:s}=this,o=qt(e.oldAngle,e.newAngle,t);if(this.element.angle(o),s){let r=D(qt(i.r,s.r,t)),a=D(qt(i.g,s.g,t)),l=D(qt(i.b,s.b,t));this.element.stroke(new re(r,a,l).toHex())}}};v(Pl,{easing:lo,duration:150});x.AnimationFactory.current.register(zd,Pl);var Rb=Pl;var kg=class extends mr{repaint(){let{scale:t,options:e}=this,i=t.slotAngle(e._oldValue),s=t.slotAngle(e.value);this.animation&&this.animation.abort(),e.animation.transitions===!1?(this.angle(s),this.stroke(this.currentColor())):(this.animation=new Rb(this,f(e.animation,{oldAngle:i,newAngle:s})),this.animation.play())}angle(t){let e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)}stroke(t){this.elements.stroke(t)}render(){if(this.elements)return;let{scale:t,options:e}=this;e.animation!==!1&&f(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}currentColor(){let{min:t,max:e}=this.scale.options,{colors:i,color:s,value:o}=this.options,r=Y(o)?o:t;if(i)for(let a=0;a<i.length;a++){let{color:l,from:c=t,to:h=e}=i[a];if(c<=r&&r<=h)return l}return s}reflow(){this.render(),this.bbox=this.elements.bbox()}};v(kg,{animation:{type:zd,duration:150}});var Pb=10,Me=class extends R{constructor(t){super(),this.setOptions(t),this.initProperties()}initProperties(){}setOptions(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(t,e,i){let s=b(t)?String(t):t;return this.initValue(s,e,i),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||Pb)}addData(){}invalidCharacterError(t){throw new Error(`Character "${t}" is not valid for symbology ${this.name}.`)}};v(Me,{quietZoneLength:Pb,addQuietZone:!0,addCheckSum:!0});var G1=Object.assign,Ll=class extends Me{initProperties(){super.initProperties(),G1(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){let t=this.value,e=t.length,i=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(i),this.addPattern(this.characterMap[i]),e++,e>=this.kCheckSumMinLength){let s=(i+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=s,this.addPattern(this.characterMap[s])}}getWeightedSum(t,e,i){let s=0;for(let o=0;o<t.length;o++)s+=this.weightedValue(this.getValue(t.charAt(o)),e,o,i);return s}weightedValue(t,e,i,s){return((e-i)%s||s)*t}getValue(t){if(isNaN(t))t!==this.DASH&&this.invalidCharacterError(t);else return parseInt(t,10);return this.DASH_VALUE}addCharacter(t){let e=this.getValue(t),i=this.characterMap[e];this.addPattern(i)}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e),this.totalUnits+=e}};v(Ll,{addCheckSum:!0});var Lb=Object.assign,Ml=class extends Me{initProperties(){super.initProperties(),Lb(this,{minBaseUnitLength:.7})}addData(){let t=this.value;this.addStart();for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(t){let e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)}addBase(){}},hn=class extends Ml{initProperties(){super.initProperties(),Lb(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(t,e,i){this.width=e,this.height=i,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""}prepareValues(){let t=this.minBaseUnitLength,e=this.minRatio,i=Math.ceil(Math.max(.15*this.width,24)),s,o=this.maxRatio;if(this.height<i)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${i}px.`);for(s=this.getBaseUnit(o);s<t&&o>e;)o=parseFloat((o-.1).toFixed(1)),s=this.getBaseUnit(o);if(s<t){let r=Math.ceil(this.getBaseWidth(e)*t);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${r}px.`)}this.ratio=o,this.baseUnit=s,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))}getBaseUnit(t){return this.width/this.getBaseWidth(t)}getBaseWidth(t){let e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(t){this.addPattern(t.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(t){for(let e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}};v(hn,{addCheckSum:!1});var Eg={addCharacter(n){this.characterMap[n]?this.addBase(this.characterMap[n]):n.charCodeAt(0)>127?this.invalidCharacterError(n):this.addExtended(n.charCodeAt(0))},addExtended(n){let t;for(let e=0;e<this.extendedMappings.length;e++)if(t=this.extendedMappings[e].call(this,n),t){for(let i=0;i<t.length;i++){let s=t[i];this.addBase(s)}this.dataLength+=t.length-1;return}},extendedMappings:[function(n){if(97<=n&&n<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(n-32)]]},function(n){if(33<=n&&n<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(n+32)]]},function(n){if(1<=n&&n<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(n+64)]]},function(n){let t,e;if(!this.specialAsciiCodes[n])e=Math.floor(n/32)*6+(n-27)%32+64,t=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(e)]];else{t=[];for(let i=0;i<this.specialAsciiCodes[n].length;i++)t.push(this.characterMap[this.shiftCharacters[3]]),t.push(this.characterMap[this.specialAsciiCodes[n][i]])}return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Qd=class extends hn{initProperties(){super.initProperties(),f(this,Eg,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}};var W1=Object.assign,xr=class extends Ml{initProperties(){super.initProperties(),W1(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(t,e,i){this.value=t,this.width=e,this.height=i,this.pattern=[],this.values=[],this.dataLength=t.length}prepareValues(){let t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${t}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){let e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${e}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){let t=this.characterMap.START.pattern;this.addPattern(t)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(t){this.addPattern(t.pattern),this.values.push(t.value)}pushCheckSum(){let t=this._getCheckValues(),e;this.checksum=t.join("");for(let i=0;i<t.length;i++)e=this.characterMap[this._findCharacterByValue(t[i])],this.addPattern(e.pattern)}_getCheckValues(){let t=this.values,e=t.length,i=0,s,o,r;for(r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r,this.cCheckSumTotal);for(s=i%this.checkSumMod,i=this.weightedValue(s,1,this.kCheckSumTotal),r=e-1;r>=0;r--)i+=this.weightedValue(t[r],e-r+1,this.kCheckSumTotal);return o=i%this.checkSumMod,[s,o]}_findCharacterByValue(t){for(let e in this.characterMap)if(this.characterMap[e].value===t)return e}weightedValue(t,e,i){return(e%i||i)*t}addPattern(t){let e;for(let i=0;i<t.length;i++)e=parseInt(t.charAt(i),10),this.pattern.push(e)}};var Kd=class extends xr{initProperties(){super.initProperties(),f(this,Eg,{name:"Code 93 extended",pushCheckSum:function(){let t=this._getCheckValues(),e;this.checksum=t.join("");for(let i=0;i<t.length;i++)if(e=t[i],this.shiftValuesAsciiCodes[e])this.addExtended(this.shiftValuesAsciiCodes[e]);else{let s=this._findCharacterByValue(e);this.addPattern(this.characterMap[s].pattern)}}})}};var X1=/^\d+$/,Y1=Object.assign,$d=class extends Me{initProperties(){super.initProperties(),Y1(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(t,e,i){this.height=i,this.width=e,this.baseHeight=i/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(t){let e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/((this.value.length+1)*10+3+this.quietZoneLength)}validate(t){if(X1.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!z(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(t){let e;for(let i=0;i<t.length;i++)e=this.height-this.baseHeight*t.charAt(i),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)}};var Ig=/^\d+$/,Z1=/^[a-z0-9]+$/i,Ri=Object.assign,vr=class extends R{constructor(t){super(),this.encoding=t,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}},Jd=class extends vr{constructor(t,e){super(t),this.states=e,this._initMoves(e)}initProperties(){super.initProperties(),f(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}move(t){let e=0;for(;!this._moves[e].call(this,t)&&e<this._moves.length;)e++}pushState(t){let e=this.states,i=t.value,s=i.length,o;if(z("C",e)){let r=i.substr(t.index).match(/\d{4,}/g);r&&(s=i.indexOf(r[0],t.index))}for(;(o=t.value.charCodeAt(t.index))>=0&&this.isCode(o)&&t.index<s;)this.encoding.addPattern(this.getValue(o)),t.index++}_initMoves(t){this._moves=[],z(this.FNC4,t)&&this._moves.push(this._moveFNC),z(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key}_shiftState(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}},yr={};yr.A=class extends Jd{initProperties(){super.initProperties(),Ri(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(t){return 0<=t&&t<96}getValue(t){return t<32?t+64:t-32}};yr.B=class extends Jd{initProperties(){super.initProperties(),Ri(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(t){return 32<=t&&t<128}getValue(t){return t-32}};yr.C=class extends vr{initProperties(){super.initProperties(),Ri(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(t,e){let i=Dg(t,e,4);return(e+4<=t.length||t.length===2)&&Ig.test(i)}move(){this.encoding.addPattern(this.MOVE)}pushState(t){let e;for(;(e=Dg(t.value,t.index,2))&&Ig.test(e)&&e.length===2;)this.encoding.addPattern(parseInt(e,10)),t.index+=2}getValue(t){return t}};yr.FNC4=class extends vr{constructor(t,e){super(t),this._initSubStates(e)}initProperties(){super.initProperties(),Ri(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(t){let e=t.value.charCodeAt(0)-128,i=this._getSubState(e);this.encoding[i].addStart()}is(t,e){let i=t.charCodeAt(e);return this.isCode(i)}isCode(t){return 128<=t&&t<256}pushState(t){let e=this._initSubState(t),i=this.encoding,s=e.value.length,o;if(t.index+=s,s<3)for(;e.index<s;e.index++)o=e.value.charCodeAt(e.index),e.state=this._getSubState(o),e.previousState!==e.state&&(e.previousState=e.state,i[e.state].move(e)),i.addPattern(i[e.state].MOVE),i.addPattern(i[e.state].getValue(o));else e.state!==e.previousState&&i[e.state].move(e),this._pushStart(e),i.pushData(e,this.subStates),t.index<t.value.length&&this._pushStart(e);t.fnc=!0,t.state=e.state}_pushStart(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)}_initSubState(t){let e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e}_initSubStates(t){this.subStates=[];for(let e=0;e<t.length;e++)z(t[e],this.dependentStates)&&this.subStates.push(t[e])}_getSubState(t){for(let e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(t))return this.subStates[e]}_getAll(t,e){let i,s="",o=e;for(;(i=t.charCodeAt(o++))&&this.isCode(i);)s+=String.fromCharCode(i-128);return s}};yr.FNC1=class extends vr{constructor(t,e){super(t),this.states=e}initProperties(){super.initProperties(),Ri(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return z(this.key,this.states)}pushState(t){let e=this.encoding,i=t.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),o=t.index,r={state:this.startState},a,l,c;e.addPattern(this.START);let h=!0;for(;h;){if(r.index=0,c=i.charAt(o)===this.startAI?2:0,a=c>0?this.getBySeparator(i,o):this.getByLength(i,o),a.ai.length)l=o+c+a.id.length+a.ai.length;else if(l=i.indexOf(this.startAI,o+1),l<0){if(o+a.ai.max+a.id.length+c<i.length)throw new Error("Separators are required after variable length identifiers");l=i.length}if(r.value=i.substring(o,l).replace(s,""),this.validate(a,r.value),e.pushData(r,this.dependentStates),l>=i.length)break;o=l,r.state!==this.startState&&(e[this.startState].move(r),r.state=this.startState),a.ai.length||e.addPattern(this.START)}t.index=t.value.length}validate(t,e){let i=e.substr(t.id.length),s=t.ai;if(!s.type&&!Ig.test(i))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if(s.type==="alphanumeric"&&!Z1.test(i))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(s.length&&s.length!==i.length)throw new Error("Application identifier "+t.id+" must be "+s.length+" characters long.");if(s.min&&s.min>i.length)throw new Error("Application identifier "+t.id+" must be at least "+s.min+" characters long.");if(s.max&&s.max<i.length)throw new Error("Application identifier "+t.id+" must be at most "+s.max+" characters long.")}getByLength(t,e){let i,s;for(let o=2;o<=4;o++)if(i=Dg(t,e,o),s=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substring(0,i.length-1)),s)return{id:i,ai:s};this.unsupportedAIError(i)}unsupportedAIError(t){throw new Error("'"+t+"' is not a supported Application Identifier")}getBySeparator(t,e){let i=t.indexOf(this.startAI,e),s=t.indexOf(this.endAI,i),o=t.substring(i+1,s),r=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return r||this.unsupportedAIError(o),{ai:r,id:o}}getApplicationIdentifier(t){let e=this.applicationIdentifiers,i=e.multiKey;if(e[t])return e[t];for(let s=0;s<i.length;s++){if(i[s].ids&&z(t,i[s].ids))return i[s].type;if(i[s].ranges){let o=i[s].ranges;for(let r=0;r<o.length;r++)if(o[r][0]<=t&&t<=o[r][1])return i[s].type}}}};var dn=class extends Me{constructor(t){super(t),this._initStates()}initProperties(){super.initProperties(),Ri(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let t=0;t<this.states.length;t++)this[this.states[t]]=new yr[this.states[t]](this,this.states)}initValue(t,e,i){this.pattern=[],this.value=t,this.width=e,this.height=i,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let t={value:this.value,index:0,state:""};this.value.length!==0&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(t,e){for(;this[t.state].pushState(t),!(t.index>=t.value.length);)if(!t.shifted)t.previousState=t.state,t.state=this.getNextState(t,e),this[t.state].move(t);else{let s=t.state;t.state=t.previousState,t.previousState=s,t.shifted=!1}}addStart(t){this[t.state].addStart(t),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(t){let e=this.characterMap[t].toString(),i;for(let s=0;s<e.length;s++)i=parseInt(e.charAt(s),10),this.pattern.push(i),this.totalUnits+=i;this.checkSum+=t*this.position++}getNextState(t,e){for(let i=0;i<e.length;i++)if(this[e[i]].is(t.value,t.index))return e[i];this.invalidCharacterError(t.value.charAt(t.index))}},tp=class extends dn{initProperties(){super.initProperties(),Ri(this,{name:"Code 128 A",states:["A"]})}},ep=class extends dn{initProperties(){super.initProperties(),Ri(this,{name:"Code 128 B",states:["B"]})}},ip=class extends dn{initProperties(){super.initProperties(),Ri(this,{name:"Code 128 C",states:["C"]})}},sp=class extends dn{initProperties(){super.initProperties(),Ri(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},op=class extends dn{initProperties(){super.initProperties(),Ri(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}};function Dg(n,t,e){return n.substring(t,t+e)}var Ol=Object.assign,br=class extends Me{initProperties(){super.initProperties(),Ol(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:q1})}initValue(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){let t=this.value;this.addPattern(this.START);for(let e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(t){let e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)}addPattern(t){for(let e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))}addCheckSum(){let e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(let i=0;i<e.length;i++)this.checkSumLength++,this.addPattern(this.characterMap[e[i]])}},np=class extends br{initProperties(){super.initProperties(),Ol(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},rp=class extends br{initProperties(){super.initProperties(),Ol(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},ap=class extends br{initProperties(){super.initProperties(),Ol(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},lp=class extends br{initProperties(){super.initProperties(),Ol(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},q1={Modulo10(n){let t=[0,""],e=n.length%2,i,s,o;for(i=0;i<n.length;i++)t[(i+e)%2]+=parseInt(n.charAt(i),10);for(o=t[0],s=(t[1]*2).toString(),i=0;i<s.length;i++)o+=parseInt(s.charAt(i),10);return[(10-o%10)%10]},Modulo11(n){let t=0,e=11,i=n.length,s,o;for(let r=0;r<i;r++)s=((i-r)%6||6)+1,t+=s*n.charAt(r);return o=(e-t%e)%e,o!==10?[o]:[1,0]},Modulo11Modulo10(n){let t=this.Modulo11(n),e;return e=n+t[0],t.concat(this.Modulo10(e))},Modulo10Modulo10(n){let t=this.Modulo10(n),e;return e=n+t[0],t.concat(this.Modulo10(e))}};var Q1=Object.assign,wr=class extends Me{initProperties(){super.initProperties(),Q1(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(t,e,i){let s=String(t);if(s.length!==12||/\D/.test(s))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=i,this.baseUnit=e/(95+this.quietZoneLength),this.value=s,this.checksum=this.calculateChecksum(),this.leftKey=s[0],this.leftPart=s.substr(1,6),this.rightPart=s.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(t,e){for(let i=0;i<t.length;i++)e&&parseInt(this.keyTable[e].charAt(i),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(i)]).reverse(),!0):this.addPieces(this.characterMap.digits[t.charAt(i)],!0)}addPieces(t,e){for(let i=0;i<t.length;i++)e?this.pattern.push({y1:0,y2:this.options.height*.95,width:t[i]}):this.pattern.push(t[i])}calculateChecksum(){let t=0,e=0,i=this.value.split("").reverse().join("");for(let o=0;o<i.length;o++)o%2?e+=parseInt(i.charAt(o),10):t+=parseInt(i.charAt(o),10);return(10-(3*t+e)%10)%10}};var K1=Object.assign,cp=class extends wr{initProperties(){super.initProperties(),K1(this,{name:"EAN 8"})}initValue(t,e,i){if(t.length!==7||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=i,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)}};var hp={code11:Ll,code39:hn,code39extended:Qd,code93:xr,code93extended:Kd,code128:sp,code128a:tp,code128b:ep,code128c:ip,"gs1-128":op,msimod10:np,msimod11:rp,msimod1010:ap,msimod1110:lp,postnet:$d,ean8:cp,ean13:wr};function dp(n,t){let e=n.style.display;t==="canvas"&&(n.style.display="block");let i={width:n.clientWidth,height:n.clientHeight};return n.style.display=e,i}var $1=300,J1=100,Rg=class extends R{constructor(t,e,i=Mn){super(),this.options=f({},this.options,e),this.element=t,this.onError=i,this._initElement(),this._initSurface(),this._setOptions(e),e&&b(e.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){st(this.element,"k-barcode")}_initSurface(){let{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return x.Surface.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(t){this._setOptions(t),this._initSurface(),this.redraw()}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){let t=this.options,e=t.value,i=t.text,s=Z(i.margin),o=this._getSize(),r=t.border||{},a=this.encoding,l=new S(0,0,o.width,o.height).unpad(r.width).unpad(t.padding),c=l.height(),h,d,p,u=new x.Group;this.contentBox=l,u.append(this._getBackground(o)),i.visible&&(p=x.util.measureText(e,{font:i.font}).height,c-=p+s.top+s.bottom);try{h=a.encode(e,l.width(),c)}catch(m){return this.onError(m),u}return i.visible&&(d=e,t.checksum&&b(a.checksum)&&(d+=" "+a.checksum),u.append(this._getText(d))),this.barHeight=c,this._bandsGroup=this._getBands(h.pattern,h.baseUnit),u.append(this._bandsGroup),u}exportVisual(){return this._render()}_getSize(){let t=this.element,e=dp(t,this.options.renderAs),i=new _.Size($1,J1);return e.width>0&&(i.width=e.width),e.height>0&&(i.height=e.height),this.options.width&&(i.width=this.options.width),this.options.height&&(i.height=this.options.height),i}value(t){if(!b(t))return this.options.value;this.options.value=String(t),this.redraw()}_getBands(t,e){let i=this.contentBox,s=i.x1,o,r,a=new x.Group;for(let l=0;l<t.length;l++){if(r=jt(t[l])?t[l]:{width:t[l],y1:0,y2:this.barHeight},o=r.width*e,l%2){let c=_.Rect.fromPoints(new _.Point(s,r.y1+i.y1),new _.Point(s+o,r.y2+i.y1)),h=x.Path.fromRect(c,{fill:{color:this.options.color},stroke:null});a.append(h)}s+=o}return a}_getBackground(t){let e=this.options,i=e.border||{},s=new S(0,0,t.width,t.height).unpad(i.width/2);return x.Path.fromRect(s.toRect(),{fill:{color:e.background},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType}})}_getText(t){let e=this.options.text,i=this._textbox=new It(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return i.reflow(this.contentBox),i.renderVisual(),i.visual}_setOptions(t){if(this.type=(t.type||this.options.type).toLowerCase(),this.type==="upca"&&(this.type="ean13",t.value="0"+t.value),this.type==="upce"&&(this.type="ean8",t.value="0"+t.value),!hp[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new hp[this.type],this.options=f({},this.options,t)}};v(Rg,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var ui=Object.assign;function pp(n,t){let e=[],i=0;for(;i<n.length;)e.push(n.substring(i,i+t)),i+=t;return e}function ee(n,t){let e=Number(n).toString(2);return e.length<t&&(e=new Array(t-e.length+1).join(0)+e),e}function Fl(n){return parseInt(n,2)}var up=class extends R{constructor(t){super(),this.matrix=t,this.row=t.length-1,this.column=t.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;this.matrix[this.row][this.column]!==void 0;)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=this.startColumn!==8?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),this.matrix[this.row][this.column]===void 0)return{row:this.row,column:this.column}}};var _r=class extends R{constructor(t,e){super(),this.dataString=t,this.version=e}};var fp=class extends R{getEncodingResult(t,e){let i=Mb(t),s=Ob(i),o=mp(s,e),r=Fb(i,o);return new _r(r,o)}};var po=class extends R{constructor(){super(),this.initProperties()}initProperties(){ui(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(t){return t<10?0:t>26?2:1}getBitsCharacterCount(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]}getModeCountString(t,e){return this.modeIndicator+ee(t,this.getBitsCharacterCount(e))}encode(){}getStringBitsLength(){}getValue(){}};var gp=class extends po{initProperties(){super.initProperties(),ui(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(t){return parseInt(t,10)}encode(t,e){let i=this,s=pp(t,3),o=i.getModeCountString(t.length,e),r;for(r=0;r<s.length-1;r++)o+=ee(s[r],10);return o+ee(s[r],1+3*s[r].length)}getStringBitsLength(t,e){let i=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*i+(i===0?0:1)}};var xp=class extends po{initProperties(){super.initProperties(),ui(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(t){return this.characters[t]}encode(t,e){let i=pp(t,2),s=this.getModeCountString(t.length,e),o,r;for(r=0;r<i.length-1;r++)o=45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)),s+=ee(o,11);return o=i[r].length===2?45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)):this.getValue(i[r].charAt(0)),s+ee(o,1+5*i[r].length)}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+6*(t%2)}};var vp=class extends po{initProperties(){super.initProperties(),ui(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(t){let e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error(`Unsupported character in QR Code: "${t}".`)}encode(t,e){let i=this,s=i.getModeCountString(t.length,e);for(let o=0;o<t.length;o++)s+=ee(i.getValue(t.charAt(o)),8);return s}getStringBitsLength(t,e){return 4+this.getBitsCharacterCount(e)+8*t}};var tT="numeric",eT="alphanumeric",iT="byte",Nl={[tT]:new gp,[eT]:new xp,[iT]:new vp};var sT="byte",yp=class extends R{constructor(){super(),this.initProperties(),this.mode=Nl[this.encodingMode]}initProperties(){ui(this,{encodingMode:sT,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(t,e){let i=this.encode(t),s=this.getDataCodewordsCount(i),o=mp(s,e),r=this.mode.getModeCountString(i.length/8,o)+i;return new _r(r,o)}getDataCodewordsCount(t){let e=t.length;return Math.ceil((this.initialModeCountStringLength+e)/8)}encode(t){let e=this.utfBOM;for(let i=0;i<t.length;i++)e+=this.encodeCharacter(t.charCodeAt(i));return e}encodeCharacter(t){let e=this.getBytesCount(t),i=e-1,s="";if(e===1)s=ee(t,8);else{let o=8-e;for(let r=0;r<i;r++)s=ee(t>>r*6&63|128,8)+s;s=(t>>i*6|255>>o<<o).toString(2)+s}return s}getBytesCount(t){let e=this.ranges;for(let i=0;i<e.length;i++)if(t<e[i])return i+1}};var Cr=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];var Nb="0000",oT="numeric",Bb="alphanumeric",nT="byte",Fg={1:0},uo={0:1},rT={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},Pg=[1,0,1,1,1],aT=[1,0,1],lT={L:"01",M:"00",Q:"11",H:"10"},cT="101010000010010",hT="10100110111",dT="1111100100101",pT=["11101100","00010001"],uT=93,Mg=[(n,t)=>(n+t)%2===0,(n,t)=>n%2===0,(n,t)=>t%3===0,(n,t)=>(n+t)%3===0,(n,t)=>(Math.floor(n/2)+Math.floor(t/3))%2===0,(n,t)=>n*t%2+n*t%3===0,(n,t)=>(n*t%2+n*t%3)%2===0,(n,t)=>((n+t)%2+n*t%3)%2===0],fT=/^\d+/,Yb="A-Z0-9 $%*+./:-",mT="A-Z $%*+./:-",gT=new RegExp("^["+mT+"]+"),Vb=new RegExp("^["+Yb+"]+"),zb=new RegExp("^[^"+Yb+"]+"),xT=8,vT=5,yT=8,bT=17,wT=9,_T=16,Og=[[1,0],[1,25,0]];function Oe(n,t,e,i){for(let s=0;s<n.length;s++)n[s][e][i]=t}function Hb(n,t,e,i){for(let s=0;s<Mg.length;s++)n[s][e][i]=Mg[s](e,i)?t^1:parseInt(t,10)}function CT(n,t){let e=new up(n[0]),i,s,o;for(let r=0;r<t.length;r++)for(i=t[r],s=0;i.length>0;){for(let a=0;a<i.length;a++)for(let l=0;l<8;l++)o=e.getNextCell(),Hb(n,i[a][s].charAt(l),o.row,o.column);for(s++;i[0]&&s===i[0].length;)i.splice(0,1)}for(;o=e.getNextRemainderCell();)Hb(n,0,o.row,o.column)}function ST(n,t){let e=t*8,i=0,s=0,o=n;for(;o.length<e&&i<Nb.length;)o+=Nb.charAt(i++);for(o.length%8!==0&&(o+=new Array(9-o.length%8).join("0"));o.length<e;)o+=pT[s],s^=1;return o}function AT(){let n,t;for(t=1;t<255;t++)n=uo[t-1]*2,n>255&&(n=n^285),uo[t]=n,Fg[n]=t;n=uo[t-1]*2^285,uo[t]=n,uo[-1]=0}function TT(n,t){let e=[],i=n.length-2;for(let s=i;s>=0;s--)e[s]=n[s]^t[s];return e}function kT(n,t){let e=[];for(let i=0;i<n.length;i++)for(let s=0;s<t.length;s++)e[i+s]===void 0?e[i+s]=(n[i]+(t[s]>=0?t[s]:0))%255:e[i+s]=Fg[uo[e[i+s]]^uo[(n[i]+t[s])%255]];return e}function ET(){let n=68;for(let t=2;t<=n;t++){let e=Og[t-1],i=[t,0];Og[t]=kT(e,i)}}AT();ET();function IT(n,t){let e=[],i=n.length-1;do e[i]=uo[(n[i]+t)%255],i--;while(n[i]!==void 0);return e}function DT(n,t){let e=Og[t-1],i=new Array(t).concat(n),s=new Array(i.length-e.length).concat(e),o=n.length,r=[],a,l;for(l=0;l<o;l++)a=IT(s,Fg[i[i.length-1]]),s.splice(0,1),i=TT(a,i);for(l=i.length-1;l>=0;l--)r[t-1-l]=ee(i[l],8);return r}function RT(n,t){let e=0,i=[],s=[],o,r=t.groups,a,l,c,h;for(let d=0;d<r.length;d++){l=r[d][0];for(let p=0;p<l;p++){a=r[d][1],o=[],c=[];for(let u=1;u<=a;u++)h=n.substring(e,e+8),o.push(h),c[a-u]=Fl(h),e+=8;i.push(o),s.push(DT(c,t.errorCodewordsPerBlock))}}return[i,s]}function jb(n,t,e,i,s){let o=fT.exec(n),r=o?o[0]:"",a=gT.exec(n),l=a?a[0]:"",c=Vb.exec(n),h=c?c[0]:"",d,p;return r&&(r.length>=t||n.length===r.length||r.length>=e&&!Vb.test(n.charAt(r.length)))?(d=oT,p=r):h&&(n.length===h.length||h.length>=i||s===Bb)?(d=Bb,p=r||l):(d=nT,h?p=h+zb.exec(n.substring(h.length))[0]:p=zb.exec(n)[0]),{mode:d,modeString:p}}function Mb(n){let t=[],e,i=0,s=n;for(t.push(jb(s,xT,vT,yT,e)),e=t[0].mode,s=s.substr(t[0].modeString.length);s.length>0;){let o=jb(s,bT,wT,_T,e);o.mode!==e?(e=o.mode,t.push(o),i++):t[i].modeString+=o.modeString,s=s.substr(o.modeString.length)}return t}function Ob(n){let t=0,e;for(let i=0;i<n.length;i++)e=Nl[n[i].mode],t+=e.getStringBitsLength(n[i].modeString.length);return Math.ceil(t/8)}function mp(n,t){let e=0,i=Cr.length-1,s=Math.floor(Cr.length/2);do n<Cr[s][t].totalDataCodewords?i=s:e=s,s=e+Math.floor((i-e)/2);while(i-e>1);return n<=Cr[e][t].totalDataCodewords?s+1:i+1}function Fb(n,t){let e="",i;for(let s=0;s<n.length;s++)i=Nl[n[s].mode],e+=i.encode(n[s].modeString,t);return e}function PT(n){let t=Fl(n),e,i="";if(t===0)return"101010000010010";e=Zb(Fl(n),hT,15);for(let s=0;s<e.length;s++)i+=e.charAt(s)^cT.charAt(s);return i}function Zb(n,t,e){let i=Fl(t),s=t.length-1,o=n<<s,r=e-s,a=ee(n,r),l=LT(o,i);return l=a+ee(l,s),l}function LT(n,t){let e=t.toString(2).length,i=n.toString(2).length,s=n;do s^=t<<i-e,i=s.toString(2).length;while(i>=e);return s}function Bl(n,t){return parseInt(n.charAt(t),10)}function MT(n){let t=[],e=17+4*n;for(let i=0;i<Mg.length;i++){t[i]=new Array(e);for(let s=0;s<e;s++)t[i][s]=new Array(e)}return t}function Ub(n,t){let e=n[0],i,s,o=0,r=t.length;for(i=0,s=8;i<=8;i++)i!==6&&Oe(n,Bl(t,r-1-o++),i,s);for(i=8,s=7;s>=0;s--)s!==6&&Oe(n,Bl(t,r-1-o++),i,s);for(o=0,s=e.length-1,i=8;s>=e.length-8;s--)Oe(n,Bl(t,r-1-o++),i,s);for(Oe(n,1,e.length-8,8),i=e.length-7,s=8;i<e.length;i++)Oe(n,Bl(t,r-1-o++),i,s)}function OT(n){return Zb(n,dT,18)}function Gb(n,t){let e=n[0],i=e.length,s=0,o=i-11,r=i-11,a=0,l,c,h;for(let d=0;d<t.length;d++)l=Math.floor(d/3),c=d%3,h=Bl(t,t.length-d-1),Oe(n,h,s+l,o+c),Oe(n,h,r+c,a+l)}function bp(n,t,e,i){let s=t.length+2,o=t.length+1,r;for(let a=0;a<t.length;a++)for(let l=a;l<s-a;l++)r=t[a],Oe(n,r,e+l,i+a),Oe(n,r,e+a,i+l),Oe(n,r,e+o-l,i+o-a),Oe(n,r,e+o-a,i+o-l)}function Lg(n,t,e,i){let s=e,o=i,r=n[0];do Oe(n,0,s,i),Oe(n,0,e,o),s+=t[0],o+=t[1];while(s>=0&&s<r.length)}function FT(n){let t=n[0].length;bp(n,Pg,0,0),Lg(n,[-1,-1],7,7),bp(n,Pg,t-7,0),Lg(n,[1,-1],t-8,7),bp(n,Pg,0,t-7),Lg(n,[-1,1],7,t-8)}function NT(n,t){if(t<2)return;let e=n[0],i=e.length,s=Math.floor(t/7),o=[6],r,a,l=0;for((r=rT[t])?a=(i-13-r)/s:r=a=(i-13)/(s+1),o.push(o[l++]+r);o[l]+a<i;)o.push(o[l++]+a);for(let c=0;c<o.length;c++)for(let h=0;h<o.length;h++)e[o[c]][o[h]]===void 0&&bp(n,aT,o[c]-2,o[h]-2)}function BT(n){let t=6,e=6,i=1,s=n[0].length;for(let o=8;o<s-8;o++)Oe(n,i,t,o),Oe(n,i,o,e),i^=1}function VT(n){let t=[],e=[],i=[],s=[],o=[],r,a,l=0,c=1,h=n[0].length;for(a=0;a<n.length;a++)t[a]=0,i[a]=0,o[a]=[0,0],s[a]=[0,0],e[a]=[];for(let m=0;m<h;m++)for(let g=0;g<h;g++)for(let w=0;w<n.length;w++)r=n[w],i[w]+=parseInt(r[m][g],10),e[w][l]===r[m][g]&&m+1<h&&g-1>=0&&r[m+1][g]===e[w][l]&&r[m+1][g-1]===e[w][l]&&(t[w]+=3),Wb(w,s,t,l,r[m][g]),Wb(w,s,t,c,r[g][m]),Xb(w,t,e,r[m][g],o,l),Xb(w,t,e,r[g][m],o,c);let d=h*h,p,u=Number.MAX_VALUE;for(a=0;a<t.length;a++)t[a]+=zT(i[a],d),t[a]<u&&(u=t[a],p=a);return p}function Wb(n,t,e,i,s){t[n][i]=(t[n][i]<<1^s)%128,t[n][i]===uT&&(e[n]+=40)}function Xb(n,t,e,i,s,o){e[n][o]===i?s[n][o]++:(e[n][o]=i,s[n][o]>=5&&(t[n]+=3+s[n][o]-5),s[n][o]=1)}function zT(n,t){let e=Math.floor(n/t*100),i=e%5,s=Math.abs(e-i-50),o=Math.abs(e+5-i-50);return 10*Math.min(s/5,o/5)}function HT(n){return n&&n.toLowerCase().indexOf("utf_8")>=0?new yp:new fp}function Ng(n,t,e){let i=HT(e),s=i.getEncodingResult(n,t),o=s.version,r=Cr[o-1][t],a=ST(s.dataString,r.totalDataCodewords),l=RT(a,r),c=MT(o);FT(c),NT(c,o),BT(c),o>=7&&Gb(c,ee(0,18)),Ub(c,ee(0,15)),CT(c,l);let h=VT(c),d=c[h];o>=7&&Gb([d],OT(o));let p=lT[t]+ee(h,3);return Ub([d],PT(p)),d}var Vl=Math.round,jT=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],qb=[[0,1],[1,1],[1,0]],Ts={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1,DEFAULT_LOGO_SIZE:7},Bg=class extends R{constructor(t,e,i=Mn){super(),this.options=f({},this.options,e),this.element=t,this.wrapper=this.element,this.onError=i,this._initElement(),this._initSurface(),this.setOptions(e)}destroy(){this._destroySurface()}_initElement(){st(this.element,"k-qrcode")}_initSurface(){let{options:t,surface:e}=this;(!e||e.options.type!==t.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return x.Surface.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)}getSize(){let t=this.element,e=t.clientWidth,i=t.clientHeight,s={width:0,height:0};return e>0&&(s.width=e),i&&(s.height=i),s}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let t=this._value,e,i=this.options.border||{},s=this.options.padding||0,o=i.width||0,r,a,l,c,h;i.width=o;let d=new x.Group;try{t&&(a=Ng(t,this.options.errorCorrection,this.options.encoding),l=this._getSize(),h=l-2*(o+s),e=this._calculateBaseUnit(h,a.length),c=a.length*e,r=o+s+(h-c)/2,d.append(this._renderBackground(l,i)),d.append(this._renderMatrix(a,e,r)),this._hasCustomLogo()?d.append(this._renderLogo(l,e)):this._isSwiss()&&d.append(this._renderSwissCode(l,e)))}catch(p){this.onError(p)}return d}_renderLogo(t,e){let i,s,o=Vl(t/2),r=this._getLogoSize(e*Ts.DEFAULT_LOGO_SIZE),a=this.options.overlay.imageUrl,l={x:o-r.width/2,y:o-r.height/2};return s=new _.Rect(new _.Point(l.x,l.y),new _.Size(r.width,r.height)),i=new x.Image(a,s),i}_renderSwissCode(t,e){let i=this._getLogoSize(e*Ts.DEFAULT_LOGO_SIZE);i=Math.max(i.width,i.height);let s=i/4,o=s/2,r=t/2,a={},l=new x.Group;return a.x=a.y=Math.ceil(r-e-i/2),l.append(this._renderShape(a,Math.ceil(i+e*2),qb,"#fff")),a.x=a.y=r-i/2,l.append(this._renderShape(a,i,qb,this.options.color)),a.x=r+o-i/2,a.y=r+o+s-i/2,l.append(this._renderShape(a,s,jT,"#fff")),l}_renderShape(t,e,i,s){let o=new x.MultiPath({fill:{color:s},stroke:null});o.moveTo(t.x,t.y);for(let r=0;r<i.length;r++)o.lineTo(t.x+e*i[r][0],t.y+e*i[r][1]);return o.close(),o}_getSize(){let t;if(this.options.size)t=parseInt(this.options.size,10);else{let e=this.element,i=dp(e,this.options.renderAs),s=Math.min(i.width,i.height);s>0?t=s:t=Ts.DEFAULT_SIZE}return t}_calculateBaseUnit(t,e){let i=Math.floor(t/e);if(i<Ts.MIN_BASE_UNIT_SIZE){let s=Math.ceil(e*Ts.MIN_BASE_UNIT_SIZE);this.onError(new Error(`Insufficient size for QR Code: the current size is ${t}px and the minimum size is ${s}px.`))}else i*e>=t&&i-1>=Ts.MIN_BASE_UNIT_SIZE&&i--;return i}_renderMatrix(t,e,i){let s=new x.MultiPath({fill:{color:this.options.color},stroke:null});for(let o=0;o<t.length;o++){let r=i+o*e,a=0;for(;a<t.length;){for(;t[o][a]===0&&a<t.length;)a++;if(a<t.length){let l=a;for(;t[o][a]===1;)a++;let c=Vl(i+l*e),h=Vl(r),d=Vl(i+a*e),p=Vl(r+e);s.moveTo(c,h).lineTo(c,p).lineTo(d,p).lineTo(d,h).close()}}}return s}_renderBackground(t,e){let i=new S(0,0,t,t).unpad(e.width/2);return x.Path.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})}setOptions(t){let e=t||{};this.options=ui(this.options,e),t.value!==void 0&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(t){if(t===void 0)return this._value;this._value=String(t),this.redraw()}_hasCustomLogo(){return!!this.options.overlay.imageUrl}_isSwiss(){return this.options.overlay.type==="swiss"}_getLogoSize(t){let e=this.options.overlay.width,i=this.options.overlay.height;return!e&&!i?e=i=t:e&&!i?i=e:!e&&i&&(e=i),{width:e,height:i}}};v(Bg,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:Ts.DEFAULT_ERROR_CORRECTION_LEVEL,background:Ts.DEFAULT_BACKGROUND,color:Ts.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var UT={a:6378137,b:6356752314245179e-9,f:.0033528106647474805,e:.08181919084262149},zl={WGS84:UT};function Qi(n){return n*n}var mo=Math,GT=mo.abs,Qb=mo.atan,wp=mo.atan2,fo=mo.cos,ks=mo.sin,Kb=mo.tan,Dt=class n extends R{constructor(t,e){super(),this.initProperties(),arguments.length===1?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)}initProperties(){f(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(t){return t&&t.lat===this.lat&&t.lng===this.lng}clone(){return new n(this.lat,this.lng)}round(t){return this.lng=D(this.lng,t),this.lat=D(this.lat,t),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(t,e){return this.greatCircleTo(t,e).distance}destination(t,e,i){let s=kt(e),o=i||zl.WGS84,r=kt(this.lat),a=kt(this.lng),l=t/o.a,c=mo.asin(ks(r)*fo(l)+fo(r)*ks(l)*fo(s)),h=a+wp(ks(s)*ks(l)*fo(r),fo(l)-ks(r)*ks(c));return new n(ai(c),ai(h))}greatCircleTo(t,e){let i=n.create(i),s=e||zl.WGS84;if(!i||this.clone().round(8).equals(i.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let o=s.a,r=s.b,a=s.f,l=kt(i.lng-this.lng),c=Qb((1-a)*Kb(kt(this.lat))),h=ks(c),d=fo(c),p=Qb((1-a)*Kb(kt(i.lat))),u=ks(p),m=fo(p),g=l,w,E=this.DISTANCE_ITERATIONS,I=!1,G,$,et,it,ct,wt,zt;for(;!I&&E-- >0;){G=ks(g),$=fo(g),et=mo.sqrt(Qi(m*G)+Qi(d*u-h*m*$)),ct=h*u+d*m*$,zt=wp(et,ct);let Rt=d*m*G/et;it=1-Qi(Rt),wt=0,it!==0&&(wt=ct-2*h*u/it),w=g;let Kt=a/16*it*(4+a*(4-3*it));g=l+(1-Kt)*a*Rt*(zt+Kt*et*(wt+Kt*ct*(-1+2*Qi(wt)))),I=GT(g-w)<=this.DISTANCE_CONVERGENCE}let St=it*(Qi(o)-Qi(r))/Qi(r),Ge=1+St/16384*(4096+St*(-768+St*(320-175*St))),fe=St/1024*(256+St*(-128+St*(74-47*St))),Wr=fe*et*(wt+fe/4*(ct*(-1+2*Qi(wt))-fe/6*wt*(-3+4*Qi(et))*(-3+4*Qi(wt)))),Xr=wp(m*G,d*u-h*m*$),Ct=wp(d*G,-h*m+d*u*$);return{distance:D(r*Ge*(zt-Wr),this.DISTANCE_PRECISION),azimuthFrom:ai(Xr),azimuthTo:ai(Ct)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(t){return new n(t[1],t[0])}static fromLatLng(t){return new n(t[0],t[1])}static create(t,e){if(b(t))return t instanceof n?t.clone():arguments.length===1&&t.length===2?n.fromLatLng(t):new n(t,e)}};var go=Math,Vg=go.atan,tw=go.exp,$b=go.pow,Jb=go.sin,ew=go.log,iw=go.tan,WT=_.Point,Sp=go.PI,zg=Sp/2,sw=Sp/4,XT=Sp/180,YT=zl.WGS84,_p=class extends R{constructor(t){super(),this.initProperties(),this._initOptions(t)}_initOptions(t){this.options=f({},this.options,t)}initProperties(){f(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(t,e){let i=this,s=i.options,o=s.datum,r=o.a,a=s.centralMeridian,l=M(t.lat,-i.MAX_LAT,i.MAX_LAT),c=e?M(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,h=kt(c-a)*r,d=i._projectLat(l);return new WT(h,d)}_projectLat(t){let e=this.options.datum,i=e.e,s=e.a,o=kt(t),r=iw(sw+o/2),a=i*Jb(o),l=$b((1-a)/(1+a),i/2);return s*ew(r*l)}inverse(t,e){let i=this,s=i.options,o=s.datum,r=o.a,a=s.centralMeridian,l=t.x/(XT*r)+a,c=M(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(l=M(l,-i.MAX_LNG,i.MAX_LNG)),new Dt(c,l)}_inverseY(t){let e=this,i=e.options.datum,s=i.a,o=i.e,r=o/2,a=tw(-t/s),l=zg-2*Vg(a),c;for(c=0;c<=e.INVERSE_ITERATIONS;c++){let h=o*Jb(l),d=$b((1-h)/(1+h),r),p=zg-2*Vg(a*d)-l;if(l+=p,go.abs(p)<=e.INVERSE_CONVERGENCE)break}return ai(l)}};v(_p,{centralMeridian:0,datum:YT});var Hg=class extends _p{initProperties(){super.initProperties(),f(this,{MAX_LAT:85.0511287798})}_projectLat(t){let e=this.options.datum.a,i=kt(t),s=iw(sw+i/2);return e*ew(s)}_inverseY(t){let e=this.options.datum.a,i=tw(-t/e);return ai(zg-2*Vg(i))}};var Cp=class extends R{constructor(){super();let t=this,e=t._proj=new Hg,i=this.c=2*Sp*e.options.datum.a;this._tm=_.transform().translate(.5,.5).scale(1/i,-1/i),this._itm=_.transform().scale(i,-i).translate(-.5,-.5)}toPoint(t,e,i){return this._proj.forward(t,i).transform(this._tm).scale(e||1)}toLocation(t,e,i){let s=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(s,i)}};var Et=(n,t)=>n.bind(t),fi=n=>{let t=document.createElement("div");return t.innerHTML=n,t.firstChild},ow=(n,t)=>{let e=document.createElement("div");for(e.innerHTML=n;e.childNodes.length>0;)t.appendChild(e.childNodes[0])},xo=n=>{for(;n.firstChild;)n.removeChild(n.firstChild)},jg=(n,t)=>{t.insertBefore(n,t.firstChild)},nw=(n,t)=>{for(n.appendChild(t);n.firstChild!==t;)t.appendChild(n.firstChild)},Ug=n=>n.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}),Gg=n=>{let t;return n&&String(n).endsWith("px")?t=n:t=String(n)+"px",t},rw=n=>{let{mobileOS:t}=bi(n);return t.ios||t.android},vo=(n,t)=>{let e=n.prototype;e.events?t.forEach(i=>{e.events.indexOf(i)<0&&e.events.push(i)}):e.events=t},aw=n=>{let t=n.wheelDeltaY,e;return n.wheelDelta?(t===void 0||t)&&(e=n.wheelDelta):n.detail&&n.axis===n.VERTICAL_AXIS&&(e=-n.detail*10),e},Wg=n=>{let t=[];if(n){let e=Ug(n).split("-");for(let i=0;i<e.length;i++)t.push("k-pos-"+e[i])}return t.join(" ")};var Hl=class extends Gt{constructor(t,e){super(),this.element=t,this._initOptions(e),this.items=[],st(this.element,"k-widget k-attribution")}_initOptions(t){this.options=f({},this.options,t)}filter(t,e){this._extent=t,this._zoom=e,this._render()}add(t){let e=t;b(t)&&(typeof t=="string"&&(e={text:t}),this.items.push(e),this._render())}remove(t){let e=[];for(let i=0;i<this.items.length;i++){let s=this.items[i];s.text!==t&&e.push(s)}this.items=e,this._render()}clear(){this.items=[],xo(this.element)}_render(){let t=[];for(let e=0;e<this.items.length;e++){let i=this.items[e],s=this._itemText(i);s!==""&&t.push(s)}if(t.length>0){xo(this.element);let e=t.join(this.options.separator);ow(e,this.element),this.showElement()}else this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(t){let e="",i=this._inZoomLevel(t.minZoom,t.maxZoom),s=this._inArea(t.extent);return i&&s&&(e+=t.text),e}_inZoomLevel(t,e){let i=!0,s=F(t,-Number.MAX_VALUE),o=F(e,Number.MAX_VALUE);return i=this._zoom>s&&this._zoom<o,i}_inArea(t){let e=!0;return t&&(e=t.contains(this._extent)),e}};v(Hl,{name:"Attribution",separator:"&nbsp;|&nbsp;"});var lw="pan",ZT={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function Ap(n,t){let e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+ZT[n].className+'" aria-label="move '+n+'">'+xi({icon:`caret-alt-${n}`,iconClass:"k-button-icon",svgIcons:t.svgIcons,type:t.type})+"</button>";return fi(e)}var Sr=class extends Gt{constructor(t,e){super(),this.element=t,this._initOptions(e);let i=Ap("up",e.icons),s=Ap("right",e.icons),o=Ap("down",e.icons),r=Ap("left",e.icons);this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(o),this.element.appendChild(r),st(this.element,"k-widget k-navigator"),Jt(this.element,"click",".k-button",Et(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=Et(this._keydown,this),Jt(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){oe(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){let e=t||this.wrapper||this.element,i=this.element,s="tabindex",o=e.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),e.setAttribute(s,isNaN(o)?0:o)}_initOptions(t){this.options=f({},this.options,t)}_pan(t,e){let i=this.options.panStep;this.trigger(lw,{x:t*i,y:e*i})}_click(t){let e=0,i=0,s=t.currentTarget;s.matches(".k-navigator-n")?i=1:s.matches(".k-navigator-s")?i=-1:s.matches(".k-navigator-e")?e=1:s.matches(".k-navigator-w")&&(e=-1),this._pan(e,i),t.preventDefault()}_keydown(t){switch(t.which){case rs.UP:this._pan(0,1),t.preventDefault();break;case rs.DOWN:this._pan(0,-1),t.preventDefault();break;case rs.RIGHT:this._pan(1,0),t.preventDefault();break;case rs.LEFT:this._pan(-1,0),t.preventDefault();break;default:break}}};v(Sr,{name:"Navigator",panStep:1});vo(Sr,[lw]);function cw(n,t,e){let i='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+n+'" title="zoom-'+n+'" aria-label="zoom-'+n+'">'+xi({icon:t,iconClass:"k-button-icon",svgIcons:e.svgIcons,type:e.type})+"</button>";return fi(i)}var qT=187,QT=189,KT=61,$T=173,hw="change",Ar=class extends Gt{constructor(t,e,i){super(),this.element=t,this._initOptions(e);let s=cw("in","plus",i),o=cw("out","minus",i);this.element.appendChild(s),this.element.appendChild(o),this.element.setAttribute("role","group"),st(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),Jt(this.element,"click",".k-button",this._clickHandler);let r=this.element.parentNode.closest("[data-role]");this._keyroot=r||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),Jt(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&oe(this.element,"click",this._clickHandler),this._keyroot&&oe(this._keyroot,"keydown",this._keydownHandler)}_tabindex(t){let e=t||this.wrapper||this.element,i=this.element,s="tabindex",o=e.getAttribute(s)||i.getAttribute(s);i.removeAttribute(s),e.setAttribute(s,isNaN(o)?0:o)}_initOptions(t){this.options=f({},this.options,t)}_change(t){let e=this.options.zoomStep;this.trigger(hw,{delta:t*e})}_click(t){let e=t.currentTarget,i=1;Oi(e,"k-zoom-out")&&(i=-1),this._change(i),t.preventDefault()}_keydown(t){switch(t.which){case rs.NUMPAD_PLUS:case qT:case KT:this._change(1);break;case rs.NUMPAD_MINUS:case QT:case $T:this._change(-1);break;default:break}}};v(Ar,{name:"ZoomControl",zoomStep:1});vo(Ar,[hw]);var uw=Math,dw=uw.max,pw=uw.min,Es=class n extends R{constructor(t,e){super();let i=Dt.create(t),s=Dt.create(e);i.lng+180>s.lng+180&&i.lat+90<s.lat+90?(this.se=i,this.nw=s):(this.se=s,this.nw=i)}contains(t){let e=this.nw,i=this.se,s=F(t.lng,t[1]),o=F(t.lat,t[0]);return t&&s+180>=e.lng+180&&s+180<=i.lng+180&&o+90>=i.lat+90&&o+90<=e.lat+90}center(){let t=this.nw,e=this.se,i=t.lng+(e.lng-t.lng)/2,s=t.lat+(e.lat-t.lat)/2;return new Dt(s,i)}containsAny(t){let e=!1;for(let i=0;i<t.length;i++)e=e||this.contains(t[i]);return e}include(t){let e=this.nw,i=this.se,s=F(t.lng,t[1]),o=F(t.lat,t[0]);e.lng=pw(e.lng,s),e.lat=dw(e.lat,o),i.lng=dw(i.lng,s),i.lat=pw(i.lat,o)}includeAll(t){for(let e=0;e<t.length;e++)this.include(t[e])}edges(){let t=this.nw,e=this.se;return{nw:this.nw,ne:new Dt(t.lat,e.lng),se:this.se,sw:new Dt(e.lat,t.lng)}}toArray(){let t=this.nw,e=this.se;return[t,new Dt(t.lat,e.lng),e,new Dt(e.lat,t.lng)]}overlaps(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())}static create(t,e){if(t instanceof n)return t;if(t&&e)return new n(t,e);if(t&&t.length===4&&!e)return new n([t[0],t[1]],[t[2],t[3]])}static get World(){return new n([90,-180],[-90,180])}};var fw="showTooltip",mw="hideTooltip",Xg="centerChange",gw="zoomChange",xw="init";var jl=class extends R{constructor(t,e){super(),this.widgetService=t,this.options=f({},this.options,e),this.offset={x:0,y:0}}show(t,e){this.location!==e.location&&(this.anchor=t,this.location=e.location,this.widgetService.notify(fw,Object.assign({anchor:this.anchor},e)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify(mw),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(t){let e=this.widgetService.widget._toDocumentCoordinates({x:t.left-this.offset.x,y:t.top-this.offset.y});this._anchor={left:e.left,top:e.top}}destroy(){this.widgetService=null}};v(jl,{border:{width:1},opacity:1});var yo=class extends R{constructor(t,e){super(),this.support=bi(),this._initOptions(e),this.map=t;let i=document.createElement("div");st(i,"k-layer"),i.style.zIndex=this.options.zIndex,i.style.opacity=this.options.opacity,this.element=i,t.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(t){this.options=f({},this.options,t)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let t=this.options,e=this.map.zoom(),i=!b(t.minZoom)||e>=t.minZoom,s=!b(t.maxZoom)||e<=t.maxZoom,o=Es.create(t.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(i&&s&&r)}_setVisibility(t){this.element.style.display=t?"":"none"}_activate(){let t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)}_deactivate(){let t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)}_updateAttribution(){let t=this.map.attribution;t&&t.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}};var bo=Math,Yg=_.Point;function vw(n){return K(n)?n:os.compile(n)}function JT(n){return new Yg(D(n.x),D(n.y))}function yw(n){let t=n;return typeof n!="string"&&(t+="px"),t}var Ul=class extends yo{constructor(t,e){super(t,e),typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""));let i=this._viewType();this._view=new i(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return Zg}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=An(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let t=this._view,e=this.map,i=e.extent(),s={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(s),t.zoom(e.zoom())}_resize(){this._render()}_panEnd(t){super._panEnd(t),this._render()}_render(){this._updateView(),this._view.render()}};v(Ul,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var Zg=class extends R{constructor(t,e){super(),this.element=t,this._initOptions(e),this.pool=new kp}_initOptions(t){this.options=f({},this.options,t)}center(t){this._center=t}extent(t){this._extent=t}viewOrigin(t){this._viewOrigin=t}zoom(t){this._zoom=t}pointToTileIndex(t){return new Yg(bo.floor(t.x/this.options.tileSize),bo.floor(t.y/this.options.tileSize))}tileCount(){let t=this.size(),e=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,s=this.indexToPoint(e).translate(-i.x,-i.y);return{x:bo.ceil((bo.abs(s.x)+t.width)/this.options.tileSize),y:bo.ceil((bo.abs(s.y)+t.height)/this.options.tileSize)}}size(){let t=this._extent.nw,e=this._extent.se,i=e.clone().translate(-t.x,-t.y);return{width:i.x,height:i.y}}indexToPoint(t){let e=t.x,i=t.y;return new Yg(e*this.options.tileSize,i*this.options.tileSize)}subdomainText(){let t=this.options.subdomains;return t[this.subdomainIndex++%t.length]}destroy(){xo(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let t=this.tileCount(),e=this.pointToTileIndex(this._extent.nw),i,s,o;for(s=0;s<t.x;s++)for(o=0;o<t.y;o++)i=this.createTile({x:e.x+s,y:e.y+o}),i.visible||i.show()}createTile(t){let e=this.tileOptions(t),i=this.pool.get(this._center,e);return i.element.parentNode||this.element.append(i.element),i}tileOptions(t){let e=this.wrapIndex(t),i=this.indexToPoint(t),s=this._viewOrigin,o=i.clone().translate(-s.x,-s.y);return{index:e,currentIndex:t,point:i,offset:JT(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(t){let e=bo.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:M(t.y,0,e-1)}}wrapValue(t,e){let i=bo.abs(t)%e,s=t;return t>=0?s=i:s=e-(i===0?e:i),s}},Tp=class extends R{constructor(t,e){super(),this.id=t,this.visible=!0,this._initOptions(e),this.createElement(),this.show()}destroy(){let t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)}_initOptions(t){this.options=f({},this.options,t)}createElement(){let t=document.createElement("img"),e=this.options.size+"px";t.setAttribute("alt",""),t.style.position="absolute",t.style.display="block",t.style.width=t.style.maxWidth=e,t.style.height=t.style.maxHeight=e,this.element=t}show(){let t=this.element;t.style.top=yw(this.options.offset.y),t.style.left=yw(this.options.offset.x);let e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return vw(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return vw(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}}};v(Tp,{urlTemplate:"",errorUrlTemplate:""});var kp=class extends R{constructor(){super(),this._items=[]}get(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)}empty(){let t=this._items;for(let e=0;e<t.length;e++)t[e].destroy();this._items=[]}reset(){let t=this._items;for(let e=0;e<t.length;e++)t[e].hide()}_create(t){let e=this._items,i,s=uy(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate);for(let o=0;o<e.length;o++)if(e[o].id===s){i=e[o];break}return i?i.show():(i=new Tp(s,t),this._items.push(i)),i}_remove(t){let e=this._items,i=-1,s=-1;for(let o=0;o<e.length;o++){let r=e[o].options.point.distanceTo(t);r>i&&!e[o].visible&&(s=o,i=r)}s!==-1&&(e[s].destroy(),e.splice(s,1))}};v(kp,{maxSize:100});var pn=Object.assign,Gl="change",Ep=class extends Gt{constructor(t,e){super();let i=this,s=t[0]||t;i.capture=!1,s.addEventListener?(Fs.down.split(" ").forEach(function(o){s.addEventListener(o,Et(i._press,i),!0)}),Fs.up.split(" ").forEach(function(o){s.addEventListener(o,Et(i._release,i),!0)})):(Fs.down.split(" ").forEach(function(o){s.attachEvent(o,Et(i._press,i))}),Fs.up.split(" ").forEach(function(o){s.attachEvent(o,Et(i._release,i))})),i.bind(["press","release"],e||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(t){let e=this;e.trigger("press"),e.capture&&t.preventDefault()}_release(t){let e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())}},Ip=class extends Gt{constructor(t){super();let e=this;e.forcedEnabled=!1,pn(e,t),e.scale=1,e.horizontal?(e.measure="offsetWidth",e.scrollSize="scrollWidth",e.axis="x"):(e.measure="offsetHeight",e.scrollSize="scrollHeight",e.axis="y")}makeVirtual(){pn(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(t,e){(this._virtualMin!==t||this._virtualMax!==e)&&(this._virtualMin=t,this._virtualMax=e,this.update())}outOfBounds(t){return t>this.max||t<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(t){this.scale=t}update(t){let e=this,i=e.virtual?e._virtualMax:e.getTotal(),s=i*e.scale,o=e.getSize();i===0&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=o,e.total=s,e.min=Math.min(e.max,o-s),e.minScale=o/i,e.centerOffset=(s-o)/2,e.enabled=e.forcedEnabled||s>o,t||e.trigger(Gl,e))}},Dp=class extends Gt{constructor(t){super();let e=this;e.x=new Ip(pn({horizontal:!0},t)),e.y=new Ip(pn({horizontal:!1},t)),e.container=t.container,e.forcedMinScale=t.minScale,e.maxScale=t.maxScale||100,e.bind(Gl,t)}rescale(t){this.x.rescale(t),this.y.rescale(t),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(Gl)}},Rp=class extends Gt{constructor(t){super(),pn(this,t)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(t){let e=this,i=e.dimension,s=e.axis,o=e.movable,r=o[s]+t;if(!i.enabled)return;let a=t;(r<i.min&&t<0||r>i.max&&t>0)&&(a*=e.resistance),o.translateAxis(s,a),e.trigger(Gl,e)}},Pp=class extends R{constructor(t){super();let e=this,i,s,o,r;pn(e,{elastic:!0},t),o=e.elastic?.5:0,r=e.movable,e.x=i=new Rp({axis:"x",dimension:e.dimensions.x,resistance:o,movable:r}),e.y=s=new Rp({axis:"y",dimension:e.dimensions.y,resistance:o,movable:r}),e.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){e.gesture=a,e.offset=Fi(e.dimensions.container)},press(a){let l=a.event.target.closest("a");l&&l.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let l=e.gesture,c=l.center,h=a.center,d=a.distance/l.distance,p=e.dimensions.minScale,u=e.dimensions.maxScale,m;r.scale<=p&&d<1&&(d+=(1-d)*.8),r.scale*d>=u&&(d=u/r.scale);let g=r.x+e.offset.left,w=r.y+e.offset.top;m={x:(g-c.x)*d+h.x-g,y:(w-c.y)*d+h.y-w},r.scaleWith(d),i.dragMove(m.x),s.dragMove(m.y),e.dimensions.rescale(r.scale),e.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(i.dimension.enabled||s.dimension.enabled?(i.dragMove(a.x.delta),s.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}},bw=function(n,t,e){return"translate3d("+n+"px,"+t+"px,0) scale("+e+")"},un=class extends Gt{constructor(t){super();let e=this;e.element=t,e.element.style.transformOrigin="left top",e.x=0,e.y=0,e.scale=1;let i=bw(e.x,e.y,e.scale);e.element.style.transform=i,e._saveCoordinates(i)}translateAxis(t,e){this[t]+=e,this.refresh()}scaleTo(t){this.scale=t,this.refresh()}scaleWith(t){this.scale*=t,this.refresh()}translate(t){this.x+=t.x,this.y+=t.y,this.refresh()}moveAxis(t,e){this[t]=e,this.refresh()}moveTo(t){pn(this,t),this.refresh()}refresh(){let t=this,e=t.x,i=t.y,s;t.round&&(e=Math.round(e),i=Math.round(i)),s=bw(e,i,t.scale),s!==t.coordinates&&(t.element.style.transform=s,t._saveCoordinates(s),t.trigger(Gl))}_saveCoordinates(t){this.coordinates=t}};var qg=x.Group,fn=class extends yo{constructor(t,e){super(t,e),this._pan=Et(this._pan,this),this.surface=x.Surface.create(this.element,{width:t.scrollElement.clientWidth,height:t.scrollElement.clientHeight}),this._initRoot(),this.movable=new un(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new qg,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){let t=super._readData();return t.type==="FeatureCollection"?t.features:t.type==="GeometryCollection"?t.geometries:t}_load(t){this._data=t,this._clearMarkers(),this._loader||(this._loader=new Qg(this.map,this.options.style,this));let e=new qg;for(let i=0;i<t.length;i++){let s=this._loader.parse(t[i]);s&&e.append(s)}this._root.clear(),this._root.append(e)}shapeCreated(t){let e=!1;if(t instanceof x.Circle&&this.map.options.renderPointsAsMarkers&&(e=b(this._createMarker(t))),!e){let i={layer:this,shape:t};e=this.map.trigger("shapeCreated",i)}return e}featureCreated(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)}_createMarker(t){let e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e}_clearMarkers(){for(let t=0;t<this._markers.length;t++)this.map.markers.remove(this._markers[t]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(t){super._panEnd(t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))}_eventArgs(t){return{layer:this,layerIndex:this._layerIndex(),shape:t.element,shapeIndex:(this._data||[]).indexOf(t.element.dataItem),originalEvent:t.originalEvent}}_handler(t){return e=>{e.element&&this.map.trigger(t,this._eventArgs(e))}}_mouseenter(t){if(!t.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(t));let e=t.element,i=this._tooltipAnchor(t);this.map._tooltip.show(i,this._tooltipContext(e))}_tooltipContext(t){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:t.dataItem,location:t.location}}_tooltipAnchor(t){let e=this.map.eventOffset(t.originalEvent);return{top:e.y,left:e.x}}_activate(){super._activate(),this._panHandler=Et(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}};v(fn,{autoBind:!0,zIndex:100});var Qg=class extends R{constructor(t,e,i){super(),this.observer=i,this.locator=t,this.style=e}parse(t){let e=new qg,i=!0;return t.type==="Feature"?(i=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),i&&e.children.length<2&&(e=e.children[0]),e}_shapeCreated(t){let e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e}_featureCreated(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})}_loadGeometryTo(t,e,i){let s=e.coordinates,o,r;switch(e.type){case"LineString":r=this._loadPolygon(t,[s],i),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<s.length;o++)r=this._loadPolygon(t,[s[o]],i),this._setLineFill(r);break;case"Polygon":this._loadPolygon(t,s,i);break;case"MultiPolygon":for(o=0;o<s.length;o++)this._loadPolygon(t,s[o],i);break;case"Point":this._loadPoint(t,s,i);break;case"MultiPoint":for(o=0;o<s.length;o++)this._loadPoint(t,s[o],i);break;default:break}}_setLineFill(t){let e=t.segments;(e.length<4||!e[0].anchor().equals(gt(e).anchor()))&&(t.options.fill=null)}_loadShape(t,e){return this._shapeCreated(e)||t.append(e),e}_loadPolygon(t,e,i){let s=this._buildPolygon(e);return s.dataItem=i,s.location=this.locator.viewToLocation(s.bbox().center()),this._loadShape(t,s)}_buildPolygon(t){let e=t.length>1?x.MultiPath:x.Path,i=new e(this.style);for(let s=0;s<t.length;s++)for(let o=0;o<t[s].length;o++){let r=this.locator.locationToView(Dt.fromLngLat(t[s][o]));o===0?i.moveTo(r.x,r.y):i.lineTo(r.x,r.y)}return i}_loadPoint(t,e,i){let s=Dt.fromLngLat(e),o=this.locator.locationToView(s),r=new _.Circle(o,10),a=new x.Circle(r,this.style);return a.dataItem=i,a.location=s,this._loadShape(t,a)}};var Wl=class extends fn{_readData(){return this.options.data||[]}_load(t){if(this._data=t,this.surface.clear(),t.length===0)return;let e=this.options,i=xe(e.valueField),s=t.slice(0);s.sort(function(l,c){return i(c)-i(l)});let o=this._scaleType(),r,a=xe(this.options.locationField);for(let l=0;l<s.length;l++){let c=s[l],h=a(c),d=i(c);if(b(h)&&b(d)){r||(r=new o([0,d],[e.minSize,e.maxSize])),h=Dt.create(h);let p=this.map.locationToView(h),u=r.map(d),m=this._createSymbol({center:p,size:u,style:e.style,dataItem:c,location:h});m.dataItem=c,m.location=h,m.value=d,this._drawSymbol(m)}}}_scaleType(){let t=this.options.scale;return K(t)?t:tk[t]}_createSymbol(t){let e=this.options.symbol;return K(e)||(e=ek[e]),e(t)}_drawSymbol(t){let e={layer:this,shape:t};this.map.trigger("shapeCreated",e)||this.surface.draw(t)}_tooltipContext(t){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:t.dataItem,location:t.location,value:t.value}}_tooltipAnchor(t){let i=t.element.bbox().center();return{top:i.y,left:i.x}}};v(Wl,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var Kg=class extends R{constructor(t,e){super(),this._domain=t,this._range=e;let i=Math.sqrt(t[1])-Math.sqrt(t[0]),s=e[1]-e[0];this._ratio=s/i}map(t){let e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}},tk={sqrt:Kg},ek={circle:function(n){let t=new _.Circle(n.center,n.size/2);return new x.Circle(t,n.style)},square:function(n){let t=new x.Path(n.style),e=n.size/2,i=n.center;return t.moveTo(i.x-e,i.y-e).lineTo(i.x+e,i.y-e).lineTo(i.x+e,i.y+e).lineTo(i.x-e,i.y+e).close(),t}};var ww="click",_w="mouseenter",Cw="mouseleave",ik=Object.assign,Sw="k-marker",$g="."+Sw,Tr=class extends yo{constructor(t,e){super(t,e),this._markerClickHandler=Et(this._markerClick,this),Jt(this.element,ww,$g,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),oe(this.element,ww,this._markerClickHandler),this.clear()}add(t){if(ft(t))for(let e=0;e<t.length;e++)this._addOne(t[e]);else return this._addOne(t)}remove(t){t.destroy();let e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)}clear(){for(let t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]}update(t){let e=t.location();if(e){t.showAt(this.map.locationToView(e));let i={marker:t,layer:this};this.map.trigger("markerActivate",i)}}_reset(){super._reset();let t=this.items;for(let e=0;e<t.length;e++)this.update(t[e])}bind(t,e){let i=Lp.create(t,this.options);i.dataItem=e;let s={marker:i,layer:this};if(!this.map.trigger("markerCreated",s))return this.add(i),i}_addOne(t){let e=Lp.create(t,this.options);return e.addTo(this),e}_readData(){return this.options.data||[]}_load(t){this._data=t,this.clear();let e=xe(this.options.locationField),i=xe(this.options.titleField);for(let s=0;s<t.length;s++){let o=t[s];this.bind({location:e(o),title:i(o)},o)}}_markerClick(t){let e=t.currentTarget._kendoNode,i={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:t};this.map.trigger("markerClick",i)}_markerMouseEnter(t){let e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)}_markerMouseLeave(t){let e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)}_createMarkerEventArgs(t){let e=t.marker;return ik({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},t)}};v(Tr,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});var Lp=class n extends R{constructor(t){super(),this.options=t||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)}location(t){return t?(this.options.location=Dt.create(t).toArray(),this.layer&&this.layer.update(this),this):Dt.create(this.options.location)}showAt(t){this.render(),this._anchor={left:Math.round(t.x),top:Math.round(t.y)},this.element.style.left=Gg(this._anchor.left),this.element.style.top=Gg(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){this.element&&(this._mouseEnterHandler=Et(this._mouseEnter,this),Jt(this.element,_w,$g,this._mouseEnterHandler),this._mouseLeaveHandler=Et(this._mouseLeave,this),Jt(this.element,Cw,$g,this._mouseLeaveHandler))}unbindEvents(){this.element&&(oe(this.element,_w,this._mouseEnterHandler),oe(this.element,Cw,this._mouseLeaveHandler))}render(){if(!this.element){let t=this.options,e=this.layer,i=document.createElement("span");if(st(i,Sw),this.options.template){let r=this._compileTemplate(this.options.template)(this.dataItem),a=fi(r);i.appendChild(a)}else if(t.svgIcon)xi(i,{icon:t.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{let o={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};t.shape?t.shape==="pinTarget"?(o.icon="map-marker-target",xi(i,o)):t.shape==="pin"?xi(i,o):st(i,"k-icon k-icon-xxl k-i-marker-"+Ug(t.shape||"pin")):xi(i,o)}t.title&&i.setAttribute("title",t.title);let s=t.attributes||{};Object.keys(s).forEach(function(o){i.setAttribute(o,s[o])}),i._kendoNode=this,i.style.zIndex=t.zIndex,this.element=i,e&&e.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(t){let e=this._createEventArgs(t);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(t){let e=this._createEventArgs(t);this.layer._markerMouseLeave(e)}_createEventArgs(t){return{marker:this,originalEvent:t}}_compileTemplate(t){return os.compile(t,{paramName:"dataItem",useWithBlock:!1})}static create(t,e){return t instanceof n?t:new n(f({},e,t))}};var sk=Object.assign;function Aw(n){window.requestAnimationFrame(n)}var mn=class extends R{constructor(){super();let t=this;t._tickProxy=Et(t._tick,t),t._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,Aw(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):Aw(t._tickProxy))}},Xl=class extends mn{constructor(t){super(),sk(this,t)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,Xe()-this.startDate)}moveTo(t){let e=this,i=e.movable;e.initial=i[e.axis],e.delta=t.location-e.initial,e.duration=typeof t.duration=="number"?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=Xe(),e.start()}_easeProxy(t){let e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}}static easeOutExpo(t,e,i,s){return t===s?e+i:i*(-Math.pow(2,-10*t/s)+1)+e}};var kr=Object.assign,gn=Math.abs,ok=500,nk=.7,rk=.96,ak=10,Jg=55,lk=.5,Tw=5,ck="pull",Mp="change",hk="resize",kw="scroll",dk=2,tx=class extends mn{constructor(t){super(t);let e=this;kr(e,t),e.userEvents.bind("gestureend",e.start.bind(this)),e.tapCapture.bind("press",e.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)}onEnd(){let t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)}},ex=class extends mn{constructor(t){super();let e=this;kr(e,t,{transition:new Xl({axis:t.axis,movable:t.movable,onEnd(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",Et(e.start,e)),e.userEvents.bind("gestureend",Et(e.start,e)),e.userEvents.bind("tap",Et(e.onEnd,e))}onCancel(){this.transition.cancel()}freeze(t){let e=this;e.cancel(),e._moveTo(t)}onEnd(){let t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()}done(){return gn(this.velocity)<1}start(t){let e=this,i;e.dimension.enabled&&(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(t.touch[e.axis].velocity*e.velocityMultiplier,Jg),super.start()):e._snapBack():(i=t.touch.id===dk?0:t.touch[e.axis].velocity,e.velocity=Math.max(Math.min(i*e.velocityMultiplier,Jg),-Jg),e.tapCapture.captureNext(),super.start()))}tick(){let t=this,e=t.dimension,i=t.paneAxis.outOfBounds()?lk:t.friction,s=t.velocity*=i,o=t.movable[t.axis]+s;!t.elastic&&e.outOfBounds(o)&&(o=Math.max(Math.min(o,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,o)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let t=this,e=t.dimension,i=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(i)}_moveTo(t){this.transition.moveTo({location:t,duration:ok,ease:Xl.easeOutExpo})}},ix=class extends mn{constructor(t){super(t),kr(this,t,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return gn(this.offset.y)<Tw&&gn(this.offset.x)<Tw}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(t,e){this.offset={},this.origin=t,this.destination=e}setCallback(t){t&&K(t)?this.callback=t:t=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}},sx=class extends R{constructor(t){super();let e=this,i=t.axis==="x",o=fi('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');kr(e,t,{element:o,elementSize:0,movable:new un(o),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:i?"width":"height"}),e.scrollMovable.bind(Mp,e.refresh.bind(e)),e.container.appendChild(o),t.alwaysVisible&&e.show()}refresh(){let t=this,e=t.axis,i=t.dimension,s=i.size,o=t.scrollMovable,r=s/i.total,a=Math.round(-o[e]*r),l=Math.round(s*r);r>=1?this.element.style.display="none":this.element.style.display="",a+l>s?l=s-a:a<0&&(l+=a,a=0),t.elementSize!==l&&(t.element.style[t.size]=l+"px",t.elementSize=l),t.movable.moveAxis(e,a)}show(){this.element.style.opacity=nk,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}},Er=class extends Gt{constructor(t,e){super();let i=this;this.element=t,this._initOptions(e);let s=rw(navigator.userAgent);i._native=i.options.useNative&&s;let o=fi('<div class="km-scroll-header"/>');if(i._native){st(t,"km-native-scroller"),jg(o,t),kr(i,{scrollElement:t,fixedContainer:t.children[0]});return}t.style.overflow="hidden",st(t,"km-scroll-wrapper");let r=fi('<div class="km-scroll-container"/>');nw(t,r),jg(o,t);let a=t.children[1],l=new Ep(t),c=new un(a),h=new Dp({element:a,container:t,forcedEnabled:i.options.zoom}),d=this.options.avoidScrolling,p=new as(t,{touchAction:"none",allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:i.options.zoom,supportDoubleTap:i.options.supportDoubleTap,start(w){h.refresh();let E=gn(w.x.velocity),I=gn(w.y.velocity),G=E*2>=I,$=i.fixedContainer.contains(w.event.target),et=I*2>=E;!$&&!d(w)&&i.enabled&&(h.x.enabled&&G||h.y.enabled&&et)?p.capture():p.cancel()}}),u=new Pp({movable:c,dimensions:h,userEvents:p,elastic:i.options.elastic}),m=new tx({movable:c,dimensions:h,userEvents:p,tapCapture:l}),g=new ix({moveTo(w){i.scrollTo(w.x,w.y)}});c.bind(Mp,function(){i.scrollTop=-c.y,i.scrollLeft=-c.x,i.trigger(kw,{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft})}),i.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),Jt(t,"wheel",this._wheelScrollHandler)),kr(i,{movable:c,dimensions:h,zoomSnapBack:m,animatedScroller:g,userEvents:p,pane:u,tapCapture:l,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:t.children[0]}),i._initAxis("x"),i._initAxis("y"),i._wheelEnd=function(){i._wheel=!1,i.userEvents.end(0,i._wheelY)},h.refresh(),i.options.pullToRefresh&&i._initPullToRefresh()}_initOptions(t){this.options=f({},this.options,t)}_wheelScroll(t){if(t.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let e=aw(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(t,e){this.dimensions.y.virtualSize(t,e)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(t){let e=this;this._initOptions(t),t.pullToRefresh&&e._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(t,e){this._native?(this.scrollElement.scrollLeft(gn(t)),this.scrollElement.scrollTop(gn(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))}animatedScrollTo(t,e,i){let s,o;this._native?this.scrollTo(t,e):(s={x:this.movable.x,y:this.movable.y},o={x:t,y:e},this.animatedScroller.setCoordinates(s,o),this.animatedScroller.setCallback(i),this.animatedScroller.start())}pullHandled(){}destroy(){let t=this.element;oe(t,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(t){this.dimensions.rescale(t),this.movable.scaleTo(t)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(t){let e=this,i=e.movable,s=e.dimensions[t],o=e.tapCapture,r=e.pane[t],a=new sx({axis:t,movable:i,dimension:s,container:e.element,alwaysVisible:e.options.visibleScrollHints});s.bind(Mp,function(){a.refresh()}),r.bind(Mp,function(){a.show()}),e[t+"inertia"]=new ex({axis:t,paneAxis:r,movable:i,tapCapture:o,userEvents:e.userEvents,dimension:s,elastic:e.options.elastic,friction:e.options.friction||rk,velocityMultiplier:e.options.velocityMultiplier||ak,end(){a.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}};v(Er,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}});vo(Er,[ck,kw,hk]);var ox=class{constructor(t,e={}){this.sender=e.sender||t,this.widget=t,this.rtl=!!e.rtl}notify(t,e){this.widget&&this.widget.trigger(t,e)}},Ew=ox;var wo=Math,Iw=wo.min,nx=wo.pow,Dw=_.Point,Fp="marker",Op="location",pk=.9,uk=.93,Rw="wheel",fk=50,mk=5,gk=1,xk={bubble:Wl,shape:fn,tile:Ul,[Fp]:Tr},Np=class extends Gt{constructor(t,e={},i={},s={}){super(),this._init(t,e,i,s)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),ft(this.markers)?this.markers.forEach(t=>{t.destroy()}):this.markers.destroy();for(let t=0;t<this.layers.length;t++)this.layers[t].destroy();oe(this.element,Rw,this._mousewheelHandler),super.destroy()}_init(t,e={},i={},s={}){this.support=bi(),this.context=s,this.initObserver(s),this.initServices(s),this._notifyObserver(xw),this._initOptions(e),this._setEvents(e),this.crs=new Cp,this._initElement(t),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();let o=An(this._mousewheel.bind(this),fk);this._mousewheelHandler=r=>{r.preventDefault(),o(r)},Jt(this.element,Rw,this._mousewheelHandler)}_initOptions(t){this.options=f({},this.options,t)}_initElement(t){this.element=t,st(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),xo(t);let e=fi("<div />");this.element.appendChild(e)}initServices(t={}){this.widgetService=new Ew(this,t)}initObserver(t={}){this.observers=[],this.addObserver(t.observer)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){let e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){let e=this.observers;for(let i=0;i<e.length;i++)if(e[i].requiresHandlers(t))return!0}trigger(t,e={}){e.sender=this;let i=this.observers,s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s||super.trigger(t,e),s}_notifyObserver(t,e={}){e.sender=this;let i=this.observers,s=!1;for(let o=0;o<i.length;o++)i[o].trigger(t,e)&&(s=!0);return s}zoom(t){let e=this.options,i;if(b(t)){let s=wo.round(M(t,e.minZoom,e.maxZoom));e.zoom!==s&&(e.zoom=s,this.widgetService.notify(gw,{zoom:e.zoom}),this._reset()),i=this}else i=e.zoom;return i}center(t){let e;if(t){let i=Dt.create(t),s=Dt.create(this.options.center);i.equals(s)||(this.options.center=i.toArray(),this.widgetService.notify(Xg,{center:this.options.center}),this._reset()),e=this}else e=Dt.create(this.options.center);return e}extent(t){let e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e}setOptions(t={}){let e=this.element;this.destroy(),xo(e),this._init(e,t,{},this.context),this._reset()}locationToLayer(t,e){let i=!this.options.wraparound,s=Dt.create(t);return this.crs.toPoint(s,this._layerSize(e),i)}layerToLocation(t,e){let i=!this.options.wraparound,s=Dw.create(t);return this.crs.toLocation(s,this._layerSize(e),i)}locationToView(t){let e=Dt.create(t),i=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(i.scale(-1))}viewToLocation(t,e){let i=this.locationToLayer(this._getOrigin(),e),o=Dw.create(t).clone().translateWith(i);return this.layerToLocation(o,e)}eventOffset(t){let e,i,s=Fi(this.element);if(t.x&&t.x[Op]||t.y&&t.y[Op])e=t.x[Op]-s.left,i=t.y[Op]-s.top;else{let r=t.originalEvent||t;e=F(r.pageX,r.clientX)-s.left,i=F(r.pageY,r.clientY)-s.top}return new _.Point(e,i)}eventToView(t){let e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))}eventToLayer(t){return this.locationToLayer(this.eventToLocation(t))}eventToLocation(t){let e=this.eventOffset(t);return this.viewToLocation(e)}viewSize(){let t=this.element,e=this._layerSize(),i=t.clientWidth;return this.options.wraparound||(i=Iw(e,i)),{width:i,height:Iw(e,t.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(t,e){let i=this.viewSize(),s,o=this._origin=Dt.create(t);return s=this.locationToLayer(o,e),s.x+=i.width/2,s.y+=i.height/2,this.options.center=this.layerToLocation(s,e).toArray(),this.widgetService.notify(Xg,{center:this.options.center}),this}_getOrigin(t){let e=this.viewSize(),i;return(t||!this._origin)&&(i=this.locationToLayer(this.center()),i.x-=e.width/2,i.y-=e.height/2,this._origin=this.layerToLocation(i)),this._origin}_setExtent(t){let e=Es.create(t),i=e.se.clone();this.options.wraparound&&i.lng<0&&t.nw.lng>0&&(i.lng=180+(180+i.lng));let s=new Es(e.nw,i);this.center(s.center());let o=this.element.clientWidth,r=this.element.clientHeight,a;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let l=this.locationToLayer(s.nw,a),c=this.locationToLayer(s.se,a),h=wo.abs(c.x-l.x),d=wo.abs(c.y-l.y);if(h<=o&&d<=r)break}this.zoom(a)}_getExtent(){let t=this._getOrigin(),e=this.locationToLayer(t),i=this.viewSize();e.x+=i.width,e.y+=i.height;let s=this.layerToLocation(e);return new Es(t,s)}_zoomAround(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)}_initControls(){let t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))}_createControlElement(t,e){let i=t.position||e,s="."+Wg(i).replace(" ","."),o=this.element.querySelector(".k-map-controls"+s)||[];if(o.length===0){let a=document.createElement("div");st(a,"k-map-controls "+Wg(i)),o=a,this.element.appendChild(o)}let r=document.createElement("div");return o.appendChild(r),r}_createAttribution(t){let e=this._createControlElement(t,"bottomRight");this.attribution=new Hl(e,t)}_createNavigator(t){let e=this._createControlElement(t,"topLeft"),i=this.navigator=new Sr(e,f({},t,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)}_navigatorPan(t){let e=this.scroller,i=e.scrollLeft+t.x,s=e.scrollTop-t.y,o=this._virtualSize,r=this.element.clientWidth,a=this.element.clientHeight;i=M(i,o.x.min,o.x.max-r),s=M(s,o.y.min,o.y.max-a),this.scroller.one("scroll",Et(this._scrollEnd,this)),this.scroller.scrollTo(-i,-s)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(t){let e=this._createControlElement(t,"topLeft"),i=this.zoomControl=new Ar(e,t,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)}_zoomControlChange(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))}_initScroller(){let t=this.support.mobileOS?uk:pk,e=this.options.zoomable!==!1,i=this.scroller=new Er(this.element.children[0],{friction:t,velocityMultiplier:mk,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",Et(this._scroll,this)),i.bind("scrollEnd",Et(this._scrollEnd,this)),i.userEvents.bind("gesturestart",Et(this._scaleStart,this)),i.userEvents.bind("gestureend",Et(this._scale,this)),i.userEvents.bind("doubleTap",Et(this._doubleTap,this)),i.userEvents.bind("tap",Et(this._tap,this)),this.scrollElement=i.scrollElement}_initLayers(){let t=this.options.layers,e=this.layers=[];for(let i=0;i<t.length;i++){let s=t[i],o=this._createLayer(s);e.push(o)}}_createLayer(t){let e=t.type||"shape",i=this.options.layerDefaults[e],s=e===Fp?f({},this.options.markerDefaults,t,{icons:this.options.icons}):f({},i,t),o=xk[e],r=new o(this,s);return e===Fp&&(this.markers=r),r}_createTooltip(){return new jl(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(e=>e&&e.type===Fp).length>0||(this.markers=new Tr(this,f({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))}_scroll(t){let e=this.locationToLayer(this._viewOrigin).round(),i=t.sender.movable,s=new _.Point(i.x,i.y).scale(-1).scale(1/i.scale);e.x+=s.x,e.y+=s.y,this._scrollOffset=s,this._tooltip.offset=s,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})}_scrollEnd(t){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=Xe(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return Xe()-(this._panEndTimestamp||0)>50}_scaleStart(t){if(this.trigger("zoomStart",{originalEvent:t})){let e=t.touches[1];e&&e.cancel()}}_scale(t){let e=this.scroller.movable.scale,i=this._scaleToZoom(e),s=new _.Point(t.center.x,t.center.y),o=this.viewToLocation(s,i),a=this.locationToLayer(o,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}_scaleToZoom(t){let i=this._layerSize()*t/this.options.minSize,s=wo.log(i)/wo.log(2);return wo.round(s)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let t=this.scroller,e=t.dimensions.x,i=t.dimensions.y,s=this._layerSize(),o=this.extent().nw,r=this.locationToLayer(o).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();let a=this.zoom();t.dimensions.forcedMinScale=nx(2,this.options.minZoom-a),t.dimensions.maxScale=nx(2,this.options.maxZoom-a);let l={min:-r.x,max:s-r.x},c={min:-r.y,max:s-r.y};if(this.options.wraparound&&(l.max=20*s,l.min=-l.max),this.options.pannable===!1){let h=this.viewSize();l.min=c.min=0,l.max=h.width,c.max=h.height}e.makeVirtual(),i.makeVirtual(),e.virtualSize(l.min,l.max),i.virtualSize(c.min,c.max),this._virtualSize={x:l,y:c}}_renderLayers(){}_layerSize(t){let e=F(t,this.options.zoom);return this.options.minSize*nx(2,e)}_tap(t){if(!this._panComplete())return;let e=this.eventOffset(t);this.hideTooltip(),this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}_doubleTap(t){if(this.options.zoomable!==!1&&!this.trigger("zoomStart",{originalEvent:t})){let i=this.zoom()+gk,s=this.eventOffset(t),o=this.viewToLocation(s),a=this.locationToLayer(o,i).translate(-s.x,-s.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}}_mousewheel(t){let e=Ms(t)>0?-1:1,i=this.options,s=this.zoom(),o=M(s+e,i.minZoom,i.maxZoom);if(i.zoomable!==!1&&o!==s&&!this.trigger("zoomStart",{originalEvent:t})){let r=this.eventOffset(t),a=this.viewToLocation(r),c=this.locationToLayer(a,o).translate(-r.x,-r.y);this._zoomAround(c,o),this.trigger("zoomEnd",{originalEvent:t})}}_toDocumentCoordinates(t){let e=Fi(this.element);return{left:D(t.x+e.left),top:D(t.y+e.top)}}};v(Np,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1});vo(Np,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var vk=(n,t)=>Math.max.apply(null,n.map(t)),yk=(n,t)=>Math.min.apply(null,n.map(t)),rx=(n,t)=>n.map(t).reduce((e,i)=>e+i,0),Vp=(n,t)=>n.y0===t.y0?n.index-t.index:n.y0+n.y1-t.y0-t.y1,bk=(n,t)=>Vp(n.source,t.source),wk=(n,t)=>Vp(n.target,t.target),ax=n=>n.value;function lx(n){n.forEach(t=>{t.targetLinks.forEach(e=>{e.source.sourceLinks.sort(wk)}),t.sourceLinks.forEach(e=>{e.target.targetLinks.sort(bk)})})}var _k=(n,t)=>n.align==="left"?n.depth:n.align==="right"?t-n.height:n.sourceLinks.length?n.depth:t,cx=class{constructor(t){let{offset:e={},align:i}=t.nodesOptions;this.data={nodes:t.nodes.map(s=>f({},{offset:e,align:i},s)),links:t.links.map(s=>f({},s))},this.width=t.width,this.height=t.height,this.offsetX=t.offsetX||0,this.offsetY=t.offsetY||0,this.nodeWidth=t.nodesOptions.width,this.nodePadding=t.nodesOptions.padding,this.reverse=t.reverse,this.targetColumnIndex=t.targetColumnIndex,this.loops=t.loops,this.autoLayout=t.autoLayout}calculate(){let{nodes:t,links:e}=this.data;this.connectLinksToNodes(t,e),this.calculateNodeValues(t);let i=this.calculateNodeHeights(t);if(i)return{nodes:[],links:[],columns:[],circularLinks:i};this.calculateNodeDepths(t);let s=this.calculateNodeColumns(t);return this.calculateNodeBreadths(s),this.applyNodesOffset(t),this.calculateLinkBreadths(t),Object.assign({},this.data,{columns:s})}connectLinksToNodes(t,e){let i=new Map;t.forEach((s,o)=>{s.index=o,s.sourceLinks=[],s.targetLinks=[],s.id=s.id!==void 0?s.id:s.label.text,i.set(s.id,s)}),e.forEach(s=>{s.source=i.get(s.sourceId),s.target=i.get(s.targetId),s.source.sourceLinks.push(s),s.target.targetLinks.push(s)})}calculateNodeValues(t){t.forEach(e=>{e.value=Math.max(rx(e.sourceLinks,ax),rx(e.targetLinks,ax))})}calculateNodeDepths(t){let e=new Set(t),i=new Set,s=0;for(;e.size;){let o=Array.from(e);for(let r=0;r<o.length;r++){let a=o[r];a.depth=s;for(let l=0;l<a.sourceLinks.length;l++){let c=a.sourceLinks[l];i.add(c.target)}}s++,e=i,i=new Set}}calculateNodeHeights(t){let e=t.length,i=new Set(t),s=new Set,o=0,r=a=>{a.height=o,a.targetLinks.forEach(l=>{s.add(l.source)})};for(;i.size;){if(i.forEach(r),o++,o>e)return!0;i=s,s=new Set}return!1}calculateNodeColumns(t){let e=vk(t,o=>o.depth),i=(this.width-this.offsetX-this.nodeWidth)/e,s=new Array(e+1);for(let o=0;o<t.length;o++){let r=t[o],a=Math.max(0,Math.min(e,_k(r,e)));r.x0=this.offsetX+a*i,r.x1=r.x0+this.nodeWidth,r.layer=a,s[a]=s[a]||[],s[a].push(r)}return s}calculateNodeBreadths(t){let e=yk(t,i=>(this.height-this.offsetY-(i.length-1)*this.nodePadding)/rx(i,ax));if(t.forEach(i=>{let s=this.offsetY;i.forEach(o=>{o.y0=s,o.y1=s+o.value*e,s=o.y1+this.nodePadding,o.sourceLinks.forEach(r=>{r.width=r.value*e})}),s=(this.height-s+this.nodePadding)/(i.length+1),i.forEach((o,r)=>{o.y0+=s*(r+1),o.y1+=s*(r+1)})}),this.autoLayout!==!1){let i=this.loops!==void 0?this.loops:t.length-1,s=this.targetColumnIndex||1;for(let o=0;o<i;o++)this.reverse?(this.uncurlLinksToRight(t,s),this.uncurlLinksToLeft(t,s)):(this.uncurlLinksToLeft(t,s),this.uncurlLinksToRight(t,s))}t.forEach(lx)}applyNodesOffset(t){t.forEach(e=>{let i=(e.offset?e.offset.left:0)||0,s=(e.offset?e.offset.top:0)||0;e.x0+=i,e.x1+=i,e.y0+=s,e.y1+=s})}calculateLinkBreadths(t){t.forEach(e=>{let{sourceLinks:i,targetLinks:s}=e,o=e.y0,r=o;i.forEach(a=>{a.x0=a.source.x1,a.y0=o+a.width/2,o+=a.width}),s.forEach(a=>{a.x1=a.target.x0,a.y1=r+a.width/2,r+=a.width})})}uncurlLinksToRight(t,e){let i=t.length;for(let s=e;s<i;s++){let o=t[s];o.forEach(r=>{let a=0,l=0;r.targetLinks.forEach(h=>{let d=h.value*(r.layer-h.source.layer);a+=this.targetTopPos(h.source,r)*d,l+=d});let c=a===0?0:a/l-r.y0;r.y0+=c,r.y1+=c,lx([r])}),o.sort(Vp),this.arrangeNodesVertically(o)}}uncurlLinksToLeft(t,e){let s=t.length-1-e;for(let o=s;o>=0;o--){let r=t[o];for(let a=0;a<r.length;a++){let l=r[a],c=0,h=0;l.sourceLinks.forEach(p=>{let u=p.value*(p.target.layer-l.layer);c+=this.sourceTopPos(l,p.target)*u,h+=u});let d=c===0?0:c/h-l.y0;l.y0+=d,l.y1+=d,lx([l])}r.sort(Vp),this.arrangeNodesVertically(r)}}arrangeNodesVertically(t){let i=t.length-1;this.arrangeUp(t,this.height,i),this.arrangeDown(t,this.offsetY,0)}arrangeDown(t,e,i){let s=e;for(let o=i;o<t.length;o++){let r=t[o],a=Math.max(0,s-r.y0);r.y0+=a,r.y1+=a,s=r.y1+this.nodePadding}}arrangeUp(t,e,i){let s=e;for(let o=i;o>=0;--o){let r=t[o],a=Math.max(0,r.y1-s);r.y0-=a,r.y1-=a,s=r.y0-this.nodePadding}}sourceTopPos(t,e){let i=e.y0-(e.targetLinks.length-1)*this.nodePadding/2;for(let s=0;s<e.targetLinks.length;s++){let o=e.targetLinks[s];if(o.source===t)break;i+=o.width+this.nodePadding}for(let s=0;s<t.sourceLinks.length;s++){let o=t.sourceLinks[s];if(o.target===e)break;i-=o.width}return i}targetTopPos(t,e){let i=t.y0-(t.sourceLinks.length-1)*this.nodePadding/2;for(let s=0;s<t.sourceLinks.length;s++){let o=t.sourceLinks[s];if(o.target===e)break;i+=o.width+this.nodePadding}for(let s=0;s<e.targetLinks.length;s++){let o=e.targetLinks[s];if(o.source===t)break;i-=o.width}return i}},xn=n=>new cx(n).calculate(),Pw=n=>{let t=0,e=n.length;for(let i=0;i<e;i++){let s=n[i];for(let o=i+1;o<e;o++){let r=n[o];Ck(s,r)&&(t+=Math.min(s.value,r.value))}}return t};function Bp(n,t,e,i,s,o){let r=(o-t)*(e-n),a=(i-t)*(s-n);return r>a?1:r===a?0:-1}function Ck(n,t){let e=Bp(n.x0,n.y0,n.x1,n.y1,t.x1,t.y1),i=Bp(n.x0,n.y0,n.x1,n.y1,t.x0,t.y0),s=Bp(n.x0,n.y0,t.x0,t.y0,t.x1,t.y1),o=Bp(n.x1,n.y1,t.x0,t.y0,t.x1,t.y1);return e!==i&&s!==o}var mi=class extends R{constructor(t){super(),this.options=f({},this.options,t),this.createVisual()}createVisual(){this.visual=this.createElement()}exportVisual(){return this.visual}createElement(){let t=this.options.visual,e;return t?e=t({sender:this.getSender(),options:this.visualOptions(),createVisual:()=>this.getElement()}):e=this.getElement(),e}getSender(){return this}};var Yl=class extends mi{getElement(){return x.Path.fromRect(this.getRect(),this.visualOptions())}getRect(){let t=this.options.node;return new _.Rect([t.x0,t.y0],[t.x1-t.x0,t.y1-t.y0])}getLabelText(t){let e=t.labels.ariaTemplate;if(e)return e({node:t.node})}visualOptions(){let t=f({},this.options,this.options.node),e=this.getLabelText(t);return{fill:{color:t.color,opacity:t.opacity},stroke:{width:0},className:"k-sankey-node",role:"graphics-symbol",ariaRoleDescription:"Node",ariaLabel:e}}createFocusHighlight(){if(this.options.navigatable)return this._highlight=x.Path.fromRect(this.getRect(),{stroke:this.options.focusHighlight.border,visible:!1}),this._highlight}focus(t){if(this._highlight){let{highlight:e=!0}=t||{};e&&this._highlight.options.set("visible",!0);let i=this.options.node.id;this.visual.options.set("id",i),this.options.root()&&this.options.root().setAttribute(ts,i)}}blur(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(ts))}},Sk=(n,t,e)=>n.color||t[e%t.length],hx=(n,t,e,i)=>{let s=f({},t,t.node);return f({},{color:Sk(n,e,i)},s,{node:n},{visual:n.visual,opacity:n.opacity,offset:n.offset,color:n.color})};var zp=(n,t,e,i,s)=>{let o=1-s,r=o*o,a=s*s;return n*r*o+3*t*s*r+3*e*a*o+i*a*s};function Ak(n,t,e,i,s){let o=(n+e)/2,r=(t+i)/2,a,l;if(t===i)a=0,l=s/2;else if(n===e)a=s/2,l=0;else{let p=-1/((i-t)/(e-n));a=s/2/Math.sqrt(1+p*p),l=p*a}let c={x:o-a,y:r-l},h={x:o+a,y:r+l};return{P1:c,P2:h}}function Tk(n,t,e,i,s){let o={x:(n.x+t.x)/2,y:(n.y+t.y)/2},r=t.x-n.x,l=-(t.y-n.y),c=r,h=Math.sqrt(l*l+c*c);l=l/h*e,c=c/h*e;let d={x:o.x+l,y:o.y+c},p={x:o.x-l,y:o.y-c},u=s.x-i.x,m=s.y-i.y,g=m*(d.x-p.x)-u*(d.y-p.y);if(Math.abs(g)<1e-10)return null;let w=(u*(p.y-i.y)-m*(p.x-i.x))/g,E=((d.x-p.x)*(p.y-i.y)-(d.y-p.y)*(p.x-i.x))/g;return w>=0&&w<=1&&E>=0&&E<=1?{x:p.x+w*(d.x-p.x)}:null}var kk=(n,t)=>{let e=n.width/2,i=t?n.x1:n.x0,s=t?n.x0:n.x1,o=t?n.y1:n.y0,r=t?n.y0:n.y1,a=(i+s)/2,l=[a,zp(o,o,r,r,.5)],c=.4999,h=[zp(i,a,a,s,c),zp(o,o,r,r,c)],d=Ak(l[0],l[1],h[0],h[1],n.width),p=[a,zp(o+e,o+e,r+e,r+e,.5)],u=d.P1.y>d.P2.y?d.P1:d.P2,m=e,g=(o>r?1:-1)*m,w=u,E={x:p[0],y:p[1]},I={x:p[0],y:p[1]},G={x:Math.max(1,p[0]+g),y:p[1]},$=Tk(w,E,m,I,G)||{x:(p[0]+u.x)/2},et=i,it=s,ct=($.x-.125*et-.125*it)/.75;return a-ct},Hp=class extends mi{getElement(){let t=this.options.link,{x0:e,x1:i,y0:s,y1:o}=t,r=(e+i)/2;return new x.Path(this.visualOptions()).moveTo(e,s).curveTo([r,s],[r,o],[i,o])}getLabelText(t){let e=t.labels.ariaTemplate;if(e)return e({link:t.link})}visualOptions(){let t=this.options,e=this.options.link,i=this.getLabelText(t);return{stroke:{width:t.link.width,color:e.color||t.color,opacity:b(e.opacity)?e.opacity:t.opacity},role:"graphics-symbol",ariaRoleDescription:"Link",ariaLabel:i}}createFocusHighlight(){if(!this.options.navigatable)return;let{link:t}=this.options,{x0:e,x1:i,y0:s,y1:o}=t,r=(e+i)/2,a=t.width/2,l=kk(t,this.options.rtl);this._highlight=new x.Path({stroke:this.options.focusHighlight.border,visible:!1}).moveTo(e,s+a).lineTo(e,s-a).curveTo([r+l,s-a],[r+l,o-a],[i,o-a]).lineTo(i,o+a).curveTo([r-l,o+a],[r-l,s+a],[e,s+a])}focus(t){if(this._highlight){let{highlight:e=!0}=t||{};e&&this._highlight.options.set("visible",!0);let i=`${this.options.link.sourceId}->${this.options.link.targetId}`;this.visual.options.set("id",i),this.options.root()&&this.options.root().setAttribute(ts,i)}}blur(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(ts))}},Lw=(n,t,e,i)=>{let s=f({},t,{link:n,opacity:n.opacity,color:n.color,colorType:n.colorType,visual:n.visual,highlight:n.highlight});return s.colorType==="source"?s.color=e.options.fill.color:s.colorType==="target"&&(s.color=i.options.fill.color),s};var Up="inside",Ir="before",jp="after",Dr=class extends mi{getElement(){let t=f({},this.options,this.options.node.label),{node:e,diagramMinX:i,diagramMaxX:s,text:o,offset:r,rtl:a}=t,l=t.position;if(a&&l!==Up&&(l=l===Ir?jp:Ir),!t.visible||!o)return null;let c=new S(e.x0,e.y0,e.x1,e.y1),h=this.visualOptions();a&&!h.align&&(h.align="right");let d=new It(o,h);d.reflow(new S);let p=d.box,u=c.center().y-p.height()/2,m=e.x1+p.width()>s,g=e.x0-p.width()<i,w=l===Ir||l===Up&&m?Ir:jp;a&&(w=l===jp||l===Up&&g?jp:Ir);let E=[w===Ir?e.x0-p.width():e.x1,u],I=new S(E[0],E[1],E[0]+p.width(),E[1]+p.height());return I.translate(r.left||0,r.top||0),d.reflow(I),d.renderVisual(),d.visual}visualOptions(){let t=f({},this.options,this.options.node.label);return{color:t.color,font:t.font,border:t.border,margin:t.margin,padding:t.padding,align:t.align,paintOrder:t.paintOrder,stroke:t.stroke}}};v(Dr,{position:Up});var dx=(n,t,e,i,s)=>f({},t,{node:n,diagramMinX:i,diagramMaxX:s,rtl:e,visual:n.label.visual,visible:n.label.visible,margin:n.label.margin,padding:n.label.padding,border:n.label.border,align:n.label.align,offset:n.label.offset});var Rr=class extends mi{getElement(){let t=this.options,{drawingRect:e,text:i}=t;if(t.visible===!1||!i)return null;let s=cs.buildTitle(i,t);return s.reflow(e),s.renderVisual(),s.visual}createElement(){return this.getElement()}};v(Rr,{align:B,border:{width:0},margin:Z(5),padding:Z(5)});var Ek=(n,t)=>n.node.x0-t.node.x0!==0?n.node.x0-t.node.x0:n.node.y0-t.node.y0,Ik=(n,t)=>n.node.x1-t.node.x1!==0?n.node.x1-t.node.x1:t.node.y0-n.node.y0,Dk=n=>n?Ik:Ek,vn=class extends mi{getElement(){let t=this.options,{drawingRect:e,rtl:i,nodes:s=[],item:o,position:r}=t;if(t.visible===!1||!s.length)return null;let a=s.map(h=>({text:h.label&&h.label.text||"",area:{background:o.areaBackground!==void 0?o.areaBackground:h.color,opacity:o.areaOpacity!==void 0?o.areaOpacity:h.opacity},node:h}));a.sort(Dk(i));let l=i&&r!==V&&r!==Q,c=new ol(Object.assign({},t,{data:a,reverse:l}),{rtl:i});return c.reflow(e),c.renderVisual(),c.visual}createElement(){return this.getElement()}};v(vn,{markers:{visible:!1},item:{type:je,cursor:sa,opacity:1},position:X,align:B,accessibility:{role:"presentation",ariaLabel:null,ariaRoleDescription:null},border:{width:0}});var Zl="link",Pr="node",Rk=n=>{let{nodes:t,links:e}=n,i=Math.min(...t.map(r=>r.x0)),o=Math.max(...t.map(r=>r.x1))-i;t.forEach(r=>{let a=o-(r.x1-2*i),l=o-(r.x0-2*i);r.x0=a,r.x1=l}),e.forEach(r=>{let a=o-(r.x1-2*i),l=o-(r.x0-2*i);r.x1=a,r.x0=l})},Lr=class extends Gt{constructor(t,e,i){super(),this._initTheme(i),this._setOptions(e),this._initElement(t),this._initSurface(),e&&e.data&&(this._redraw(),this._initResizeObserver(),this._initNavigation(t))}destroy(){this.unbind(),this._destroySurface(),this._destroyResizeObserver(),this.element&&(this.element.removeEventListener("keydown",this._keydownHandler),this.element.removeEventListener("focus",this._focusHandler),this.element.removeEventListener("mousedown",this._onDownHandler),this.element.removeEventListener("touchstart",this._onDownHandler),this.element.removeEventListener("pointerdown",this._onDownHandler)),this._focusState=null,this.element=null}_initElement(t){this.element=t,st(t,["k-chart","k-sankey"]),t.setAttribute("role","graphics-document");let{title:e}=this.options;e.text&&t.setAttribute("aria-label",e.text),e.description&&t.setAttribute("aria-roledescription",e.description)}_initSurface(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_initNavigation(t){t.tabIndex=t.getAttribute("tabindex")||0,!this.options.disableKeyboardNavigation&&(this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._onDownHandler=this._onDown.bind(this),t.addEventListener("keydown",this._keydownHandler),t.addEventListener("focus",this._focusHandler),t.addEventListener("blur",this._blurHandler),t.addEventListener("mousedown",this._onDownHandler),t.addEventListener("touchstart",this._onDownHandler),t.addEventListener("pointerdown",this._onDownHandler),this._focusState={node:this.firstFocusableNode(),link:null})}firstFocusableNode(){return this.columns[0][0]}_initResizeObserver(){let t=new ResizeObserver(e=>{e.forEach(i=>{let{width:s,height:o}=i.contentRect;i.target!==this.element||this.size&&this.size.width===s&&this.size.height===o||(this.size={width:s,height:o},this.surface.setSize(this.size),this.resize=!0,this._redraw())})});this._resizeObserver=t,t.observe(this.element)}_createSurface(){return x.Surface.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this),mousemove:this._mousemove.bind(this),click:this._click.bind(this)})}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=f({},e,this.options)}setLinksOpacity(t){this.linksVisuals.forEach(e=>{this.setOpacity(e,t,e.linkOptions.opacity)})}setLinksInactivityOpacity(t){this.linksVisuals.forEach(e=>{this.setOpacity(e,t,e.linkOptions.highlight.inactiveOpacity)})}setOpacity(t,e,i){t.options.set("stroke",Object.assign({},t.options.stroke,{opacity:b(i)?i:e}))}trigger(t,e){let i=e.element.dataItem,s=e.element.type,o=Object.assign({},e,{type:t,targetType:s,dataItem:i});return super.trigger(t,o)}_mouseenter(t){let e=t.element,i=e.type===Zl,s=e.type===Pr,o=!!(e.chartElement&&e.chartElement.options.node);if(i&&this.trigger("linkEnter",t)||s&&this.trigger("nodeEnter",t))return;let{highlight:r}=this.options.links;if(i)this.setLinksInactivityOpacity(r.inactiveOpacity),this.setOpacity(e,r.opacity,e.linkOptions.highlight.opacity);else if(s)this.highlightLinks(e,r);else if(o){let a=this.nodesVisuals.get(e.chartElement.options.node.id);this.highlightLinks(a,r)}}_mouseleave(t){let e=t.element,i=e.type===Zl,s=e.type===Pr,o=!!(e.chartElement&&e.chartElement.options.node),r=t.originalEvent.relatedTarget;i&&r&&r.nodeName==="text"||((i||s)&&(this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null),this.tooltipShown=!1,this.trigger("tooltipHide",t)),!(i&&this.trigger("linkLeave",t)||s&&this.trigger("nodeLeave",t))&&(i||s||o)&&this.linksVisuals.forEach(a=>{this.setOpacity(a,this.options.links.opacity,a.linkOptions.opacity)}))}_mousemove(t){let{followPointer:e,delay:i}=this.options.tooltip,s=t.element,o=s.type;if(o!==Zl&&o!==Pr||this.tooltipShown&&!e)return;let r=t.originalEvent,a=this.element.getBoundingClientRect(),l=r.clientX-a.left<a.width/2,c=r.clientY-a.top<a.height/2;if(t.tooltipData={popupOffset:{left:r.pageX,top:r.pageY},popupAlign:{horizontal:l?"left":"right",vertical:c?"top":"bottom"}},o===Pr){let{sourceLinks:d,targetLinks:p}=s.dataItem,u=p.length?p:d;t.nodeValue=u.reduce((m,g)=>m+g.value,0)}this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null);let h=e&&this.tooltipShown?0:i;this.tooltipTimeOut=setTimeout(()=>{this.trigger("tooltipShow",t),this.tooltipShown=!0,this.tooltipTimeOut=null},h)}_click(t){let e=t.element,i=e.dataItem,s=e.type===Zl,o=e.type===Pr,r=this._focusState||{};if(o)!r.link&&this.sameNode(r.node,i)||(this._focusState={node:i,link:null},this._focusNode({highlight:!1})),this.trigger("nodeClick",t);else if(s){let a={sourceId:i.source.id,targetId:i.target.id,value:i.value};this.sameLink(r.link,a)||(this._focusState={node:i.source,link:a},this._focusLink({highlight:!1})),this.trigger("linkClick",t)}}sameNode(t,e){return t&&e&&t.id===e.id}sameLink(t,e){return t&&e&&t.sourceId===e.sourceId&&t.targetId===e.targetId}_focusNode(t){this._cleanFocusHighlight();let e=this._focusState.node;this.models.map.get(e.id).focus(t)}_focusLink(t){this._cleanFocusHighlight();let e=this._focusState.link;this.models.map.get(`${e.sourceId}-${e.targetId}`).focus(t)}_focusNextNode(t=1){let e=this._focusState.node,i=this.columns.findIndex(a=>a.find(l=>l.id===e.id)),s=this.columns[i],o=s.findIndex(a=>a.id===e.id),r=s[o+t];r&&(this._focusState.node=r,this._focusNode())}_focusNextLink(t=1){let e=this._focusState.node,i=this._focusState.link,s=e.sourceLinks.findIndex(r=>r.sourceId===i.sourceId&&r.targetId===i.targetId),o=e.targetLinks.findIndex(r=>r.sourceId===i.sourceId&&r.targetId===i.targetId);if(s!==-1){let r=e.sourceLinks[s+t];r&&(this._focusState.link=r,this._focusLink())}else if(o!==-1){let r=e.targetLinks[o+t];r&&(this._focusState.link=r,this._focusLink())}}_focusSourceNode(){let t=this._focusState.link,e=this.models.map.get(t.sourceId);this._focusState={node:e.options.node,link:null},this._focusNode()}_focusTargetNode(){let t=this._focusState.link,e=this.models.map.get(t.targetId);this._focusState={node:e.options.node,link:null},this._focusNode()}_focusSourceLink(){let i=this._focusState.node.sourceLinks[0];i&&(this._focusState.link=i,this._focusLink())}_focusTargetLink(){let i=this._focusState.node.targetLinks[0];i&&(this._focusState.link=i,this._focusLink())}_focus(){this._skipFocusHighlight||(this._focusState.link?this._focusLink():this._focusNode()),this._skipFocusHighlight=!1}_blur(){this._cleanFocusHighlight()}_onDown(){this._hasFocus()||(this._skipFocusHighlight=!0)}_hasFocus(){return this.element.ownerDocument.activeElement===this.element}_cleanFocusHighlight(){this.models.nodes.forEach(t=>t.blur()),this.models.links.forEach(t=>t.blur())}_keydown(t){let e=this["on"+t.key],i=this.options.rtl;i&&t.key==="ArrowLeft"?e=this.onArrowRight:i&&t.key==="ArrowRight"&&(e=this.onArrowLeft),e&&e.call(this,t)}onEscape(t){t.preventDefault(),this._focusState={node:this.firstFocusableNode(),link:null},this._focusNode()}onArrowDown(t){t.preventDefault(),this._focusState.link?this._focusNextLink(1):this._focusNextNode(1)}onArrowUp(t){t.preventDefault(),this._focusState.link?this._focusNextLink(-1):this._focusNextNode(-1)}onArrowLeft(t){t.preventDefault(),this._focusState.link?this._focusSourceNode():this._focusTargetLink()}onArrowRight(t){t.preventDefault(),this._focusState.link?this._focusTargetNode():this._focusSourceLink()}highlightLinks(t,e){t&&(this.setLinksInactivityOpacity(e.inactiveOpacity),t.links.forEach(i=>{this.setOpacity(i,e.opacity,i.linkOptions.highlight.opacity)}))}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_destroyResizeObserver(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(t,e){this._setOptions(t),this._initTheme(e),this._initSurface(),this._redraw()}_redraw(){this.surface.clear();let{width:t,height:e}=this._getSize();this.size={width:t,height:e},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)}_getSize(){return this.element.getBoundingClientRect()}createVisual(){this.visual=this._render()}titleBox(t,e){return!t||t.visible===!1||!t.text?null:new Rr(Object.assign({},{drawingRect:e},t)).exportVisual().chartElement.box}legendBox(t,e,i){return!t||t.visible===!1?null:new vn(Object.assign({},{nodes:e},t,{drawingRect:i})).exportVisual().chartElement.box}calculateSankey(t,e){let{title:i,legend:s,data:o,nodes:r,labels:a,nodeColors:l,disableAutoLayout:c,disableKeyboardNavigation:h,rtl:d}=e,p=!c,u=((r.focusHighlight||{}).border||{}).width||0,m=h?0:u/2,g=new S(0,0,t.width,t.height);g.unpad(m);let w=this.titleBox(i,g),E=g.clone();if(w){let xt=w.height();i.position===U?(g.unpad({top:xt}),E=new S(0,xt,t.width,t.height)):(g.shrink(0,xt),E=new S(0,0,t.width,t.height-xt))}let I=this.legendBox(s,o.nodes,E),G=s&&s.position||vn.prototype.options.position;I&&(G===V&&g.unpad({left:I.width()}),G===Q&&g.shrink(I.width(),0),G===U&&g.unpad({top:I.height()}),G===X&&g.shrink(0,I.height()));let{nodes:$,circularLinks:et}=xn(Object.assign({},t,{offsetX:0,offsetY:0,width:g.width(),height:g.height()}));if(et)return console.warn("Circular links detected. Kendo Sankey diagram does not support circular links."),{sankey:{nodes:[],links:[],columns:[[]],circularLinks:et},legendBox:I,titleBox:w};let it=new S,ct=$.reduce((xt,me)=>Math.min(xt,me.x0),1/0),wt=$.reduce((xt,me)=>Math.max(xt,me.x1),0);$.forEach((xt,me)=>{if(d){let{x0:cC,x1:hC}=xt;xt.x0=wt-hC,xt.x1=wt-cC}let wu=hx(xt,r,l,me),pc=new Yl(wu);it.wrap(Ze(pc.exportVisual().rawBBox()));let Ev=new Dr(dx(xt,a,d,ct,wt)).exportVisual();Ev&&it.wrap(Ze(Ev.rawBBox()))});let zt=g.x1,St=g.y1,Ge=g.width()+zt,fe=g.height()+St;if(Ge-=it.x2>g.width()?it.x2-g.width():0,fe-=it.y2>g.height()?it.y2-g.height():0,zt+=it.x1<0?-it.x1:0,St+=it.y1<0?-it.y1:0,p===!1)return{sankey:xn(Object.assign({},t,{offsetX:zt,offsetY:St,width:Ge,height:fe,autoLayout:!1})),legendBox:I,titleBox:w};if(this.resize&&p&&this.permutation)return this.resize=!1,{sankey:xn(Object.assign({},t,{offsetX:zt,offsetY:St,width:Ge,height:fe},this.permutation)),legendBox:I,titleBox:w};let Wr=1,Xr=2,Ct=xn(Object.assign({},t,{offsetX:zt,offsetY:St,width:Ge,height:fe,autoLayout:!1})).columns.length,Rt=[],Kt=(xt,me)=>{let wu=xn(Object.assign({},t,{offsetX:zt,offsetY:St,width:Ge,height:fe,loops:Xr,targetColumnIndex:xt,reverse:me})),pc=Pw(wu.links);return Rt.push({crosses:pc,reverse:me,targetColumnIndex:xt}),pc===0};for(let xt=Wr;xt<=Ct-1&&!(Kt(xt,!1)||Kt(xt,!0));xt++);let le=Math.min.apply(null,Rt.map(xt=>xt.crosses)),ni=Rt.find(xt=>xt.crosses===le);return this.permutation={targetColumnIndex:ni.targetColumnIndex,reverse:ni.reverse},{sankey:xn(Object.assign({},t,{offsetX:zt,offsetY:St,width:Ge,height:fe},this.permutation)),legendBox:I,titleBox:w}}_render(t,e){let i=t||this.options,s=e||this,{labels:o,nodes:r,links:a,nodeColors:l,title:c,legend:h,rtl:d,disableKeyboardNavigation:p}=i,u=i.data,{width:m,height:g}=s.size,w=Object.assign({},u,{width:m,height:g,nodesOptions:r,title:c,legend:h}),{sankey:E,titleBox:I,legendBox:G}=this.calculateSankey(w,i);d&&Rk(E);let{nodes:$,links:et,columns:it}=E;s.columns=it.map(Ct=>{let Rt=Ct.slice();return Rt.sort((Kt,le)=>Kt.y0-le.y0),Rt});let ct=new x.Group({clip:x.Path.fromRect(new _.Rect([0,0],[m,g]))});if(I){let Rt=new Rr(Object.assign({},c,{drawingRect:I})).exportVisual();ct.append(Rt)}if(E.circularLinks)return ct;let wt=new Map;s.nodesVisuals=wt;let zt={nodes:[],links:[],map:new Map};s.models=zt;let St=[];$.forEach((Ct,Rt)=>{let Kt=hx(Ct,r,l,Rt);Kt.root=()=>s.element,Kt.navigatable=p!==!0;let le=new Yl(Kt),ni=le.exportVisual();ni.links=[],ni.type=Pr,Ct.color=Kt.color,Ct.opacity=Kt.opacity,ni.dataItem=Object.assign({},u.nodes[Rt],{color:Kt.color,opacity:Kt.opacity,sourceLinks:Ct.sourceLinks.map(Ne=>({sourceId:Ne.sourceId,targetId:Ne.targetId,value:Ne.value})),targetLinks:Ct.targetLinks.map(Ne=>({sourceId:Ne.sourceId,targetId:Ne.targetId,value:Ne.value}))}),wt.set(Ct.id,ni),zt.nodes.push(le),zt.map.set(Ct.id,le),ct.append(ni),le.createFocusHighlight(),le._highlight&&St.push(le._highlight)});let Ge=et.slice().sort((Ct,Rt)=>Rt.value-Ct.value),fe=[];s.linksVisuals=fe,Ge.forEach(Ct=>{let{source:Rt,target:Kt}=Ct,le=wt.get(Rt.id),ni=wt.get(Kt.id),Ne=Lw(Ct,a,le,ni);Ne.root=()=>s.element,Ne.navigatable=p!==!0,Ne.rtl=d;let xt=new Hp(Ne),me=xt.exportVisual();me.type=Zl,me.dataItem={source:Object.assign({},le.dataItem),target:Object.assign({},ni.dataItem),value:Ct.value},me.linkOptions=Ne,fe.push(me),le.links.push(me),ni.links.push(me),zt.links.push(xt),zt.map.set(`${Rt.id}-${Kt.id}`,xt),xt.createFocusHighlight(),xt._highlight&&St.push(xt._highlight),ct.append(me)});let Wr=$.reduce((Ct,Rt)=>Math.min(Ct,Rt.x0),1/0),Xr=$.reduce((Ct,Rt)=>Math.max(Ct,Rt.x1),0);if($.forEach(Ct=>{let Rt=dx(Ct,o,d,Wr,Xr),le=new Dr(Rt).exportVisual();le&&ct.append(le)}),G){let Rt=new vn(Object.assign({},h,{rtl:d,drawingRect:G,nodes:$})).exportVisual();ct.append(Rt)}if(St.length!==0){let Ct=new x.Group;Ct.append(...St),ct.append(Ct)}return ct}exportVisual(t){let e=t&&t.options?f({},this.options,t.options):this.options,i={size:{width:b(t&&t.width)?t.width:this.size.width,height:b(t&&t.height)?t.height:this.size.height}};return this._render(e,i)}_setOptions(t){this.options=f({},this.options,t)}},Mw={opacity:1,width:2,color:J};v(Lr,{title:{position:U},labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},paintOrder:"stroke",stroke:{lineJoin:"round",width:1},offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,align:"stretch",offset:{left:0,top:0},focusHighlight:{border:Object.assign({},Mw)},labels:{ariaTemplate:({node:n})=>n.label.text}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2},focusHighlight:{border:Object.assign({},Mw)},labels:{ariaTemplate:({link:n})=>`${n.source.label.text} to ${n.target.label.text}`}},tooltip:{followPointer:!1,delay:200}});var px=(n,t,e)=>{let i=new Set,s=new Map,o=new Map;n.forEach(c=>{t.forEach(h=>{i.add(h.value(c))});for(let h=0;h<t.length-1;h++){let d=t[h].value(c),p=t[h+1].value(c),u=`${d}_${p}`,m=e.value(c),g=s.get(u);g!==void 0?s.set(u,g+m):(s.set(u,m),o.set(u,{source:d,target:p}))}});let r=new Map,a=Array.from(i).map((c,h)=>(r.set(c,h),{id:h,label:{text:String(c)}})),l=Array.from(s).map(([c,h])=>{let{source:d,target:p}=o.get(c);return{sourceId:r.get(d),targetId:r.get(p),value:h}});return{nodes:a,links:l}};function Ow(n){let t=[];return n.forEach(e=>{let{dataItem:i,dataColumns:s}=e,o=[];s.forEach(r=>{o.push({field:r.title||r.field,value:xe(r.field)(i)})}),t.push(o)}),t}var tt=Object.freeze({seriesType:0,stacked:1,categoryAxisX:2,valueAxisY:3,seriesChange:4,areaMarginLeft:5,areaMarginRight:6,areaMarginTop:7,areaMarginBottom:8,areaBackground:9,titleText:10,titleFontName:11,titleFontSize:12,titleColor:13,subtitleText:14,subtitleFontName:15,subtitleFontSize:16,subtitleColor:17,seriesColor:18,seriesLabel:19,legendVisible:20,legendFontName:21,legendFontSize:22,legendColor:23,legendPosition:24,categoryAxisTitleText:25,categoryAxisTitleFontName:26,categoryAxisTitleFontSize:27,categoryAxisTitleColor:28,categoryAxisLabelsFontName:29,categoryAxisLabelsFontSize:30,categoryAxisLabelsColor:31,categoryAxisLabelsRotation:32,categoryAxisReverseOrder:33,valueAxisTitleText:34,valueAxisTitleFontName:35,valueAxisTitleFontSize:36,valueAxisTitleColor:37,valueAxisLabelsFormat:38,valueAxisLabelsFontName:39,valueAxisLabelsFontSize:40,valueAxisLabelsColor:41,valueAxisLabelsRotation:42}),Bw=[{text:"10",value:"10px"},{text:"12",value:"12px"},{text:"14",value:"14px"},{text:"16",value:"16px"},{text:"20",value:"20px"},{text:"28",value:"28px"},{text:"42",value:"42px"},{text:"56",value:"56px"}],Pk="20px",Lk="16px",ux="12px",Fw="16px",mx=[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}],yn=mx[0].value,Mk="column",Ok="bar",Vw="line",Nw="pie",zw="scatter",Fk=[Mk,Ok,Vw,zw],Nk={type:Vw,width:0};function Mr(n){return n&&Fk.includes(n)}var ql=["string","date","number"],Ql=["number"],Hw={bar:[{axisType:"category",types:ql},{axisType:"value",types:Ql}],column:[{axisType:"category",types:ql},{axisType:"value",types:Ql}],line:[{axisType:"category",types:ql},{axisType:"value",types:Ql}],pie:[{axisType:"category",types:ql},{axisType:"value",types:Ql,count:1}],scatter:[{axisType:"category",types:ql},{axisType:"value",types:Ql}]};function jw(n,t){return`${t||""} ${n||""}`.trim()}function Gp(n){let t=(n||"").indexOf(" "),e=n&&n.substring(0,t),i=n&&n.substring(t+1);return{size:e,name:i}}var bn=(n,t,e)=>{let{size:i}=Gp(e);return n?jw(n,i||t):""},wn=(n,t,e)=>{let{name:i}=Gp(e);return n?jw(i||t,n):""},$l=n=>n!=null,Uw=n=>{let t=structuredClone(n[0]);return t.forEach((e,i)=>{if(!$l(e.value))for(let s=0;s<n.length;s++){let o=n[s][i].value;if($l(o)){e.value=o;break}}}),t},Gw=(n,t)=>{let e=[],i=Uw(n);t.types.forEach(o=>{i.forEach((r,a)=>{typeof r.value===o&&e.push(a)})});let s=e.findIndex(o=>{let r=n.map(a=>a[o].value);return new Set(r).size===r.length});return Math.max(s,0)},Ww=(n,t)=>{let e=[],i=Uw(n);return t.forEach(s=>{s.types.forEach(o=>{i.forEach((r,a)=>{typeof r.value===o&&e.push(a)})})}),e},Xw=()=>structuredClone({columns:[],data:[],series:[],initialSeries:[],categoryAxis:[{categories:[],labels:{visible:!0,rotation:"auto"},title:{text:""}}],valueAxis:[{labels:{visible:!0,rotation:"auto"}}],area:{margin:{left:void 0,right:void 0,top:void 0,bottom:void 0}},title:{text:""},subtitle:{text:""},stack:!1}),Yw=(n,t,e)=>{let i=Xw();i.seriesType=t,i.data=n||[],i.legend={visible:!0,position:"bottom"};let s=Hw[t];if(!s||!n.length)return i;let o=n[0].slice();i.columns=n[0].map(p=>String(p.field));let r=s.find(p=>p.axisType==="category"),a=-1;r&&(a=e&&e.categoryAxis?i.columns.indexOf(e.categoryAxis):Gw(n,r));let l=s.filter(p=>p.axisType==="value"),c=Ww(n,l);c.includes(a)&&(c.length>1?c=c.filter(p=>p!==a):a=-1);let h=[];c.forEach(p=>{let u=o[p],m=[];n.forEach(g=>{m.push(g[p].value)}),h.push(Object.assign({},{name:u.field,type:t,data:m,stack:!1,labels:{visible:!1}},t===zw?Nk:{}))});let d=a>-1?n.map(p=>String($l(p[a].value)?p[a].value:" ")):[];return h.length&&(i.series=h.map((p,u)=>Object.assign({},p,{id:u})),i.initialSeries=structuredClone(i.series)),i.categoryAxis=[{categories:d,labels:{visible:!0,rotation:"auto"}}],i.categoryField=i.columns[a],i},fx=(n,t,e)=>{let i=Xw();i.seriesType=t,i.data=n||[];let s=Hw[t];if(!s||!n.length)return i;let o=n[0].map(p=>p.field),r=s.find(p=>p.axisType==="category"),a=-1;r&&(a=e&&e.categoryAxis?o.indexOf(e.categoryAxis):Gw(n,r));let l=s.filter(p=>p.axisType==="value"),c=[];e&&e.valueAxis?c=[o.indexOf(e.valueAxis)]:c=Ww(n,l),c.includes(a)&&c.length>1&&(c=c.filter(p=>p!==a)),typeof l[0].count=="number"&&(c=c.slice(0,l[0].count));let h=a>-1?n.map(p=>String(p[a].value)):[],d=[];return n.forEach(p=>{let u={};c.forEach(m=>{let g=p[m];u[g.field]=g.value||0,u[p[a].field]=p[a].value||" "}),d.push(u)}),i.columns=o,i.categoryAxis=[{categories:h,title:{text:""}}],i.series=[{id:0,data:d,type:t,name:o[a],labels:{visible:!0},categoryField:o[a],field:o[c[0]]}],i.categoryField=o[a],i.valueField=o[c[0]],i.initialSeries=structuredClone(i.series),i};function Zw(n,t,e){let i=Wp(n,e&&e.seriesType||t);return typeof(e&&e.stack)<"u"?gx(i,tt.stacked,e.stack):i}function Wp(n,t){return(Mr(t)?Yw:fx)(n,t)}function Kl(n,t){let e=structuredClone(t);if(e.legend=n.legend,e.area=n.area,e.title=n.title,e.subtitle=n.subtitle,e.series.length===n.series.length)for(let i=0;i<e.series.length;i++)e.series[i].color=n.series[i].color,e.series[i].labels=n.series[i].labels;return n.series.every(i=>i.labels&&i.labels.visible)&&Mr(e.seriesType)&&Mr(n.seriesType)&&e.series.forEach(i=>{i.labels=i.labels||{},i.labels.visible=!0}),e}function gx(n,t,e){let i=Object.assign({},n);switch(t){case tt.seriesType:return Wp(i.data,e);case tt.stacked:return i.series=i.series.map(s=>Object.assign({},s,{stack:e})),i.stack=e,i;case tt.categoryAxisX:{if(i.seriesType&&Mr(i.seriesType)){let s=Yw(i.data,i.seriesType,{categoryAxis:e});return Kl(i,s)}else if(i.seriesType===Nw){let s=fx(i.data,i.seriesType,{categoryAxis:e});return Kl(i,s)}return i}case tt.valueAxisY:{if(i.seriesType===Nw){let s=fx(i.data,i.seriesType,{categoryAxis:i.categoryField,valueAxis:e});return Kl(i,s)}return i}case tt.seriesChange:return i.series=e,i;case tt.areaMarginLeft:return i.area=Object.assign({},i.area,{margin:Object.assign({},i.area&&i.area.margin||{},{left:e})}),i;case tt.areaMarginRight:return i.area=Object.assign({},i.area,{margin:Object.assign({},i.area&&i.area.margin||{},{right:e})}),i;case tt.areaMarginTop:return i.area=Object.assign({},i.area,{margin:Object.assign({},i.area&&i.area.margin||{},{top:e})}),i;case tt.areaMarginBottom:return i.area=Object.assign({},i.area,{margin:Object.assign({},i.area&&i.area.margin||{},{bottom:e})}),i;case tt.areaBackground:return i.area=Object.assign({},i.area,{background:e}),i;case tt.titleText:return i.title=Object.assign({},i.title,{text:e}),i;case tt.titleFontName:return i.title=Object.assign({},i.title,{font:bn(e,Pk,i.title&&i.title.font)}),i;case tt.titleFontSize:return i.title=Object.assign({},i.title,{font:wn(e,yn,i.title&&i.title.font)}),i;case tt.titleColor:return i.title=Object.assign({},i.title,{color:e}),i;case tt.subtitleText:return i.subtitle=Object.assign({},i.subtitle,{text:e}),i;case tt.subtitleFontName:return i.subtitle=Object.assign({},i.subtitle,{font:bn(e,Lk,i.subtitle&&i.subtitle.font)}),i;case tt.subtitleFontSize:return i.subtitle=Object.assign({},i.subtitle,{font:wn(e,yn,i.subtitle&&i.subtitle.font)}),i;case tt.subtitleColor:return i.subtitle=Object.assign({},i.subtitle,{color:e}),i;case tt.seriesColor:return i.series=i.series.map(s=>Object.assign({},s,{color:e.seriesName===s.name?e.color:s.color})),i;case tt.seriesLabel:return i.series=i.series.map(s=>e.all||e.seriesName===s.name?Object.assign({},s,{labels:{visible:e.visible}}):s),i;case tt.legendVisible:return i.legend=Object.assign({},i.legend,{visible:e}),i;case tt.legendFontName:{let s=i.legend||{};return i.legend=Object.assign({},s,{labels:Object.assign({},s.labels,{font:bn(e,ux,s.labels&&s.labels.font)})}),i}case tt.legendFontSize:{let s=i.legend||{};return i.legend=Object.assign({},s,{labels:Object.assign({},s.labels,{font:wn(e,yn,s.labels&&s.labels.font)})}),i}case tt.legendColor:{let s=i.legend||{};return i.legend=Object.assign({},s,{labels:Object.assign({},s.labels,{color:e})}),i}case tt.legendPosition:return i.legend=Object.assign({},i.legend,{position:e}),i;case tt.categoryAxisTitleText:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{text:e})})),i;case tt.categoryAxisTitleFontName:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{font:bn(e,Fw,s.title&&s.title.font)})})),i;case tt.categoryAxisTitleFontSize:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{font:wn(e,yn,s.title&&s.title.font)})})),i;case tt.categoryAxisTitleColor:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{color:e})})),i;case tt.categoryAxisLabelsFontName:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{font:bn(e,ux,s.labels&&s.labels.font)})})),i;case tt.categoryAxisLabelsFontSize:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{font:wn(e,yn,s.labels&&s.labels.font)})})),i;case tt.categoryAxisLabelsColor:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{color:e})})),i;case tt.categoryAxisLabelsRotation:{let s=$l(e)?e:"auto";return i.categoryAxis=(i.categoryAxis||[]).map(o=>Object.assign({},o,{labels:Object.assign({},o.labels,{rotation:s})})),i}case tt.categoryAxisReverseOrder:return i.categoryAxis=(i.categoryAxis||[]).map(s=>Object.assign({},s,{reverse:e})),i;case tt.valueAxisTitleText:return!i.valueAxis||i.valueAxis.length===0?i.valueAxis=[{title:{text:e}}]:i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{text:e})})),i;case tt.valueAxisTitleFontName:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{font:bn(e,Fw,s.title&&s.title.font)})})),i;case tt.valueAxisTitleFontSize:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{font:wn(e,yn,s.title&&s.title.font)})})),i;case tt.valueAxisTitleColor:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{title:Object.assign({},s.title,{color:e})})),i;case tt.valueAxisLabelsFormat:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{format:e})})),i;case tt.valueAxisLabelsFontName:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{font:bn(e,ux,s.labels&&s.labels.font)})})),i;case tt.valueAxisLabelsFontSize:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{font:wn(e,yn,s.labels&&s.labels.font)})})),i;case tt.valueAxisLabelsColor:return i.valueAxis=(i.valueAxis||[]).map(s=>Object.assign({},s,{labels:Object.assign({},s.labels,{color:e})})),i;case tt.valueAxisLabelsRotation:{let s=$l(e)?e:"auto";return i.valueAxis=(i.valueAxis||[]).map(o=>Object.assign({},o,{labels:Object.assign({},o.labels,{rotation:s})})),i}default:return i}}var qw=Object.freeze({windowTitle:"Chart Preview",exportButton:"Export",exportPDFButton:"PDF File",exportSVGButton:"SVG File",exportPNGButton:"PNG File",tabChart:"Chart",tabData:"Data",tabFormat:"Format",barChart:"Bar Chart",barChartBar:"Bar",barChartStackedBar:"Stacked Bar",barChart100StackedBar:"100% Stacked Bar",pieChart:"Pie Chart",pieChartPie:"Pie",columnChart:"Column Chart",columnChartColumn:"Column",columnChartStackedColumn:"Stacked Column",columnChart100StackedColumn:"100% Stacked Column",lineChart:"Line Chart",lineChartLine:"Line",lineChartStackedLine:"Stacked Line",lineChart100StackedLine:"100% Stacked Line",scatterChart:"Scatter Chart",scatterChartScatter:"Scatter",configuration:"Configuration",configurationCategoryAxis:"Category Axis",configurationXAxis:"X Axis",configurationValueAxis:"Value Axis",configurationSeries:"Series",configurationSeriesAdd:"Add",formatChartArea:"Chart Area",formatChartAreaMargins:"Margins",formatChartAreaMarginsAuto:"Auto",formatChartAreaMarginsLeft:"Left",formatChartAreaMarginsRight:"Right",formatChartAreaMarginsTop:"Top",formatChartAreaMarginsBottom:"Bottom",formatChartAreaBackground:"Background",formatChartAreaBackgroundColor:"Color",formatTitle:"Title",formatTitleApplyTo:"Apply to",formatTitleChartTitle:"Chart Title",formatTitleChartSubtitle:"Chart Subtitle",formatTitleLabel:"Title",formatTitleFont:"Font",formatTitleFontPlaceholder:"(inherited font)",formatTitleSize:"Size",formatTitleSizePlaceholder:"px",formatTitleColor:"Color",formatSeries:"Series",formatSeriesApplyTo:"Apply to",formatSeriesAllSeries:"All Series",formatSeriesColor:"Color",formatSeriesShowLabels:"Show Labels",formatLegend:"Legend",formatLegendShowLegend:"Show Legend",formatLegendFont:"Font",formatLegendFontPlaceholder:"(inherited font)",formatLegendSize:"Size",formatLegendSizePlaceholder:"px",formatLegendColor:"Color",formatLegendPosition:"Position",formatLegendPositionTop:"Top",formatLegendPositionBottom:"Bottom",formatLegendPositionLeft:"Left",formatLegendPositionRight:"Right",formatCategoryAxis:"Category Axis",formatXAxis:"X Axis",formatCategoryAxisTitle:"Title",formatCategoryAxisTitlePlaceholder:"Axis Title",formatCategoryAxisTitleFont:"Font",formatCategoryAxisTitleFontPlaceholder:"(inherited font)",formatCategoryAxisTitleSize:"Size",formatCategoryAxisTitleSizePlaceholder:"px",formatCategoryAxisTitleColor:"Color",formatCategoryAxisLabels:"Labels",formatCategoryAxisLabelsFont:"Font",formatCategoryAxisLabelsFontPlaceholder:"(inherited font)",formatCategoryAxisLabelsSize:"Size",formatCategoryAxisLabelsSizePlaceholder:"px",formatCategoryAxisLabelsColor:"Color",formatCategoryAxisLabelsRotation:"Rotation",formatCategoryAxisLabelsRotationAuto:"Auto",formatCategoryAxisLabelsReverseOrder:"Reverse Order",formatValueAxis:"Value Axis",formatYAxis:"Y Axis",formatValueAxisTitle:"Title",formatValueAxisTitlePlaceholder:"Axis Title",formatValueAxisTitleFont:"Font",formatValueAxisTitleFontPlaceholder:"(inherited font)",formatValueAxisTitleSize:"Size",formatValueAxisTitleSizePlaceholder:"px",formatValueAxisTitleColor:"Color",formatValueAxisLabels:"Labels",formatValueAxisLabelsFormat:"Label Format",formatValueAxisLabelsFormatText:"Text",formatValueAxisLabelsFormatNumber:"Number",formatValueAxisLabelsFormatCurrency:"Currency",formatValueAxisLabelsFormatPercent:"Percent",formatValueAxisLabelsFont:"Font",formatValueAxisLabelsFontPlaceholder:"(inherited font)",formatValueAxisLabelsSize:"Size",formatValueAxisLabelsSizePlaceholder:"px",formatValueAxisLabelsColor:"Color",formatValueAxisLabelsRotation:"Rotation",formatValueAxisLabelsRotationAuto:"Auto"});var $et=Object.freeze({getWizardDataFromDataRows:Ow,ActionTypes:tt,createInitialState:Zw,createState:Wp,fontNames:mx,fontSizes:Bw,isCategorical:Mr,mergeStates:Kl,parseFont:Gp,updateState:gx,messages:qw});var Jl=1.5,Fr=.4,o_="#000",xx="Arial, Helvetica, sans-serif",Bk="11px "+xx,Xp="12px "+xx,n_="16px "+xx,r_="transparent",a_="#fff",Nr={type:qe},Yp={type:je},Te=Object.assign({},Yp,{markers:{visible:!1},highlight:{visible:!1}}),l_=()=>({icon:{border:{width:1}},label:{font:Xp,padding:3},line:{length:10,width:2},legendItem:Te,visible:!0}),Vk=()=>({labels:{font:Xp},notes:l_(),title:{font:n_,margin:5}}),Qw=()=>({highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Yp,opacity:.4}),Kw=()=>({highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Yp,opacity:.4}),zk=()=>({gap:Jl,spacing:Fr,legendItem:Te}),$w=()=>({outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:a_,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2},legendItem:Te}),Hk=()=>({border:{width:0},labels:{background:r_},legendItem:Te,opacity:.6}),Jw=()=>({gap:Jl,spacing:Fr,target:{color:"#ff0000"},legendItem:Te}),jk=()=>({border:{_brightness:.8,width:1},downColor:a_,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:o_,width:1},legendItem:Te,spacing:.3}),Uk=()=>({gap:Jl,spacing:Fr,legendItem:Te}),Gk=()=>({legendItem:Te}),Wk=()=>({legendItem:Nr}),Xk=()=>({legendItem:Nr}),Yk=()=>({margin:1,legendItem:Te}),t_=()=>({width:2,legendItem:Nr}),Zk=()=>({gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},legendItem:Te,spacing:.3}),e_=()=>({line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:Yp,opacity:.5}),i_=()=>({markers:{visible:!1},legendItem:Nr,width:2}),qk=()=>({gap:Jl,spacing:Fr,legendItem:Te}),Qk=()=>({gap:Jl,spacing:Fr,legendItem:Te}),Kk=()=>({width:1,legendItem:Nr}),s_=()=>({gap:.5,line:{color:o_,width:1},legendItem:Te,spacing:Fr}),$k=()=>({labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:Te}),c_=()=>({labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:Te}),Jk=c_,tE=()=>({labels:{color:"",background:r_,visible:!0},highlight:{border:{width:0}},legendItem:Te}),Or=n=>Object.assign({color:Sc,trendline:{},markers:{visible:!1},width:1,dashType:"longDash",legendItem:Nr},n),eE=n=>({visible:!0,labels:{font:Bk},overlay:n.gradients?{}:{gradient:"none"},area:Qw(),rangeArea:Kw(),verticalRangeArea:Kw(),bar:zk(),boxPlot:$w(),bubble:Hk(),bullet:Jw(),candlestick:jk(),column:Uk(),heatmap:tE(),pie:$k(),donut:Yk(),funnel:c_(),pyramid:Jk(),horizontalWaterfall:s_(),line:t_(),notes:l_(),ohlc:Zk(),radarArea:e_(),radarLine:i_(),radarColumn:Gk(),polarArea:e_(),polarLine:i_(),polarScatter:Wk(),rangeBar:qk(),rangeColumn:Qk(),scatter:Xk(),scatterLine:Kk(),verticalArea:Qw(),verticalBoxPlot:$w(),verticalBullet:Jw(),verticalLine:t_(),waterfall:s_(),linearTrendline:Or(),exponentialTrendline:Or({style:"smooth"}),logarithmicTrendline:Or({style:"smooth"}),polynomialTrendline:Or({style:"smooth"}),powerTrendline:Or({style:"smooth"}),movingAverageTrendline:Or()}),iE=()=>({font:n_}),sE=()=>({font:Xp}),oE=()=>({labels:{font:Xp}}),Zp=(n={})=>({axisDefaults:Vk(),categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:eE(n),title:iE(),subtitle:sE(),legend:oE()});var h_="--kendo-chart-series-",tc=n=>n.ownerDocument.defaultView.getComputedStyle(n),vx={},nE=(n,t)=>{if(vx[n])return vx[n];let e=t.style.color;t.style.color=n;let i=tc(t).color;return t.style.color=e,vx[n]=i,i},Fe=(n,t)=>{let e=tc(n).getPropertyValue(t);return/^color-mix/i.test(e)&&(e=nE(e,n)),e},yx=(n,t)=>parseFloat(tc(n).getPropertyValue(t)),qp=(n,t,e,i)=>{let s=tc(n);return[s.getPropertyValue(t),s.getPropertyValue(e),s.getPropertyValue(i)||s.fontFamily].join(" ")},p_=n=>{let t=tc(n),e=[],i=1,s=t.getPropertyValue(`${h_}${i}`);for(;s||i<=30;)e.push(s),i++,s=t.getPropertyValue(`${h_}${i}`);return e},Qp=n=>qp(n,"--kendo-font-weight","--kendo-chart-font-size","--kendo-font-family"),d_=n=>qp(n,"--kendo-chart-pane-title-font-weight","--kendo-chart-pane-title-font-size","--kendo-font-family"),bx=n=>Fe(n,"--kendo-chart-text"),u_=n=>({color:bx(n),font:qp(n,"--kendo-font-weight","--kendo-chart-title-font-size","--kendo-font-family")}),f_=n=>{let t=bx(n);return{labels:{color:t,font:Qp(n)},title:{color:t}}},rE=n=>{let t=Fe(n,"--kendo-chart-inactive");return Object.assign({},{inactiveItems:{labels:{color:t},markers:{color:t}}},f_(n))};var wx=n=>({labels:{color:bx(n),font:Qp(n),stroke:{color:Fe(n,"--kendo-chart-bg")}},links:{color:Fe(n,"--kendo-color-subtle")},nodeColors:p_(n),title:u_(n),legend:f_(n)}),aE=n=>({icon:{background:Fe(n,"--kendo-chart-notes-bg"),border:{color:Fe(n,"--kendo-chart-notes-border")}},line:{color:Fe(n,"--kendo-chart-notes-lines")},label:{font:Qp(n)}}),_x=n=>{let t=Fe(n,"--kendo-chart-major-lines"),e=Fe(n,"--kendo-chart-text"),i=qp(n,"--kendo-font-weight","--kendo-chart-label-font-size","--kendo-font-family"),s=Fe(n,"--kendo-chart-bg"),o=aE(n),r=yx(n,"--kendo-chart-area-opacity"),a=Fe(n,"--kendo-color-surface"),l=Fe(n,"--kendo-chart-primary-bg"),c=()=>({downColor:t,mean:{color:a},median:{color:a},whiskers:{color:l}}),h=()=>({line:{color:t}}),d=()=>({opacity:r,highlight:{inactiveOpacity:yx(n,"--kendo-chart-area-inactive-opacity")}}),p=()=>({highlight:{inactiveOpacity:yx(n,"--kendo-chart-line-inactive-opacity")}}),u=()=>({target:{color:e}});return{axisDefaults:{crosshair:{color:Fe(n,"--kendo-chart-crosshair-bg")},labels:{color:e,font:i},line:{color:t},majorGridLines:{color:t},minorGridLines:{color:Fe(n,"--kendo-chart-minor-lines")},notes:structuredClone(o),title:{color:e,font:Qp(n)}},chartArea:{background:s},legend:rE(n),seriesColors:p_(n),seriesDefaults:{area:d(),verticalArea:d(),radarArea:d(),boxPlot:c(),verticalBoxPlot:c(),bullet:u(),verticalBullet:u(),horizontalWaterfall:h(),waterfall:h(),line:p(),verticalLine:p(),candlestick:{downColor:e,line:{color:e}},errorBars:{color:Fe(n,"--kendo-chart-error-bars-bg")},icon:{border:{color:t}},labels:{background:s,color:e,font:i,opacity:r},notes:structuredClone(o)},subtitle:{color:e,font:d_(n)},title:u_(n),paneDefaults:{title:{font:d_(n)}}}};var ev=["content"];function cE(n,t){if(n&1&&(ut(0,"div",1),gi(1),_t()),n&2){let e=ie();j("ngStyle",e.style),W(),gc(" ",e.value," ")}}function hE(n,t){if(n&1&&Mt(0,"kendo-chart-crosshair-tooltip",1),n&2){let e=t.$implicit,i=ie();j("key",e)("popupSettings",i.popupSettings)}}function dE(n,t){}function pE(n,t){if(n&1&&Ht(0,dE,0,0,"ng-template",5),n&2){let e=ie(2);j("ngTemplateOutlet",e.seriesTooltipTemplateRef)("ngTemplateOutletContext",e.seriesTooltipContext)}}function uE(n,t){}function fE(n,t){if(n&1&&Ht(0,uE,0,0,"ng-template",5),n&2){let e=ie(2);j("ngTemplateOutlet",e.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",e.seriesSharedTooltipContext)}}function mE(n,t){if(n&1&&(ut(0,"div",3),Ht(1,pE,1,2,null,4)(2,fE,1,2,null,4),_t()),n&2){let e=ie();j("ngClass",e.popupClasses)("ngStyle",e.style),W(),j("ngIf",!e.shared),W(),j("ngIf",e.shared)}}function gE(n,t){if(n&1&&Mt(0,"span",6),n&2){let e=t.formattedValue;j("innerHTML",e,Bv)}}function xE(n,t){if(n&1&&(ut(0,"td"),Mt(1,"span",8),_t()),n&2){let e=ie().$implicit;W(),Rs("background-color",e.series.color)}}function vE(n,t){if(n&1&&(Tu(0),gi(1),ku()),n&2){let e=ie(2).$implicit;W(),To(e.series.name)}}function yE(n,t){n&1&&(Tu(0),gi(1,"\xA0"),ku())}function bE(n,t){if(n&1&&(ut(0,"td"),Ht(1,vE,2,1,"ng-container",4)(2,yE,2,0,"ng-container",4),_t()),n&2){let e=ie().$implicit;W(),j("ngIf",e.series.name!==void 0),W(),j("ngIf",e.series.name===void 0)}}function wE(n,t){}function _E(n,t){if(n&1&&(ut(0,"tr"),Ht(1,xE,2,2,"td",4)(2,bE,3,2,"td",4),ut(3,"td"),Ht(4,wE,0,0,"ng-template",5),_t()()),n&2){let e=t.$implicit,i=ie(),s=i.colorMarker,o=i.nameColumn;W(),j("ngIf",s),W(),j("ngIf",o),W(2),j("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e)}}function CE(n,t){if(n&1&&(ut(0,"table")(1,"tr")(2,"th"),gi(3),_t()(),Ht(4,_E,5,4,"tr",7),_t()),n&2){let e=t.points,i=t.categoryText,s=t.colspan;W(2),Vv("colspan",s),W(),gc(" ",i," "),W(),j("ngForOf",e)}}var SE=["surface"];function AE(n,t){}function TE(n,t){if(n&1&&Ht(0,AE,0,0,"ng-template",13),n&2){let e=ie(2);j("ngTemplateOutlet",e.noDataTemplate.templateRef)}}function kE(n,t){if(n&1&&gi(0),n&2){let e=ie(2);gc(" ",e.messageFor("noData")," ")}}function EE(n,t){if(n&1&&(ut(0,"div",10)(1,"div",11),Ht(2,TE,1,1,null,12)(3,kE,1,1,"ng-template",null,1,qr),_t()()),n&2){let e=zv(4),i=ie();Rs("display","none"),W(2),j("ngIf",i.noDataTemplate)("ngIfElse",e)}}function IE(n,t){}function DE(n,t){if(n&1&&(ut(0,"div",14),Ht(1,IE,0,0,"ng-template",13),_t()),n&2){let e=ie();j("ngStyle",e.donutCenterStyle),W(),j("ngTemplateOutlet",e.donutCenterTemplate.templateRef)}}function RE(n,t){n&1&&Mt(0,"div",15)}function PE(n,t){n&1&&Mt(0,"div",6)}function LE(n,t){n&1&&Mt(0,"div",6)}var ME=["breadcrumb"];function OE(n,t){}function FE(n,t){if(n&1&&Ht(0,OE,0,0,"ng-template",6),n&2){let e=ie(2);j("ngTemplateOutlet",e.nodeTooltipTemplateRef)("ngTemplateOutletContext",e.nodeTooltipContext)}}function NE(n,t){}function BE(n,t){if(n&1&&Ht(0,NE,0,0,"ng-template",6),n&2){let e=ie(2);j("ngTemplateOutlet",e.linkTooltipTemplateRef)("ngTemplateOutletContext",e.linkTooltipContext)}}function VE(n,t){if(n&1&&(ut(0,"div",3)(1,"div",4),Ht(2,FE,1,2,null,5)(3,BE,1,2,null,5),_t()()),n&2){let e=ie();j("ngStyle",e.style),W(2),j("ngIf",e.isNode),W(),j("ngIf",e.isLink)}}function zE(n,t){if(n&1&&(ut(0,"div",7),Mt(1,"div",8),ut(2,"span",7),gi(3),_t(),ut(4,"span",7),gi(5),_t()()),n&2){let e=t.color,i=t.label,s=t.value,o=ie();j("ngStyle",o.tooltipStyle),W(),j("color",e),W(),j("ngStyle",o.textStyle),W(),To(i.text),W(),j("ngStyle",o.textStyle),W(),To(o.formatUnits(s))}}function HE(n,t){if(n&1&&(ut(0,"div",7),Mt(1,"div",8),ut(2,"span",7),gi(3),_t(),Mt(4,"kendo-icon-wrapper",9)(5,"div",8),ut(6,"span",7),gi(7),_t(),ut(8,"span",7),gi(9),_t()()),n&2){let e=t.source,i=t.target,s=t.value,o=ie();j("ngStyle",o.tooltipStyle),W(),j("color",e.color),W(),j("ngStyle",o.textStyle),W(),To(e.label==null?null:e.label.text),W(),j("name",o.arrowIcon.name)("svgIcon",o.arrowIcon),W(),j("color",i.color),W(),j("ngStyle",o.textStyle),W(),To(i.label==null?null:i.label.text),W(),j("ngStyle",o.textStyle),W(),To(o.formatUnits(s))}}var jE=["instance"];function UE(n,t){n&1&&Mt(0,"div",4)}var GE=_i.prototype.options.labels.dateFormats,WE=Aa.prototype.options.labels.dateFormats,y_={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(GE,y_);Object.assign(WE,y_);var b_=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoChartDonutCenterTemplate",""]],standalone:!0})}return n})(),w_=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoChartNoDataTemplate",""]],standalone:!0})}return n})(),Cx=class{sender;options;constructor(t,e){this.sender=t,this.options=e}},Zt=(()=>{class n{onItemChange$;source;constructor(){this.source=new Rv,this.onItemChange$=this.source.asObservable()}notify(e){this.source.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})(),iv=1e3/60,sc=class{key;value;constructor(t,e){this.key=t,this.value=e}},C=(()=>{class n{ngZone;onChange$;onFastChange$;store={};source=new Pv({});constructor(e){this.ngZone=e,this.initSource()}initSource(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(uc(iv))}push(e){this.store=e,this.next()}notify(e){this.set(e.key,e.value),this.next()}set(e,i){let s=this.store,o=e.split("."),r=o.shift();for(;o.length>0;)s=s[r]=s[r]||{},r=o.shift();s[r]=i}next(){this.ngZone.runOutsideAngular(()=>{this.source.next(this.store)})}static \u0275fac=function(i){return new(i||n)(Zr($i))};static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})();function hu(n,t){for(let e in n){if(!Object.hasOwnProperty.call(n,e))continue;let i=n[e].currentValue;i===void 0?delete t[e]:t[e]=i}}function du(n){let t={};for(let e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=new Nv(null,n[e],!1));return t}var zr=(()=>{class n{configurationService;collectionService;subscription;options={};hidden=!1;constructor(e,i){this.configurationService=e,this.collectionService=i,this.subscription=e.onFastChange$.subscribe(s=>{this.options=s,this.notify()})}ngOnChanges(e){let i=this.configurationService.store;hu(e,i),this.configurationService.push(i)}notifyChanges(e){this.ngOnChanges(du(e))}ngOnDestroy(){this.subscription.unsubscribe()}notify(){this.collectionService&&this.collectionService.notify(new Cx(this,this.options))}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275dir=$t({type:n,features:[_o]})}return n})(),O=(()=>{class n{configKey;configurationService;store={};constructor(e,i){if(this.configKey=e,this.configurationService=i,e===void 0)throw new Error("Configuration key not set")}ngOnDestroy(){this.store=void 0,this.notify()}ngOnChanges(e){hu(e,this.store),this.notify()}notifyChanges(e){this.ngOnChanges(du(e))}markAsVisible(){this.store.visible=!0,this.notify()}notify(){this.configurationService.notify(new sc(this.configKey,this.store))}static \u0275fac=function(i){fc()};static \u0275dir=$t({type:n,features:[_o]})}return n})(),pu=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;seriesTooltipTemplate;constructor(e){super("tooltip",e),this.configurationService=e,this.markAsVisible()}get seriesTooltipTemplateRef(){return this.seriesTooltipTemplate}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(i,s,o){if(i&1&&se(o,Pi,5),i&2){let r;vt(r=yt())&&(s.seriesTooltipTemplate=r.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),sv=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoChartDrilldownSeries",""]],standalone:!0})}return n})(),m_=n=>n===void 0?!1:!n,_n=(()=>{class n extends zr{configurationService;collectionService;aggregate;autoFit;axis;border;categoryAxis;categoryField;closeField;color;colorField;connectors;currentField;dashType;data;downColor;downColorField;drilldownField;dynamicHeight;dynamicSlope;errorHighField;errorLowField;explodeField;field;fromField;gap;highField;holeSize;line;lowField;lowerField;margin;maxSize;mean;meanField;median;medianField;minSize;missingValues;name;neckRatio;negativeColor;negativeValues;noteTextField;opacity;openField;outliersField;overlay;padding;q1Field;q3Field;segmentSpacing;size;sizeField;spacing;stack;startAngle;style;summaryField;target;toField;type;upperField;visible;visibleInLegend;visibleInLegendField;visual;width;whiskers;xAxis;xErrorHighField;xErrorLowField;xField;yAxis;yErrorHighField;yErrorLowField;yField;zIndex;trendline;for;legendItem;pattern;patternField;errorBars;extremes;highlight;labels;markers;notes;outliers;tooltip;seriesTooltip;drilldownTemplate;constructor(e,i){super(e,i),this.configurationService=e,this.collectionService=i}toggleVisibility(){this.options.visible=m_(this.options.visible),this.notify()}togglePointVisibility(e){let i=this.options.pointVisibility=this.options.pointVisibility||{};i[e]=m_(i[e]),this.notify()}get seriesTooltipTemplateRef(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item"]],contentQueries:function(i,s,o){if(i&1&&(se(o,pu,5),se(o,sv,5)),i&2){let r;vt(r=yt())&&(s.seriesTooltip=r.first),vt(r=yt())&&(s.drilldownTemplate=r.first)}},inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",drilldownField:"drilldownField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",mean:"mean",meanField:"meanField",median:"median",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",trendline:"trendline",for:"for",legendItem:"legendItem",pattern:"pattern",patternField:"patternField",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),XE="absolute",YE={horizontal:"fit",vertical:"fit"},ov=(()=>{class n{popupService;localizationService;animate;style={};templateRef;popupRef=null;popupSettings;constructor(e,i){this.popupService=e,this.localizationService=i}get active(){return this.popupRef!==null}show(e){let i=e.anchor.align,s=this.position(e.anchor.point);if(this.style=e.style,!this.popupRef)this.popupRef=this.popupService.open(Object.assign({offset:s,popupAlign:i,animate:this.animate,content:this.templateRef,collision:YE,positionMode:XE},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit();else{let o=this.popupRef.popup.instance;o.offset=s,o.popupAlign=i}}onInit(){}hide(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.hide()}position(e){if(!this.popupSettings||!this.popupSettings.appendTo)return e;let i=this.popupSettings.appendTo.element.nativeElement,s=i.getBoundingClientRect(),{scrollLeft:o,scrollTop:r}=this.scrollOffset(i);return{left:e.left-s.left-o,top:e.top-s.top-r}}scrollOffset(e){if(!e)return null;let i=e.scrollLeft,s=e.scrollTop,o=e.parentElement;for(;o;)i+=o.scrollLeft,s+=o.scrollTop,o=o.parentElement;return{scrollLeft:i,scrollTop:s}}static \u0275fac=function(i){return new(i||n)(y(Li),y(ne))};static \u0275dir=$t({type:n,inputs:{popupSettings:"popupSettings"}})}return n})();function nv(){if($r())return new Ds(document.body)}var $p=(()=>{class n extends ov{templateRef;key;value;animate=!1;constructor(e,i){super(e,i)}show(e){super.show(e),this.value=e.value,this.popupRef.popup.changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||n)(y(Li),y(ne))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(i,s){if(i&1&&ke(ev,7),i&2){let o;vt(o=yt())&&(s.templateRef=o.first)}},inputs:{key:"key"},standalone:!0,features:[At([Li,{provide:wc,useFactory:nv}]),k,T],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(i,s){i&1&&Ht(0,cE,2,2,"ng-template",null,0,qr)},dependencies:[Kr],encapsulation:2})}return n})(),g_=["categoryAxis","valueAxis","xAxis","yAxis"],Br=(()=>{class n{popupSettings;crossahairTooltipComponents;tooltipKeys=[];tooltipsMap={};show(e){let i=this.crossahairTooltipComponents.toArray(),s=e.axisName,o=e.axisIndex;for(let r=0;r<i.length;r++)if(i[r].key===s+o){i[r].show(e);break}}hide(){let e=this.crossahairTooltipComponents.toArray();for(let i=0;i<e.length;i++)e[i].hide()}get active(){return this.tooltipKeys.length>0}createCrosshairTooltips(e){let i=this.mapTooltips(e),s=this.tooltipsMap;for(let o in s)i[o]||(this.removeTooltip(o),delete s[o]);for(let o in i)!s[o]&&o!=="constructor"&&o!=="__proto__"&&o!=="prototype"&&(s[o]=i[o],this.tooltipKeys.push(o))}removeTooltip(e){let i=this.tooltipKeys;for(let s=0;s<i.length;s++)if(i[s]===e){i.splice(s,1);break}}mapTooltips(e){let i={};for(let s=0;s<g_.length;s++){let o=this.axesCrosshairTooltipOptions(e,g_[s]);for(let r=0;r<o.length;r++){let a=o[r];i[a.name+a.index]=a}}return i}axesCrosshairTooltipOptions(e,i){let s=[];if(e[i]){let o=[].concat(e[i]);for(let r=0;r<o.length;r++){let a=(o[r].crosshair||{}).tooltip;a&&a.visible&&s.push({index:r,name:i})}}return s}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=A({type:n,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(i,s){if(i&1&&ke($p,5),i&2){let o;vt(o=yt())&&(s.crossahairTooltipComponents=o)}},inputs:{popupSettings:"popupSettings"},standalone:!0,features:[T],decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(i,s){i&1&&Ht(0,hE,1,2,"kendo-chart-crosshair-tooltip",0),i&2&&j("ngForOf",s.tooltipKeys)},dependencies:[Du,$p],encapsulation:2})}return n})(),oc=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoChartSeriesTooltipTemplate",""]],standalone:!0})}return n})(),nc=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoChartSharedTooltipTemplate",""]],standalone:!0})}return n})(),Jp=class{value;category;categoryIndex;series;dataItem;percentage;runningTotal;total;low;high;xLow;xHigh;yLow;yHigh;template;point;format;constructor(t,e,i){this.value=t.value,this.category=t.category,this.categoryIndex=t.categoryIx,this.series=t.series,this.dataItem=t.dataItem,this.percentage=t.percentage,this.runningTotal=t.runningTotal,this.total=t.total,this.low=t.low,this.high=t.high,this.xLow=t.xLow,this.xHigh=t.xHigh,this.yLow=t.yLow,this.yHigh=t.yHigh,this.template=i,this.point=t,this.format=e}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}};function Sx(n,t){let e=n;for(;e&&e!==t;)e=e.parentNode;return!!e}var Cn=(()=>{class n{seriesTemplates;template;sharedTemplate;setTemplate(e){this.template=e}getTemplate(e){return this.seriesTemplates&&this.seriesTemplates[e]?this.seriesTemplates[e]:this.template}setSeriesTemplates(e){this.seriesTemplates=e}setSharedTemplate(e){this.sharedTemplate=e}getSharedTemplate(){return this.sharedTemplate}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})(),ZE="k-chart-shared-tooltip",qE="k-chart-tooltip",Vr=(()=>{class n extends ov{popupService;templateService;localizationService;ngZone;seriesTooltipTemplateRef;seriesSharedTooltipTemplateRef;seriesTooltipContext={};seriesSharedTooltipContext={};shared;defaultSeriesTooltipTemplate;defaultSharedTooltipTemplate;templateRef;animate=!0;classNames;wrapperClass="k-chart-tooltip-wrapper";leave=new nt;popupClasses={};mouseleaveSubscription;constructor(e,i,s,o){super(e,s),this.popupService=e,this.templateService=i,this.localizationService=s,this.ngZone=o}show(e){this.shared=e.shared,this.popupClasses=Object.assign({[ZE]:e.shared,[qE]:!0,[e.className]:!!e.className},this.classNames),e.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(e)):(this.seriesTooltipContext=new Jp(e.point,e.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(e.point)),super.show(e)}containsElement(e){if(this.popupRef)return Sx(e,this.popupRef.popupElement)}sharedTemplateContext(e){let s=e.points.filter(a=>typeof a.series.name<"u").length>0,o=e.series.length>1,r=1;return s&&r++,o&&r++,{category:e.category,categoryText:e.categoryText,colorMarker:o,colspan:r,nameColumn:s,points:this.wrapPoints(e.points,e.format)}}pointTemplateRef(e){return this.templateService.getTemplate(e.series.index)||this.defaultSeriesTooltipTemplate.templateRef}wrapPoints(e,i){let s=[];for(let o=0;o<e.length;o++){let r=e[o],a=this.pointTemplateRef(r),l=((r.options||{}).tooltip||{}).format||i;s.push(new Jp(r,l,a))}return s}onInit(){this.ngZone.runOutsideAngular(()=>{this.mouseleaveSubscription=this.popupRef.popupElement.addEventListener("mouseleave",e=>{this.leave.emit(e)})}),this.popupRef.popupElement.className+=` ${this.wrapperClass}`}hide(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),super.hide()}static \u0275fac=function(i){return new(i||n)(y(Li),y(Cn),y(ne),y($i))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(i,s){if(i&1&&(ke(oc,5),ke(nc,5),ke(ev,7)),i&2){let o;vt(o=yt())&&(s.defaultSeriesTooltipTemplate=o.first),vt(o=yt())&&(s.defaultSharedTooltipTemplate=o.first),vt(o=yt())&&(s.templateRef=o.first)}},inputs:{animate:"animate",classNames:"classNames",wrapperClass:"wrapperClass"},outputs:{leave:"leave"},standalone:!0,features:[At([Li,{provide:wc,useFactory:nv}]),k,T],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(i,s){i&1&&Ht(0,mE,3,4,"ng-template",null,0,qr)(2,gE,1,1,"ng-template",1)(3,CE,5,3,"ng-template",2)},dependencies:[Hv,Kr,ko,vc,oc,nc,Du],encapsulation:2})}return n})(),Ax=class extends Rn{handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"};constructor(t){super(t)}},QE=()=>Object.assign({},Zp(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}),hc=(()=>{class n extends C{loaded=!1;element;loadTheme(){this.loaded||!$r()||(this.createElement(),this.readTheme(),this.destroyElement(),this.loaded=!0,this.next())}reset(){this.store={},this.loaded=!1,this.loadTheme()}readTheme(){let e={};try{e=_x(this.element)}catch{e={}}let s=!!(e.chartArea&&e.chartArea.background)?f(Zp(),e):QE();this.push(s)}createElement(){let e=this.element=document.createElement("div");e.className="k-chart",e.style.display="none",document.body.appendChild(e)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275prov=Ki({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oi=(()=>{class n{sender;constructor(e){this.sender=e}static \u0275fac=function(i){fc()};static \u0275dir=$t({type:n})}return n})(),Tx=class extends oi{axis;dataItem;index;text;value;constructor(t,e){super(e),this.axis=t.axis,this.dataItem=t.dataItem,this.index=t.index,this.text=t.text,this.value=t.value}},Is=(()=>{class n extends oi{prevented=!1;preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275dir=$t({type:n,features:[k]})}return n})(),kx=class extends Is{axisRanges;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.originalEvent=t.originalEvent}},Ex=class extends oi{axisRanges;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.originalEvent=t.originalEvent}},Ix=class extends Is{axisRanges;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.originalEvent=t.originalEvent}},rc=class extends Is{series;seriesIndex;pointIndex;text;constructor(t,e){super(e),this.series=t.series,this.seriesIndex=t.seriesIndex,this.pointIndex=t.pointIndex,this.text=t.text}},Dx=class extends rc{preventDefault(){super.preventDefault()}},Rx=class extends rc{preventDefault(){}isDefaultPrevented(){return!1}},ac=class extends oi{category;dataItem;series;value;visual;constructor(t,e){super(e),this.category=t.category,this.dataItem=t.dataItem,this.series=t.series,this.value=t.value,this.visual=t.visual}},Px=class extends ac{},Lx=class extends ac{},Mx=class extends ac{},Ox=class extends oi{pane;index;name;constructor(t,e){super(e),Object.assign(this,t)}},Fx=class extends oi{category;originalEvent;value;x;y;constructor(t,e){super(e),this.category=t.category,this.originalEvent=t.originalEvent,this.value=t.value,this.x=t.x,this.y=t.y}},Nx=class extends oi{category;originalEvent;value;x;y;constructor(t,e){super(e),this.category=t.category,this.originalEvent=t.originalEvent,this.value=t.value,this.x=t.x,this.y=t.y}},Bx=class extends oi{},tu=class extends oi{constructor(t,e){super(e)}},Vx=class extends Is{axis;from;to;constructor(t,e){super(e),this.axis=t.axis,this.from=t.from,this.to=t.to}},zx=class extends oi{axis;from;to;constructor(t,e){super(e),this.axis=t.axis,this.from=t.from,this.to=t.to}},Hx=class extends Is{axis;from;to;constructor(t,e){super(e),this.axis=t.axis,this.from=t.from,this.to=t.to}},jx=class extends oi{category;dataItem;originalEvent;percentage;point;series;stackValue;value;constructor(t,e){super(e),this.category=t.category,this.dataItem=t.dataItem,this.originalEvent=t.originalEvent,this.percentage=t.percentage,this.point=t.point,this.series=t.series,this.stackValue=t.stackValue,this.value=t.value}},lc=class extends Is{category;dataItem;originalEvent;percentage;point;series;stackValue;value;constructor(t,e){super(e),this.category=t.category,this.dataItem=t.dataItem,this.originalEvent=t.originalEvent,this.percentage=t.percentage,this.point=t.point,this.series=t.series,this.stackValue=t.stackValue,this.value=t.value}},Ux=class extends lc{},Gx=class extends lc{},Wx=class extends lc{},Xx=class extends Is{axisRanges;delta;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.delta=t.delta,this.originalEvent=t.originalEvent}},Yx=class extends oi{axisRanges;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.originalEvent=t.originalEvent}},Zx=class extends Is{axisRanges;originalEvent;constructor(t,e){super(e),this.axisRanges=t.axisRanges,this.originalEvent=t.originalEvent}},x_={axisLabelClick:Tx,drag:kx,dragEnd:Ex,dragStart:Ix,legendItemHover:Dx,legendItemLeave:Rx,noteClick:Px,noteHover:Lx,noteLeave:Mx,paneRender:Ox,plotAreaClick:Fx,plotAreaHover:Nx,plotAreaLeave:Bx,render:tu,select:Vx,selectEnd:zx,selectStart:Hx,seriesClick:jx,seriesHover:Ux,seriesOver:Gx,seriesLeave:Wx,zoom:Xx,zoomEnd:Yx,zoomStart:Zx},cc=class{create(t,e,i){if(x_[t])return new x_[t](e,i)}},qx=class extends rc{preventDefault(){super.preventDefault()}},uu={name:"@progress/kendo-angular-charts",productName:"Kendo UI for Angular",productCode:"KENDOUIANGULAR",productCodes:["KENDOUIANGULAR"],publishDate:1739287295,version:"18.1.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},Hr=(()=>{class n{configKey;configurationService;collectionService;children;subscription;items=[];constructor(e,i,s){this.configKey=e,this.configurationService=i,this.collectionService=s,this.subscription=s.onItemChange$.subscribe(o=>this.processChanges(o))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterContentInit(){this.readItems(),this.children.changes.subscribe(()=>this.readItems())}processChanges(e){if(!this.children)return;let i=this.children.toArray().filter(s=>!s.hidden).indexOf(e.sender);i<0||(this.items[i]=e.options,this.change())}readItems(){this.items=this.children.filter(e=>!e.hidden).map(e=>e.options),this.change()}change(){this.configurationService.notify(new sc(this.configKey,this.items.length===0?void 0:this.items))}static \u0275fac=function(i){fc()};static \u0275dir=$t({type:n})}return n})(),jr=(()=>{class n extends Hr{configurationService;collectionService;tooltipTemplateService;viewContainer;children;constructor(e,i,s,o){super("series",e,i),this.configurationService=e,this.collectionService=i,this.tooltipTemplateService=s,this.viewContainer=o}ngAfterContentChecked(){this.readTooltipTemplates()}readTooltipTemplates(){let e=this.children.map(i=>i.seriesTooltipTemplateRef);this.tooltipTemplateService.setSeriesTemplates(e)}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt),y(Cn),y(Au))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series"]],contentQueries:function(i,s,o){if(i&1&&se(o,_n,5),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Qx=class extends Is{value;point;series;constructor(t,e){super(e),this.value=t.value,this.point=t.point,this.series=t.series}};function Kp(n){return n.observers.length>0}var eu=(()=>{class n extends Pu{noData;static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275dir=$t({type:n,selectors:[["","kendoChartMessages",""]],inputs:{noData:"noData"},features:[k]})}return n})(),__=(()=>{class n extends eu{service;constructor(e){super(),this.service=e}static \u0275fac=function(i){return new(i||n)(y(ne))};static \u0275dir=$t({type:n,selectors:[["","kendoChartLocalizedMessages",""]],standalone:!0,features:[At([{provide:eu,useExisting:Yr(()=>n)}]),k]})}return n})(),Ur=(()=>{class n{configurationService;themeService;element;intl;localizationService;ngZone;instanceEventService;changeDetector;renderer;pannable;renderAs;seriesColors;subtitle;title;noData=!0;transitions;zoomable;axisDefaults;categoryAxis;chartArea;legend;panes;paneDefaults;plotArea;series;seriesDefaults;tooltip;valueAxis;xAxis;yAxis;axisLabelClick=new nt;drag=new nt;dragEnd=new nt;dragStart=new nt;legendItemHover=new nt;legendItemLeave=new nt;noteClick=new nt;noteHover=new nt;noteLeave=new nt;paneRender=new nt;plotAreaClick=new nt;plotAreaHover=new nt;plotAreaLeave=new nt;render=new nt;select=new nt;selectEnd=new nt;selectStart=new nt;seriesClick=new nt;drilldown=new nt;seriesHover=new nt;seriesOver=new nt;seriesLeave=new nt;zoom=new nt;zoomEnd=new nt;zoomStart=new nt;legendItemClick=new nt;drilldownLevelChange=new nt;resizeRateLimit=10;popupSettings;get drilldownLevel(){return this.drilldownState.length}set drilldownLevel(e){let i=this.drilldownState.length;if(i<=e||!this.seriesComponents)return;let s=this.drilldownState.slice(e);s.forEach(o=>o.destroy()),this.drilldownState=this.drilldownState.slice(0,i-s.length),this.seriesComponents.toArray().slice(-s.length-1).forEach(o=>o.hidden=!1),this.drilldownLevelChange.emit(e)}surface;seriesCollectionComponent;seriesComponents;donutCenterTemplate;noDataTemplate;tooltipInstance;crossahirTooltips;surfaceElement;donutCenterStyle;messageFor(e){return this.localizationService.get(e)}showLicenseWatermark=!1;instance;options;theme=null;optionsChange;suppressTransitions=!1;resizeTimeout;redrawTimeout;domSubscriptions;destroyed;subscriptions;rtl=!1;hostClasses=["k-chart","k-widget"];drilldownState=[];constructor(e,i,s,o,r,a,l,c,h){this.configurationService=e,this.themeService=i,this.element=s,this.intl=o,this.localizationService=r,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=h;let d=ea(uu);this.showLicenseWatermark=ta(d),this.themeService.loadTheme(),this.refreshWait()}ngOnInit(){this.element&&(this.hostClasses.forEach(e=>{this.renderer.addClass(this.element.nativeElement,e)}),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}ngAfterViewInit(){this.canRender&&this.ngZone.runOutsideAngular(()=>{let e=this.renderer.listen(this.surfaceElement.nativeElement,"mouseleave",this.chartMouseleave.bind(this));this.domSubscriptions=()=>{e()}}),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}onDrilldown(e){let i=new Qx(e,this);if(this.run(()=>this.drilldown.emit(i)),i.isDefaultPrevented())return;let s=this.seriesCollectionComponent.first,o=this.seriesComponents.find(r=>r.name===e.series.name);if(o.drilldownTemplate){o.hidden=!0;let r=s.viewContainer.createEmbeddedView(o.drilldownTemplate.templateRef,{drilldownValue:e.value,point:e.point,series:e.series});r.markForCheck(),this.drilldownState.push(r),this.drilldownLevelChange.emit(this.drilldownLevel)}}ngAfterViewChecked(){this.instance&&this.autoResize&&this.ngZone.runOutsideAngular(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resize()},0)})}ngOnChanges(e){let i=this.configurationService.store;hu(e,i),i.popupSettings=null,this.configurationService.push(i)}notifyChanges(e){this.ngOnChanges(du(e))}ngOnDestroy(){this.destroyed=!0,this.optionsChange&&this.optionsChange.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}createInstance(e,i){this.instance=new ln(e,this.options,this.theme,{intlService:this.intl,observer:i,rtl:this.rtl,sender:this})}exportImage(e={}){return Mu(this.exportVisual(e),e)}exportSVG(e={}){return Ou(this.exportVisual(e),e)}exportVisual(e={}){return this.instance.exportVisual(e)}findAxisByName(e){if(this.instance)return this.instance.findAxisByName(e)}findPaneByIndex(e){if(this.instance)return this.instance.findPaneByIndex(e)}findPaneByName(e){if(this.instance)return this.instance.findPaneByName(e)}getPlotArea(){if(this.instance)return this.instance.plotArea()}toggleHighlight(e,i){this.instance&&this.instance.toggleHighlight(e,i)}hideTooltip(){this.instance&&this.instance.hideTooltip()}showTooltip(e){this.instance&&this.instance.showTooltip(e)}init(){if(!this.canRender)return;let e=this.surfaceElement.nativeElement,i=new Ax(this);this.createInstance(e,i)}resize(){this.instance&&this.instance.resize()}onResize(){this.autoResize&&this.resize()}reloadTheme(){this.instance&&(this.themeService.reset(),this.instance.destroy(),this.instance=null)}onLegendItemClick(e){this.run(()=>{let i=new qx(e,this);if(this.legendItemClick.emit(i),!i.isDefaultPrevented()){let s=this.seriesComponents.toArray()[e.series.index];if(!s)return;e.pointIndex!==void 0?s.togglePointVisibility(e.pointIndex):s.toggleVisibility(),this.suppressTransitions=!0}},Kp(this.legendItemClick),this.seriesComponents.length>0)}onInit(e){this.instance=e.sender}onRender(e){let i=this.getDonutCenterStyle();this.run(()=>{let s=new tu(e,this);this.surface=e.sender.surface,this.render.emit(s),this.donutCenterStyle=i},Kp(this.render),this.donutCenterStyle!==i)}onShowTooltip(e){this.run(()=>{e.crosshair?this.crossahirTooltips.show(e):this.tooltipInstance.show(e)},!e.crosshair,!0)}onHideTooltip(e){e.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}trigger(e,i){if(e==="resize")return;if(e==="drilldown"){this.onDrilldown(i);return}let s=this.activeEmitter(e);if(s){let o=this.instanceEventService.create(e,i,this);return this.run(()=>{s.emit(o)}),o.isDefaultPrevented&&o.isDefaultPrevented()}}requiresHandlers(e){for(let i=0;i<e.length;i++)if(this.activeEmitter(e[i]))return!0;return!1}refresh(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),!this.instance){this.init();return}let e=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=e,this.suppressTransitions=!1)}setChartAreaSize(){if(!this.element)return;let e=this.element.nativeElement,i=this.options.chartArea||{};i.width&&(e.style.width=`${i.width}px`),i.height&&(e.style.height=`${i.height}px`)}updateOptions(){this.instance.setOptions(this.options)}tooltipMouseleave(e){let i=e.relatedTarget,s=this.element.nativeElement;this.instance&&(!i||!Sx(i,s))&&this.instance.hideElements()}chartMouseleave(e){let i=e.relatedTarget,s=this.element.nativeElement;this.instance&&(!i||!(this.tooltipInstance.containsElement(i)||Sx(i,s)))&&!this.instance.handlingTap&&this.instance.hideElements()}get canRender(){return $r()&&!!this.surfaceElement}get autoResize(){return this.resizeRateLimit>0}activeEmitter(e){let i=this[e];if(i&&i.emit&&Kp(i))return i}getDonutCenterStyle(){if(!this.instance||!this.options||!this.options.series)return;let e=this.options.series[0],i=this.instance._plotArea.charts;if(!e||e.type!=="donut"||!i||i[0].points.length===0)return;let s=i[0].points[0],o=s.box.center(),r=s.sector.innerRadius,a=o.y-r,l=o.x-r,c=r*2;return{height:c+"px",left:l+"px",top:a+"px",width:c+"px"}}refreshWait(){this.ngZone.runOutsideAngular(()=>{this.optionsChange=Cu(this.configurationService.onChange$,this.themeService.onChange$).pipe(Su(e=>{this.options=e[0],this.theme=e[1]}),uc(iv)).subscribe(()=>{this.refresh()})})}run(e,i=!0,s){i?(s&&this.changeDetector.markForCheck(),this.ngZone.run(e)):(e(),s&&this.detectChanges())}detectChanges(){this.destroyed||this.changeDetector.detectChanges()}intlChange(){this.instance&&this.deferredRedraw()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}deferredRedraw(){this.ngZone.runOutsideAngular(()=>{clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(()=>{this.updateDirection(),this.instance.noTransitionsRedraw()},0)})}updateDirection(){let e=this.isRTL;this.rtl!==e&&(this.setDirection(),this.instance&&this.instance.setDirection(e))}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return!!this.localizationService.rtl}static \u0275fac=function(i){return new(i||n)(y(C),y(hc),y(Ds),y(Ji),y(ne),y($i),y(cc),y(Qr),y(Sn))};static \u0275cmp=A({type:n,selectors:[["kendo-chart"]],contentQueries:function(i,s,o){if(i&1&&(se(o,b_,5),se(o,w_,5),se(o,jr,4),se(o,_n,5)),i&2){let r;vt(r=yt())&&(s.donutCenterTemplate=r.first),vt(r=yt())&&(s.noDataTemplate=r.first),vt(r=yt())&&(s.seriesCollectionComponent=r),vt(r=yt())&&(s.seriesComponents=r)}},viewQuery:function(i,s){if(i&1&&(ke(Vr,7),ke(Br,7),ke(SE,7)),i&2){let o;vt(o=yt())&&(s.tooltipInstance=o.first),vt(o=yt())&&(s.crossahirTooltips=o.first),vt(o=yt())&&(s.surfaceElement=o.first)}},inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",subtitle:"subtitle",title:"title",noData:"noData",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",paneDefaults:"paneDefaults",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis",resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings",drilldownLevel:"drilldownLevel"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",drilldown:"drilldown",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart",legendItemClick:"legendItemClick",drilldownLevelChange:"drilldownLevelChange"},exportAs:["kendoChart"],standalone:!0,features:[At([C,Cn,cc,ne,{provide:ia,useValue:"kendo.chart"}]),_o,T],decls:9,vars:6,consts:()=>{let e;return e=$localize`:kendo.chart.noData|The message to display when no series are defined, or all series are empty:No data available`,[["surface",""],["noDataMessage",""],["kendoChartLocalizedMessages","","noData",e],[1,"k-chart-surface"],["class","k-chart-overlay",3,"display",4,"ngIf"],[3,"popupSettings"],[3,"leave","popupSettings"],[3,"resize","rateLimit"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[1,"k-chart-overlay"],[1,"k-no-data"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],[1,"k-chart-donut-center",3,"ngStyle"],["kendoWatermarkOverlay",""]]},template:function(i,s){if(i&1){let o=mc();Eu(0,2),ut(1,"div",3,0),Ht(3,EE,5,4,"div",4),_t(),Mt(4,"kendo-chart-crosshair-tooltips-container",5),ut(5,"kendo-chart-tooltip-popup",6),Ps("leave",function(a){return Co(o),So(s.tooltipMouseleave(a))}),_t(),ut(6,"kendo-resize-sensor",7),Ps("resize",function(){return Co(o),So(s.onResize())}),_t(),Ht(7,DE,2,2,"div",8)(8,RE,1,0,"div",9)}i&2&&(W(3),j("ngIf",s.noData),W(),j("popupSettings",s.popupSettings),W(),j("popupSettings",s.popupSettings),W(),j("rateLimit",s.resizeRateLimit),W(),j("ngIf",s.donutCenterStyle&&s.donutCenterTemplate),W(),j("ngIf",s.showLicenseWatermark))},dependencies:[__,Br,Vr,yc,ko,Kr,vc,Jr],encapsulation:2,changeDetection:0})}return n})(),KE=(()=>{class n extends eu{service;constructor(e){super(),this.service=e}get override(){return!0}static \u0275fac=function(i){return new(i||n)(y(ne))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-messages"]],standalone:!0,features:[At([{provide:eu,useExisting:Yr(()=>n)}]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})();var C_=(()=>{class n extends zr{configurationService;collectionService;intl;axisCrossingValue;background;baseUnit;categories;color;line;majorGridLines;majorTicks;majorUnit;max;min;minorGridLines;minorTicks;minorUnit;name;narrowRange;pane;plotBands;reverse;startAngle;type;visible;weekStartDay;crosshair;labels;notes;title;intlSubscription;constructor(e,i,s,o){super(e,i),this.configurationService=e,this.collectionService=i,this.intl=s,s.localeId=o,this.notifyChanges({weekStartDay:s.firstDay(s.localeId)}),this.intlSubscription=s.changes.subscribe(()=>{this.notifyChanges({weekStartDay:s.firstDay(s.localeId)})})}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt),y(Ji),y(xc))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item"]],inputs:{axisCrossingValue:"axisCrossingValue",background:"background",baseUnit:"baseUnit",categories:"categories",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",majorUnit:"majorUnit",max:"max",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",minorUnit:"minorUnit",name:"name",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",startAngle:"startAngle",type:"type",visible:"visible",weekStartDay:"weekStartDay",crosshair:"crosshair",labels:"labels",notes:"notes",title:"title"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),$E=(()=>{class n extends Hr{configurationService;collectionService;children;constructor(e,i){super("xAxis",e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis"]],contentQueries:function(i,s,o){if(i&1&&se(o,C_,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),JE=(()=>{class n extends O{configurationService;color;opacity;visible;width;tooltip;constructor(e){super("crosshair",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-crosshair"]],inputs:{color:"color",opacity:"opacity",visible:"visible",width:"width",tooltip:"tooltip"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),tI=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("crosshair.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-crosshair-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),eI=(()=>{class n extends O{configurationService;background;border;color;content;culture;dateFormats;font;format;margin;mirror;padding;position;rotation;skip;step;visible;visual;constructor(e){super("labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-labels"]],inputs:{background:"background",border:"border",color:"color",content:"content",culture:"culture",dateFormats:"dateFormats",font:"font",format:"format",margin:"margin",mirror:"mirror",padding:"padding",position:"position",rotation:"rotation",skip:"skip",step:"step",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),iI=(()=>{class n extends O{configurationService;data;line;position;visual;icon;label;constructor(e){super("notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-notes"]],inputs:{data:"data",line:"line",position:"position",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),sI=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),oI=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),nI=(()=>{class n extends O{configurationService;background;border;color;font;margin;padding;position;rotation;text;visible;visual;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-x-axis-item-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",rotation:"rotation",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),S_=(()=>{class n extends zr{configurationService;collectionService;axisCrossingValue;background;baseUnit;categories;color;line;majorGridLines;majorTicks;majorUnit;max;min;minorGridLines;minorTicks;minorUnit;name;narrowRange;pane;plotBands;reverse;type;visible;crosshair;labels;notes;title;constructor(e,i){super(e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item"]],inputs:{axisCrossingValue:"axisCrossingValue",background:"background",baseUnit:"baseUnit",categories:"categories",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",majorUnit:"majorUnit",max:"max",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",minorUnit:"minorUnit",name:"name",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",type:"type",visible:"visible",crosshair:"crosshair",labels:"labels",notes:"notes",title:"title"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),rI=(()=>{class n extends Hr{configurationService;collectionService;children;constructor(e,i){super("yAxis",e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis"]],contentQueries:function(i,s,o){if(i&1&&se(o,S_,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),aI=(()=>{class n extends O{configurationService;color;opacity;visible;width;tooltip;constructor(e){super("crosshair",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-crosshair"]],inputs:{color:"color",opacity:"opacity",visible:"visible",width:"width",tooltip:"tooltip"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),lI=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("crosshair.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-crosshair-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),cI=(()=>{class n extends O{configurationService;background;border;color;content;culture;dateFormats;font;format;margin;mirror;padding;position;rotation;skip;step;visible;visual;constructor(e){super("labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-labels"]],inputs:{background:"background",border:"border",color:"color",content:"content",culture:"culture",dateFormats:"dateFormats",font:"font",format:"format",margin:"margin",mirror:"mirror",padding:"padding",position:"position",rotation:"rotation",skip:"skip",step:"step",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),hI=(()=>{class n extends O{configurationService;data;line;position;visual;icon;label;constructor(e){super("notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-notes"]],inputs:{data:"data",line:"line",position:"position",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),dI=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),pI=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),uI=(()=>{class n extends O{configurationService;background;border;color;font;margin;padding;position;rotation;text;visible;visual;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-y-axis-item-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",rotation:"rotation",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),fI=(()=>{class n extends O{configurationService;mousewheel;selection;constructor(e){super("zoomable",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-zoomable"]],inputs:{mousewheel:"mousewheel",selection:"selection"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Kx=class extends oi{from;to;constructor(t,e){super(e),this.from=t.from,this.to=t.to}},A_=(()=>{class n extends C{static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})(),v_={navigatorFilter:Kx},iu=class extends cc{create(t,e,i){return v_[t]?new v_[t](e,i):super.create(t,e,i)}},mI={autoBindElements:!0,liveDrag:!1,partialRedraw:!0},T_=(()=>{class n extends Ur{configurationService;themeService;element;intl;localizationService;ngZone;instanceEventService;changeDetector;renderer;navigator;pannable;zoomable;drilldown=new nt;drilldownLevelChange=new nt;get drilldownLevel(){return this.drilldownState.length}navigatorFilter=new nt;showLicenseWatermark=!1;redrawSlaves=!1;hostClasses=["k-chart","k-stockchart"];constructor(e,i,s,o,r,a,l,c,h){super(e,i,s,o,r,a,l,c,h),this.configurationService=e,this.themeService=i,this.element=s,this.intl=o,this.localizationService=r,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=h;let d=ea(uu);this.showLicenseWatermark=ta(d)}skipNavigatorRedraw(){this.redrawSlaves=!0}createInstance(e,i){if(this.applyNavigatorDefaults(),this.isDevMode()&&(this.options.zoomable||this.options.pannable))throw new Error("The pannable and zoomable options are not supported by the StockChart component.");this.instance=new pg(e,this.options,this.theme,{intlService:this.intl,observer:i,rtl:this.rtl,sender:this})}updateOptions(){this.applyNavigatorDefaults(),this.redrawSlaves?(this.instance.applyOptions(this.options),this.instance.bindCategories(),this.instance.navigator.redrawSlaves()):this.instance.setOptions(this.options),this.redrawSlaves=!1}applyNavigatorDefaults(){this.options.navigator=Object.assign({},this.options.navigator,mI)}isDevMode(){return Iu()}static \u0275fac=function(i){return new(i||n)(y(C),y(hc),y(Ds),y(Ji),y(ne),y($i),y(iu),y(Qr),y(Sn))};static \u0275cmp=A({type:n,selectors:[["kendo-stockchart"]],inputs:{navigator:"navigator",pannable:"pannable",zoomable:"zoomable",drilldownLevel:"drilldownLevel"},outputs:{drilldown:"drilldown",drilldownLevelChange:"drilldownLevelChange",navigatorFilter:"navigatorFilter"},exportAs:["kendoStockChart"],standalone:!0,features:[At([C,Cn,{provide:A_,useExisting:C},iu,ne,{provide:ia,useValue:"kendo.chart"}]),k,T],decls:6,vars:3,consts:[["surface",""],[1,"k-chart-surface"],[3,"popupSettings"],[3,"leave","popupSettings"],[3,"resize"],["kendoWatermarkOverlay","",4,"ngIf"],["kendoWatermarkOverlay",""]],template:function(i,s){if(i&1){let o=mc();Mt(0,"div",1,0)(2,"kendo-chart-crosshair-tooltips-container",2),ut(3,"kendo-chart-tooltip-popup",3),Ps("leave",function(a){return Co(o),So(s.tooltipMouseleave(a))}),_t(),ut(4,"kendo-resize-sensor",4),Ps("resize",function(){return Co(o),So(s.onResize())}),_t(),Ht(5,PE,1,0,"div",5)}i&2&&(W(2),j("popupSettings",s.popupSettings),W(),j("popupSettings",s.popupSettings),W(2),j("ngIf",s.showLicenseWatermark))},dependencies:[Br,Vr,yc,ko,Jr],encapsulation:2,changeDetection:0})}return n})(),fu=new Mv("configuration prefix"),rv=(()=>{class n extends C{rootService;prefix;constructor(e,i,s){super(s),this.rootService=e,this.prefix=i}push(e){this.rootService.notify(new sc(this.prefix,e))}notify(e){e.key=this.prefix+(e.key?`.${e.key}`:""),this.rootService.notify(e)}static \u0275fac=function(i){return new(i||n)(Zr(A_),Zr(fu),Zr($i))};static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})(),gI=(()=>{class n extends O{configurationService;position;visible;categoryAxis;hint;pane;select;series;constructor(e){super("",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator"]],inputs:{position:"position",visible:"visible",categoryAxis:"categoryAxis",hint:"hint",pane:"pane",select:"select",series:"series"},standalone:!0,features:[At([{provide:fu,useValue:"navigator"},{provide:C,useClass:rv}]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Gr=(()=>{class n extends zr{configurationService;collectionService;intl;autoBaseUnitSteps;axisCrossingValue;background;baseUnit;baseUnitStep;categories;color;justified;line;majorGridLines;majorTicks;max;maxDateGroups;maxDivisions;min;minorGridLines;minorTicks;name;pane;plotBands;reverse;roundToBaseUnit;startAngle;type;visible;weekStartDay;crosshair;labels;notes;select;title;rangeLabels;intlSubscription;constructor(e,i,s,o){super(e,i),this.configurationService=e,this.collectionService=i,this.intl=s,s.localeId=o,this.notifyChanges({weekStartDay:s.firstDay(s.localeId)}),this.intlSubscription=s.changes.subscribe(()=>{this.notifyChanges({weekStartDay:s.firstDay(s.localeId)})})}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt),y(Ji),y(xc))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item"]],inputs:{autoBaseUnitSteps:"autoBaseUnitSteps",axisCrossingValue:"axisCrossingValue",background:"background",baseUnit:"baseUnit",baseUnitStep:"baseUnitStep",categories:"categories",color:"color",justified:"justified",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",max:"max",maxDateGroups:"maxDateGroups",maxDivisions:"maxDivisions",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",name:"name",pane:"pane",plotBands:"plotBands",reverse:"reverse",roundToBaseUnit:"roundToBaseUnit",startAngle:"startAngle",type:"type",visible:"visible",weekStartDay:"weekStartDay",crosshair:"crosshair",labels:"labels",notes:"notes",select:"select",title:"title",rangeLabels:"rangeLabels"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),xI=(()=>{class n extends Gr{configurationService;constructor(e,i,s){super(e,null,i,s),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C),y(Ji),y(xc))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis"]],standalone:!0,features:[At([{provide:fu,useValue:"navigator.categoryAxis"},{provide:C,useClass:rv}]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),av=(()=>{class n extends O{configurationService;color;dashType;opacity;visible;width;tooltip;constructor(e){super("crosshair",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-crosshair"]],inputs:{color:"color",dashType:"dashType",opacity:"opacity",visible:"visible",width:"width",tooltip:"tooltip"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),vI=(()=>{class n extends av{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-crosshair"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),lv=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("crosshair.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-crosshair-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),yI=(()=>{class n extends lv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-crosshair-tooltip"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),mu=(()=>{class n extends O{configurationService;background;border;color;content;culture;dateFormats;font;format;margin;mirror;padding;position;rotation;skip;step;visible;visual;constructor(e){super("labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-labels"]],inputs:{background:"background",border:"border",color:"color",content:"content",culture:"culture",dateFormats:"dateFormats",font:"font",format:"format",margin:"margin",mirror:"mirror",padding:"padding",position:"position",rotation:"rotation",skip:"skip",step:"step",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),bI=(()=>{class n extends mu{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-labels"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),cv=(()=>{class n extends O{configurationService;data;line;position;visual;icon;label;constructor(e){super("notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-notes"]],inputs:{data:"data",line:"line",position:"position",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),wI=(()=>{class n extends cv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-notes"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),hv=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),_I=(()=>{class n extends hv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-notes-icon"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),dv=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),CI=(()=>{class n extends dv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-notes-label"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),pv=(()=>{class n extends O{configurationService;from;max;min;mousewheel;to;constructor(e){super("select",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-select"]],inputs:{from:"from",max:"max",min:"min",mousewheel:"mousewheel",to:"to"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),SI=(()=>{class n extends pv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-select"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),uv=(()=>{class n extends O{configurationService;background;border;color;font;margin;padding;position;rotation;text;visible;visual;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",rotation:"rotation",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),AI=(()=>{class n extends uv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-category-axis-title"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),TI=(()=>{class n extends O{configurationService;content;format;visible;constructor(e){super("hint",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-hint"]],inputs:{content:"content",format:"format",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),gu=(()=>{class n extends zr{configurationService;collectionService;background;border;clip;height;margin;name;padding;title;constructor(e,i){super(e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-pane"],["kendo-chart-panes-item"]],inputs:{background:"background",border:"border",clip:"clip",height:"height",margin:"margin",name:"name",padding:"padding",title:"title"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),kI=(()=>{class n extends gu{configurationService;constructor(e){super(e,null),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-pane"]],standalone:!0,features:[At([{provide:fu,useValue:"navigator.pane"},{provide:C,useClass:rv}]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),fv=(()=>{class n extends O{configurationService;background;border;color;font;margin;position;text;visible;visual;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-pane-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",position:"position",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),EI=(()=>{class n extends fv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-pane-title"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),II=(()=>{class n extends O{configurationService;from;to;mousewheel;constructor(e){super("select",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-select"]],inputs:{from:"from",to:"to",mousewheel:"mousewheel"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),k_=(()=>{class n extends _n{configurationService;collectionService;drilldownField;constructor(e,i){super(e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item"]],inputs:{drilldownField:"drilldownField"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),DI=(()=>{class n extends jr{configurationService;collectionService;tooltipTemplateService;viewContainer;children;constructor(e,i,s,o){super(e,i,s,o),this.configurationService=e,this.collectionService=i,this.tooltipTemplateService=s,this.viewContainer=o}readTooltipTemplates(){}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt),y(Cn),y(Au))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series"]],contentQueries:function(i,s,o){if(i&1&&se(o,k_,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),mv=(()=>{class n extends O{configurationService;color;endCaps;line;value;visual;xValue;yValue;constructor(e){super("errorBars",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-error-bars"]],inputs:{color:"color",endCaps:"endCaps",line:"line",value:"value",visual:"visual",xValue:"xValue",yValue:"yValue"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),RI=(()=>{class n extends mv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-error-bars"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),gv=(()=>{class n extends O{configurationService;background;border;rotation;size;type;constructor(e){super("extremes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-extremes"]],inputs:{background:"background",border:"border",rotation:"rotation",size:"size",type:"type"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),PI=(()=>{class n extends gv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-extremes"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),xv=(()=>{class n extends O{configurationService;border;color;line;markers;opacity;toggle;visible;visual;constructor(e){super("highlight",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-highlight"]],inputs:{border:"border",color:"color",line:"line",markers:"markers",opacity:"opacity",toggle:"toggle",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),LI=(()=>{class n extends xv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-highlight"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),dc=(()=>{class n extends O{configurationService;align;background;border;color;content;ariaContent;distance;font;format;margin;padding;position;rotation;visible;visual;from;to;constructor(e){super("labels",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-labels"]],inputs:{align:"align",background:"background",border:"border",color:"color",content:"content",ariaContent:"ariaContent",distance:"distance",font:"font",format:"format",margin:"margin",padding:"padding",position:"position",rotation:"rotation",visible:"visible",visual:"visual",from:"from",to:"to"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),MI=(()=>{class n extends dc{configurationService;constructor(e){super(e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-labels"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),vv=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;padding;position;visible;constructor(e){super("labels.from",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-labels-from"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",padding:"padding",position:"position",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),OI=(()=>{class n extends vv{configurationService;constructor(e){super(e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-labels-from"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),yv=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;padding;position;visible;constructor(e){super("labels.to",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-labels-to"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",padding:"padding",position:"position",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),FI=(()=>{class n extends yv{configurationService;constructor(e){super(e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-labels-to"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),bv=(()=>{class n extends O{configurationService;background;border;rotation;size;type;visible;visual;from;to;constructor(e){super("markers",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-markers"]],inputs:{background:"background",border:"border",rotation:"rotation",size:"size",type:"type",visible:"visible",visual:"visual",from:"from",to:"to"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),NI=(()=>{class n extends bv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-markers"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),wv=(()=>{class n extends O{configurationService;line;position;visual;icon;label;constructor(e){super("notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-notes"]],inputs:{line:"line",position:"position",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),BI=(()=>{class n extends wv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-notes"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),_v=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),VI=(()=>{class n extends _v{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-notes-icon"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Cv=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),zI=(()=>{class n extends Cv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-notes-label"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Sv=(()=>{class n extends O{configurationService;background;border;rotation;size;type;constructor(e){super("outliers",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-outliers"]],inputs:{background:"background",border:"border",rotation:"rotation",size:"size",type:"type"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),HI=(()=>{class n extends Sv{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-outliers"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),jI=(()=>{class n extends pu{configurationService;constructor(e){super(e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-navigator-series-item-tooltip"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),E_=(()=>{class n extends Ur{configurationService;themeService;element;intl;localizationService;ngZone;instanceEventService;changeDetector;renderer;type;data;drilldown=new nt;drilldownLevelChange=new nt;noData=!1;get drilldownLevel(){return this.drilldownState.length}tooltipWrapperClass="k-sparkline-tooltip-wrapper";tooltipContentClasses={"k-sparkline-tooltip":!0};showLicenseWatermark=!1;hostClasses=["k-sparkline","k-widget"];constructor(e,i,s,o,r,a,l,c,h){super(e,i,s,o,r,a,l,c,h),this.configurationService=e,this.themeService=i,this.element=s,this.intl=o,this.localizationService=r,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=h;let d=ea(uu);this.showLicenseWatermark=ta(d)}createInstance(e,i){this.instance=new Cl(e,Cl.normalizeOptions(this.options),this.theme,{intlService:this.intl,observer:i,rtl:this.rtl,sender:this})}updateOptions(){this.instance.setOptions(Cl.normalizeOptions(this.options))}static \u0275fac=function(i){return new(i||n)(y(C),y(hc),y(Ds),y(Ji),y(ne),y($i),y(cc),y(Qr),y(Sn))};static \u0275cmp=A({type:n,selectors:[["kendo-sparkline"]],inputs:{type:"type",data:"data",noData:"noData",drilldownLevel:"drilldownLevel"},outputs:{drilldown:"drilldown",drilldownLevelChange:"drilldownLevelChange"},exportAs:["kendoSparkline"],standalone:!0,features:[At([C,Cn,cc,ne,{provide:ia,useValue:"kendo.chart"}]),k,T],decls:6,vars:6,consts:[["surface",""],[1,"k-chart-surface"],[3,"popupSettings"],[3,"leave","animate","wrapperClass","classNames","popupSettings"],[3,"resize"],["kendoWatermarkOverlay","",4,"ngIf"],["kendoWatermarkOverlay",""]],template:function(i,s){if(i&1){let o=mc();Mt(0,"span",1,0)(2,"kendo-chart-crosshair-tooltips-container",2),ut(3,"kendo-chart-tooltip-popup",3),Ps("leave",function(a){return Co(o),So(s.tooltipMouseleave(a))}),_t(),ut(4,"kendo-resize-sensor",4),Ps("resize",function(){return Co(o),So(s.onResize())}),_t(),Ht(5,LE,1,0,"div",5)}i&2&&(W(2),j("popupSettings",s.popupSettings),W(),j("animate",!1)("wrapperClass",s.tooltipWrapperClass)("classNames",s.tooltipContentClasses)("popupSettings",s.popupSettings),W(2),j("ngIf",s.showLicenseWatermark))},dependencies:[Br,Vr,yc,ko,Jr],encapsulation:2,changeDetection:0})}return n})(),I_=(()=>{class n extends O{configurationService;background;color;line;majorGridLines;majorTicks;minorGridLines;minorTicks;narrowRange;pane;plotBands;reverse;startAngle;visible;crosshair;labels;title;constructor(e){super("axisDefaults",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-axis-defaults"]],inputs:{background:"background",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",minorGridLines:"minorGridLines",minorTicks:"minorTicks",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",startAngle:"startAngle",visible:"visible",crosshair:"crosshair",labels:"labels",title:"title"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),D_=(()=>{class n extends O{configurationService;color;dashType;opacity;visible;width;tooltip;constructor(e){super("axisDefaults.crosshair",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-axis-defaults-crosshair"]],inputs:{color:"color",dashType:"dashType",opacity:"opacity",visible:"visible",width:"width",tooltip:"tooltip"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),R_=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("axisDefaults.crosshair.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-axis-defaults-crosshair-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),P_=(()=>{class n extends O{configurationService;content;font;format;margin;mirror;padding;rotation;skip;step;visible;visual;constructor(e){super("axisDefaults.labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-axis-defaults-labels"]],inputs:{content:"content",font:"font",format:"format",margin:"margin",mirror:"mirror",padding:"padding",rotation:"rotation",skip:"skip",step:"step",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),L_=(()=>{class n extends O{configurationService;background;border;color;font;margin;padding;position;rotation;text;visible;visual;constructor(e){super("axisDefaults.title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-axis-defaults-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",rotation:"rotation",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),xu=(()=>{class n extends Hr{configurationService;collectionService;children;constructor(e,i){super("categoryAxis",e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis"]],contentQueries:function(i,s,o){if(i&1&&se(o,Gr,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),M_=(()=>{class n extends mu{configurationService;constructor(e){super(e),this.configurationService=e,this.configKey="rangeLabels",this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-category-axis-item-range-labels"]],standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),O_=(()=>{class n extends O{configurationService;background;border;height;margin;opacity;width;constructor(e){super("chartArea",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-area"]],inputs:{background:"background",border:"border",height:"height",margin:"margin",opacity:"opacity",width:"width"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),vu=(()=>{class n extends O{configurationService;align;background;border;height;labels;margin;offsetX;offsetY;orientation;padding;position;reverse;visible;width;markers;spacing;inactiveItems;item;title;focusHighlight;constructor(e){super("legend",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-legend"]],inputs:{align:"align",background:"background",border:"border",height:"height",labels:"labels",margin:"margin",offsetX:"offsetX",offsetY:"offsetY",orientation:"orientation",padding:"padding",position:"position",reverse:"reverse",visible:"visible",width:"width",markers:"markers",spacing:"spacing",inactiveItems:"inactiveItems",item:"item",title:"title",focusHighlight:"focusHighlight"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),F_=(()=>{class n extends O{configurationService;labels;constructor(e){super("legend.inactiveItems",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-legend-inactive-items"]],inputs:{labels:"labels"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),N_=(()=>{class n extends O{configurationService;cursor;type;line;area;markers;highlight;visual;constructor(e){super("legend.item",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-legend-item"]],inputs:{cursor:"cursor",type:"type",line:"line",area:"area",markers:"markers",highlight:"highlight",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),B_=(()=>{class n extends O{configurationService;background;border;clip;height;margin;padding;title;constructor(e){super("paneDefaults",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-pane-defaults"]],inputs:{background:"background",border:"border",clip:"clip",height:"height",margin:"margin",padding:"padding",title:"title"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),V_=(()=>{class n extends O{configurationService;background;border;color;font;margin;position;visible;visual;constructor(e){super("paneDefaults.title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-pane-defaults-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",position:"position",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),z_=(()=>{class n extends Hr{configurationService;collectionService;children;constructor(e,i){super("panes",e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-panes"]],contentQueries:function(i,s,o){if(i&1&&se(o,gu,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),H_=(()=>{class n extends O{configurationService;background;border;margin;opacity;padding;constructor(e){super("plotArea",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-plot-area"]],inputs:{background:"background",border:"border",margin:"margin",opacity:"opacity",padding:"padding"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),j_=(()=>{class n extends O{configurationService;border;gap;highlight;overlay;spacing;stack;type;visual;labels;notes;tooltip;focusHighlight;constructor(e){super("seriesDefaults",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults"]],inputs:{border:"border",gap:"gap",highlight:"highlight",overlay:"overlay",spacing:"spacing",stack:"stack",type:"type",visual:"visual",labels:"labels",notes:"notes",tooltip:"tooltip",focusHighlight:"focusHighlight"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),U_=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;padding;visible;visual;from;to;constructor(e){super("seriesDefaults.labels",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-labels"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",padding:"padding",visible:"visible",visual:"visual",from:"from",to:"to"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),G_=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;padding;visible;constructor(e){super("seriesDefaults.labels.from",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-labels-from"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),W_=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;padding;visible;constructor(e){super("seriesDefaults.labels.to",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-labels-to"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),X_=(()=>{class n extends O{configurationService;line;visual;icon;label;constructor(e){super("seriesDefaults.notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-notes"]],inputs:{line:"line",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Y_=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("seriesDefaults.notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Z_=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("seriesDefaults.notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),q_=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("seriesDefaults.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-defaults-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),Q_=(()=>{class n extends O{configurationService;period;order;forecast;constructor(e){super("trendline",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-trendline"]],inputs:{period:"period",order:"order",forecast:"forecast"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),K_=(()=>{class n extends O{configurationService;before;after;forecast;constructor(e){super("forecast",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-series-item-trendline-forecast"]],inputs:{before:"before",after:"after",forecast:"forecast"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),$_=(()=>{class n extends O{configurationService;align;background;border;color;font;margin;padding;position;text;visible;constructor(e){super("subtitle",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-subtitle"]],inputs:{align:"align",background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",text:"text",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),yu=(()=>{class n extends O{configurationService;align;background;border;color;font;margin;padding;position;text;description;visible;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-title"]],inputs:{align:"align",background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",text:"text",description:"description",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),bu=(()=>{class n extends O{configurationService;templateService;background;border;color;font;format;opacity;padding;shared;visible;seriesTooltipTemplate;sharedTooltipTemplate;constructor(e,i){super("tooltip",e),this.configurationService=e,this.templateService=i,this.markAsVisible()}ngAfterContentChecked(){this.templateService.setTemplate(this.seriesTooltipTemplate?this.seriesTooltipTemplate.templateRef:null),this.templateService.setSharedTemplate(this.sharedTooltipTemplate?this.sharedTooltipTemplate.templateRef:null)}static \u0275fac=function(i){return new(i||n)(y(C),y(Cn))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-tooltip"]],contentQueries:function(i,s,o){if(i&1&&(se(o,oc,5),se(o,nc,5)),i&2){let r;vt(r=yt())&&(s.seriesTooltipTemplate=r.first),vt(r=yt())&&(s.sharedTooltipTemplate=r.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",opacity:"opacity",padding:"padding",shared:"shared",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),Av=(()=>{class n extends zr{configurationService;collectionService;axisCrossingValue;background;color;line;majorGridLines;majorTicks;majorUnit;max;min;minorGridLines;minorTicks;minorUnit;name;narrowRange;pane;plotBands;reverse;type;visible;crosshair;labels;notes;title;constructor(e,i){super(e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item"]],inputs:{axisCrossingValue:"axisCrossingValue",background:"background",color:"color",line:"line",majorGridLines:"majorGridLines",majorTicks:"majorTicks",majorUnit:"majorUnit",max:"max",min:"min",minorGridLines:"minorGridLines",minorTicks:"minorTicks",minorUnit:"minorUnit",name:"name",narrowRange:"narrowRange",pane:"pane",plotBands:"plotBands",reverse:"reverse",type:"type",visible:"visible",crosshair:"crosshair",labels:"labels",notes:"notes",title:"title"},standalone:!0,features:[At([C]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),J_=(()=>{class n extends Hr{configurationService;collectionService;children;constructor(e,i){super("valueAxis",e,i),this.configurationService=e,this.collectionService=i}static \u0275fac=function(i){return new(i||n)(y(C),y(Zt))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis"]],contentQueries:function(i,s,o){if(i&1&&se(o,Av,4),i&2){let r;vt(r=yt())&&(s.children=r)}},standalone:!0,features:[At([Zt]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),tC=(()=>{class n extends O{configurationService;color;opacity;visible;width;tooltip;constructor(e){super("crosshair",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-crosshair"]],inputs:{color:"color",opacity:"opacity",visible:"visible",width:"width",tooltip:"tooltip"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),eC=(()=>{class n extends O{configurationService;background;border;color;font;format;padding;visible;constructor(e){super("crosshair.tooltip",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-crosshair-tooltip"]],inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),iC=(()=>{class n extends O{configurationService;background;border;color;content;font;format;margin;mirror;padding;position;rotation;skip;step;visible;visual;constructor(e){super("labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-labels"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",margin:"margin",mirror:"mirror",padding:"padding",position:"position",rotation:"rotation",skip:"skip",step:"step",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),sC=(()=>{class n extends O{configurationService;data;line;position;visual;icon;label;constructor(e){super("notes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-notes"]],inputs:{data:"data",line:"line",position:"position",visual:"visual",icon:"icon",label:"label"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),oC=(()=>{class n extends O{configurationService;background;border;size;type;visible;constructor(e){super("notes.icon",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-notes-icon"]],inputs:{background:"background",border:"border",size:"size",type:"type",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),nC=(()=>{class n extends O{configurationService;background;border;color;content;font;format;position;rotation;visible;constructor(e){super("notes.label",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-notes-label"]],inputs:{background:"background",border:"border",color:"color",content:"content",font:"font",format:"format",position:"position",rotation:"rotation",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),rC=(()=>{class n extends O{configurationService;background;border;color;font;margin;padding;position;rotation;text;visible;visual;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-chart-value-axis-item-title"]],inputs:{background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",rotation:"rotation",text:"text",visible:"visible",visual:"visual"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),su=(()=>{class n{chart;rootItem={icon:"home",svgIcon:qv,title:"Home"};items;breadcrumb;subscription=new Dv;ngOnInit(){if(this.items=[this.rootItem],this.chart)this.subscription.add(this.chart.drilldown.subscribe(this.onDrilldown.bind(this))),this.subscription.add(this.chart.drilldownLevelChange.subscribe(this.onDrilldownLevelChange.bind(this)));else if(Iu())throw new Error(`Chart Breadcrumb: No Chart instance supplied. Please add a reference using the "chart" attribute. For example: 
<kendo-chart-breadcrumb [chart]="instance" />
<kendo-chart #instance>`)}ngOnChanges(e){let i=e.rootItem;i&&this.items&&(this.items[0]=i.currentValue)}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}onItemClick(e){this.chart.drilldownLevel=this.items.findIndex(i=>i===e)}onDrilldown(e){this.items=[...this.items,{text:e.point.category.toString()}]}onDrilldownLevelChange(e){this.items=this.items.slice(0,e+1)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=A({type:n,selectors:[["kendo-chart-breadcrumb"]],viewQuery:function(i,s){if(i&1&&ke(ME,7),i&2){let o;vt(o=yt())&&(s.breadcrumb=o.first)}},inputs:{chart:"chart",rootItem:"rootItem"},exportAs:["kendoChartBreadcrumb"],standalone:!0,features:[_o,T],decls:1,vars:1,consts:[[3,"itemClick","items"]],template:function(i,s){i&1&&(ut(0,"kendo-breadcrumb",0),Ps("itemClick",function(r){return s.onItemClick(r)}),_t()),i&2&&j("items",s.items)},dependencies:[Qv],encapsulation:2})}return n})(),UI=(()=>{class n extends hc{readTheme(){let e=wx(this.element);this.push(e)}static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275prov=Ki({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ou=class extends Gv{sender;originalEvent;constructor(t,e){super(),this.sender=e,this.originalEvent=t.originalEvent}},ec=class extends ou{dataItem;constructor(t,e){super(t,e),this.dataItem=t.dataItem}},ic=class extends ou{dataItem;constructor(t,e){super(t,e),this.dataItem=t.dataItem}},GI={nodeEnter:ec,nodeLeave:ec,linkEnter:ic,linkLeave:ic,nodeClick:ec,linkClick:ic},nu=class{create(t,e,i){return new GI[t](e,i)}},$x=class{source;target;value;constructor(t){let e=t.dataItem;this.source=e.source,this.target=e.target,this.value=e.value}},ru=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoSankeyLinkTooltipTemplate",""]],standalone:!0})}return n})(),Jx=class{color;label;value;constructor(t){let e=t.dataItem;this.label=e.label,this.color=e.color,this.value=t.nodeValue}},au=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(i){return new(i||n)(y(Pi,8))};static \u0275dir=$t({type:n,selectors:[["","kendoSankeyNodeTooltipTemplate",""]],standalone:!0})}return n})(),Tv=(()=>{class n{nodeTemplate;linkTemplate;static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ki({token:n,factory:n.\u0275fac})}return n})(),WI=(()=>{class n{color;size=15;display="inline-flex";marginLeft=3;static \u0275fac=function(i){return new(i||n)};static \u0275dir=$t({type:n,selectors:[["","squareSymbol",""]],hostVars:10,hostBindings:function(i,s){i&2&&Rs("background-color",s.color)("width",s.size,"px")("height",s.size,"px")("display",s.display)("margin-left",s.marginLeft,"px")},inputs:{color:"color",size:"size"},standalone:!0})}return n})(),XI=12,lu=(()=>{class n extends ov{element;popupService;templateService;localizationService;intlService;ngZone;renderer;nodeTooltipTemplateRef;linkTooltipTemplateRef;nodeTooltipContext;linkTooltipContext;defaultNodeTooltipTemplate;defaultLinkTooltipTemplate;templateRef;animate=!1;wrapperClass="k-chart-tooltip-wrapper";tooltipUnitFormat;offset;isNode;isLink;arrowIcon=Fu;textStyle={margin:"0 3px"};tooltipStyle={display:"flex",alignItems:"center"};subscriptions;rtl=!1;constructor(e,i,s,o,r,a,l){super(i,o),this.element=e,this.popupService=i,this.templateService=s,this.localizationService=o,this.intlService=r,this.ngZone=a,this.renderer=l}onInit(){this.popupRef.popupElement.className+=` ${this.wrapperClass}`}ngAfterViewInit(){this.setDirection(),this.subscriptions=this.localizationService.changes.subscribe(this.rtlChange.bind(this))}ngOnDestroy(){super.ngOnDestroy(),this.subscriptions&&this.subscriptions.unsubscribe()}show(e){this.isNode=e.targetType==="node",this.isLink=e.targetType==="link",this.nodeTooltipTemplateRef=this.templateService.nodeTemplate||this.defaultNodeTooltipTemplate.templateRef,this.nodeTooltipContext=new Jx(e),this.linkTooltipTemplateRef=this.templateService.linkTemplate||this.defaultLinkTooltipTemplate.templateRef,this.linkTooltipContext=new $x(e),super.show({style:{position:"static"},anchor:{align:e.tooltipData.popupAlign,point:this.tooltipAnchor(e)}})}tooltipAnchor(e){let i=this.element.nativeElement,s={width:i.offsetWidth,height:i.offsetHeight},o=_u({},e.tooltipData.popupOffset),r=e.tooltipData.popupAlign,a=this.offset||XI;return o.left+=r.horizontal==="left"?a:-1*a,r.horizontal==="right"&&(o.left-=s.width),r.vertical==="bottom"?o.top-=s.height+a:o.top+=a,o}formatUnits(e){return this.intlService.format(this.tooltipUnitFormat,e??0)}rtlChange(){this.arrowIcon=this.rtl?Zv:Fu}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return!!this.localizationService.rtl}static \u0275fac=function(i){return new(i||n)(y(Ds),y(Li),y(Tv),y(ne),y(Ji),y($i),y(Sn))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-tooltip-popup"]],viewQuery:function(i,s){if(i&1&&(ke(au,5),ke(ru,5),ke(ev,7)),i&2){let o;vt(o=yt())&&(s.defaultNodeTooltipTemplate=o.first),vt(o=yt())&&(s.defaultLinkTooltipTemplate=o.first),vt(o=yt())&&(s.templateRef=o.first)}},inputs:{animate:"animate",wrapperClass:"wrapperClass",tooltipUnitFormat:"tooltipUnitFormat",offset:"offset"},standalone:!0,features:[At([Li,{provide:wc,useFactory:nv}]),k,T],decls:4,vars:0,consts:[["content",""],["kendoSankeyNodeTooltipTemplate",""],["kendoSankeyLinkTooltipTemplate",""],[1,"k-tooltip","k-sankey-tooltip","k-chart-tooltip","k-chart-shared-tooltip",3,"ngStyle"],[1,"k-tooltip-content"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],["squareSymbol","",3,"color"],[3,"name","svgIcon"]],template:function(i,s){i&1&&Ht(0,VE,4,3,"ng-template",null,0,qr)(2,zE,6,6,"ng-template",1)(3,HE,10,11,"ng-template",2)},dependencies:[Kr,ko,vc,au,WI,ru,Yv],encapsulation:2})}return n})(),cu=(()=>{class n extends Pu{tooltipUnitFormat;static \u0275fac=(()=>{let e;return function(s){return(e||(e=Ao(n)))(s||n)}})();static \u0275dir=$t({type:n,selectors:[["","kendoSankeyMessages",""]],inputs:{tooltipUnitFormat:"tooltipUnitFormat"},features:[k]})}return n})(),aC=(()=>{class n extends cu{service;constructor(e){super(),this.service=e}static \u0275fac=function(i){return new(i||n)(y(ne))};static \u0275dir=$t({type:n,selectors:[["","kendoSankeyLocalizedMessages",""]],standalone:!0,features:[At([{provide:cu,useExisting:Yr(()=>n)}]),k]})}return n})(),kv=(()=>{class n{element;configurationService;themeService;localizationService;instanceEventService;ngZone;changeDetector;renderer;intlService;data;links;nodes;labels;title;legend;tooltip;disableAutoLayout;navigable=!0;popupSettings;nodeEnter=new nt;nodeLeave=new nt;nodeClick=new nt;linkEnter=new nt;linkLeave=new nt;linkClick=new nt;tooltipInstance;instanceElement;showLicenseWatermark=!1;instance;options;theme;optionsChange;redrawTimeout;destroyed;subscriptions;rtl=!1;constructor(e,i,s,o,r,a,l,c,h){this.element=e,this.configurationService=i,this.themeService=s,this.localizationService=o,this.instanceEventService=r,this.ngZone=a,this.changeDetector=l,this.renderer=c,this.intlService=h;let d=ea(uu);this.showLicenseWatermark=ta(d),this.themeService.loadTheme(),this.refreshWait()}ngAfterViewInit(){this.setDirection(),this.subscriptions=this.intlService.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}ngOnChanges(e){let i=this.configurationService.store;hu(e,i),i.popupSettings=null,this.configurationService.push(i)}notifyChanges(e){this.ngOnChanges(du(e))}ngOnDestroy(){this.destroyed=!0,this.optionsChange&&this.optionsChange.unsubscribe(),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.redrawTimeout)}messageFor(e){return this.localizationService.get(e)}createInstance(e){this.instance=new Lr(e,this.instanceOptions,this.theme),["nodeEnter","nodeLeave","nodeClick","linkEnter","linkLeave","linkClick"].forEach(i=>this.instance.bind(i,s=>this.trigger(i,s))),this.instance.bind("tooltipShow",i=>this.onShowTooltip(i)),this.instance.bind("tooltipHide",()=>this.onHideTooltip())}exportImage(e={}){return Mu(this.exportVisual(e),e)}exportSVG(e={}){return Ou(this.exportVisual(e),e)}exportVisual(e={}){return this.instance.exportVisual(e)}init(){if(!this.canRender)return;let e=this.instanceElement.nativeElement;this.createInstance(e)}reloadTheme(){this.instance&&(this.themeService.reset(),this.instance.destroy(),this.instance=null)}onShowTooltip(e){this.run(()=>{this.tooltipInstance.show(e)},!0,!0)}onHideTooltip(){this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}trigger(e,i){let s=this.activeEmitter(e);if(s){let o=this.instanceEventService.create(e,i,this);return this.run(()=>{s.emit(o)}),o.isDefaultPrevented&&o.isDefaultPrevented()}}requiresHandlers(e){for(let i=0;i<e.length;i++)if(this.activeEmitter(e[i]))return!0;return!1}refresh(){if(clearTimeout(this.redrawTimeout),!this.instance){this.init();return}this.updateOptions()}updateOptions(){this.instance.setOptions(this.instanceOptions)}get canRender(){return $r()&&!!this.instanceElement}get instanceOptions(){return Iv(_u({},this.options),{rtl:this.rtl,disableKeyboardNavigation:!this.navigable})}activeEmitter(e){let i=this[e];if(i&&i.emit&&Kp(i))return i}refreshWait(){this.ngZone.runOutsideAngular(()=>{this.optionsChange=Cu([this.configurationService.onChange$,this.themeService.onChange$]).pipe(Su(e=>{this.options=e[0],this.theme=e[1]}),uc(iv)).subscribe(()=>{this.refresh()})})}run(e,i=!0,s){i?(s&&this.changeDetector.markForCheck(),this.ngZone.run(e)):(e(),s&&this.detectChanges())}detectChanges(){this.destroyed||this.changeDetector.detectChanges()}intlChange(){this.instance&&this.refresh()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.refresh()}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return!!this.localizationService.rtl}static \u0275fac=function(i){return new(i||n)(y(Ds),y(C),y(UI),y(ne),y(nu),y($i),y(Qr),y(Sn),y(Ji))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey"]],viewQuery:function(i,s){if(i&1&&(ke(lu,7),ke(jE,7)),i&2){let o;vt(o=yt())&&(s.tooltipInstance=o.first),vt(o=yt())&&(s.instanceElement=o.first)}},inputs:{data:"data",links:"links",nodes:"nodes",labels:"labels",title:"title",legend:"legend",tooltip:"tooltip",disableAutoLayout:"disableAutoLayout",navigable:"navigable",popupSettings:"popupSettings"},outputs:{nodeEnter:"nodeEnter",nodeLeave:"nodeLeave",nodeClick:"nodeClick",linkEnter:"linkEnter",linkLeave:"linkLeave",linkClick:"linkClick"},exportAs:["kendoSankey"],standalone:!0,features:[At([C,ne,nu,Tv,{provide:ia,useValue:"kendo.sankey"}]),_o,T],decls:5,vars:3,consts:()=>{let e;return e=$localize`:kendo.sankey.tooltipUnitFormat|The format string to use when displaying node and link values in the tooltip:({0} units)`,[["instance",""],["kendoSankeyLocalizedMessages","","tooltipUnitFormat",e],[3,"popupSettings","tooltipUnitFormat"],["kendoWatermarkOverlay","",4,"ngIf"],["kendoWatermarkOverlay",""]]},template:function(i,s){i&1&&(Eu(0,1),Mt(1,"div",null,0)(3,"kendo-sankey-tooltip-popup",2),Ht(4,UE,1,0,"div",3)),i&2&&(W(3),j("popupSettings",s.popupSettings)("tooltipUnitFormat",s.messageFor("tooltipUnitFormat")),W(),j("ngIf",s.showLicenseWatermark))},dependencies:[aC,lu,ko,Jr],encapsulation:2,changeDetection:0})}return n})(),tv=class{originalData;data;constructor(t){this.data=t}},YI=(()=>{class n{sankey;data;dimensionFields=[];valueField;dataBound=new nt;constructor(e){this.sankey=e}ngOnChanges(e){if(!jv("data",e,!1))return;if(this.dimensionFields?.length===0)throw new Error("kendoSankeyFlatBinding: dimensionFields is required");if(!this.valueField)throw new Error("kendoSankeyFlatBinding: valueField is required");let i=this.dimensionFields.map(r=>({value:Ru(r)})),s={value:Ru(this.valueField)},o=px(this.data,i,s);this.dataBound.emit(new tv(o)),this.sankey.notifyChanges({data:o})}static \u0275fac=function(i){return new(i||n)(y(kv))};static \u0275dir=$t({type:n,selectors:[["","kendoSankeyFlatBinding",""]],inputs:{data:[Ov.None,"kendoSankeyFlatBinding","data"],dimensionFields:"dimensionFields",valueField:"valueField"},outputs:{dataBound:"dataBound"},standalone:!0,features:[_o]})}return n})(),ZI=(()=>{class n extends O{configurationService;visible;font;color;align;position;padding;margin;border;offset;stroke;constructor(e){super("labels",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-labels"]],inputs:{visible:"visible",font:"font",color:"color",align:"align",position:"position",padding:"padding",margin:"margin",border:"border",offset:"offset",stroke:"stroke"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),qI=(()=>{class n extends O{configurationService;align;background;border;height;labels;margin;offsetX;offsetY;orientation;padding;position;reverse;visible;width;markers;spacing;title;constructor(e){super("legend",e),this.configurationService=e,this.markAsVisible()}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-legend"]],inputs:{align:"align",background:"background",border:"border",height:"height",labels:"labels",margin:"margin",offsetX:"offsetX",offsetY:"offsetY",orientation:"orientation",padding:"padding",position:"position",reverse:"reverse",visible:"visible",width:"width",markers:"markers",spacing:"spacing",title:"title"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),QI=(()=>{class n extends O{configurationService;colorType;color;opacity;highlight;focusHighlight;constructor(e){super("links",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-links"]],inputs:{colorType:"colorType",color:"color",opacity:"opacity",highlight:"highlight",focusHighlight:"focusHighlight"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),KI=(()=>{class n extends cu{service;constructor(e){super(),this.service=e}get override(){return!0}static \u0275fac=function(i){return new(i||n)(y(ne))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-messages"]],standalone:!0,features:[At([{provide:cu,useExisting:Yr(()=>n)}]),k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),$I=(()=>{class n extends O{configurationService;colorType;color;opacity;offset;padding;width;align;focusHighlight;constructor(e){super("nodes",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-nodes"]],inputs:{colorType:"colorType",color:"color",opacity:"opacity",offset:"offset",padding:"padding",width:"width",align:"align",focusHighlight:"focusHighlight"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),JI=(()=>{class n extends O{configurationService;align;background;border;color;font;margin;padding;position;text;description;visible;constructor(e){super("title",e),this.configurationService=e}static \u0275fac=function(i){return new(i||n)(y(C))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-title"]],inputs:{align:"align",background:"background",border:"border",color:"color",font:"font",margin:"margin",padding:"padding",position:"position",text:"text",description:"description",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0})}return n})(),tD=(()=>{class n extends O{configurationService;templateService;followPointer;delay;offset;visible;linkTooltipTemplate;nodeTooltipTemplate;constructor(e,i){super("tooltip",e),this.configurationService=e,this.templateService=i,this.markAsVisible()}ngAfterContentChecked(){this.templateService.linkTemplate=this.linkTooltipTemplate?.templateRef,this.templateService.nodeTemplate=this.nodeTooltipTemplate?.templateRef}static \u0275fac=function(i){return new(i||n)(y(C),y(Tv))};static \u0275cmp=A({type:n,selectors:[["kendo-sankey-tooltip"]],contentQueries:function(i,s,o){if(i&1&&(se(o,ru,5),se(o,au,5)),i&2){let r;vt(r=yt())&&(s.linkTooltipTemplate=r.first),vt(r=yt())&&(s.nodeTooltipTemplate=r.first)}},inputs:{followPointer:"followPointer",delay:"delay",offset:"offset",visible:"visible"},standalone:!0,features:[k,T],decls:0,vars:0,template:function(i,s){},encapsulation:2})}return n})(),eD=[Ur,b_,w_,$E,JE,tI,C_,eI,iI,sI,oI,nI,rI,aI,lI,S_,cI,hI,dI,pI,uI,fI,Vr,oc,nc,Br,$p,I_,D_,R_,P_,L_,xu,av,lv,Gr,mu,M_,cv,hv,dv,pv,uv,O_,su,KE,__,vu,F_,N_,gu,B_,V_,z_,fv,H_,jr,j_,U_,G_,W_,X_,Y_,Z_,q_,sv,mv,gv,xv,_n,dc,vv,yv,bv,wv,_v,Cv,Sv,pu,Q_,K_,$_,yu,bu,J_,tC,eC,Av,iC,sC,oC,nC,rC],iD=[E_],sD=[T_,gI,xI,vI,yI,bI,wI,_I,CI,SI,AI,TI,kI,EI,II,DI,k_,RI,PI,LI,MI,OI,FI,NI,BI,VI,zI,HI,jI,Vr,oc,nc,Br,$p,I_,D_,R_,P_,L_,xu,av,lv,Gr,mu,M_,cv,hv,dv,pv,uv,O_,su,vu,F_,N_,gu,B_,V_,z_,fv,H_,jr,j_,U_,G_,W_,X_,Y_,Z_,q_,sv,mv,gv,xv,_n,dc,vv,yv,bv,wv,_v,Cv,Sv,pu,Q_,K_,$_,yu,bu,J_,tC,eC,Av,iC,sC,oC,nC,rC],oD=[kv,lu,ru,au,KI,aC,JI,qI,tD,QI,$I,ZI,YI],$it=[...eD,...iD,...sD,...oD];var lC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fv({type:n});static \u0275inj=Lv({providers:[Xv,Uv,Li,hc],imports:[Ur,su,E_,T_,su,kv,lu]})}return n})();var ist=(()=>{class n{constructor(e){this.dataStorage=e,this.title="Dashboard",this.pokemonChartData=[],this.generationsChartData=[],this.donutChartTypeData=[],this.autofit=!0,this.columnChartAbilityCategories=[],this.columnChartAbilityData=[],this.barChartStatsCategories=[],this.barChartStatHPData=[],this.barChartStatAttackData=[],this.barChartStatDefenseData=[],this.barChartStatSpecialAttackData=[]}ngOnInit(){this.pokemonChartData=this.dataStorage.getPokemonData(),this.pokemonChartData.sort((e,i)=>e.Name>i.Name?1:-1),this.generationsChartData=this.dataStorage.getGenerationData(),this.generationsChartData.sort((e,i)=>e.Id>i.Id?1:-1),this.prepareData()}prepareData(){let e=[];for(let i of this.pokemonChartData){let s=this.donutChartTypeData.filter(o=>o.type==i.Type);s.length>0?s[0].total+=1:this.donutChartTypeData.push({type:i.Type,total:1})}this.donutChartTypeData.map(i=>{i.total=i.total*100/this.pokemonChartData.length}),e=JSON.parse(JSON.stringify(this.pokemonChartData)),e.sort((i,s)=>i.StatsSum>s.StatsSum?-1:1),e=e.slice(0,4),this.barChartStatsCategories=e.map(i=>i.Name),this.barChartStatHPData=e.map(i=>i.HP),this.barChartStatAttackData=e.map(i=>i.Attack),this.barChartStatDefenseData=e.map(i=>i.Defense),this.barChartStatSpecialAttackData=e.map(i=>i.SpecialAttack);for(let i of this.generationsChartData)this.columnChartAbilityCategories.push(i.Id),this.columnChartAbilityData.push(i.NumberOfNewAbilities)}labelContent(e){return e.category}static{this.\u0275fac=function(i){return new(i||n)(y(Kv))}}static{this.\u0275cmp=A({type:n,selectors:[["dashboard"]],standalone:!0,features:[T],decls:27,vars:28,consts:[[1,"chart-container"],[1,"chart-padding"],["text","Distribution of pokemon by type",3,"font"],["format","{0:n2} %"],["type","donut","categoryField","type","field","total",3,"autoFit","data"],["position","outsideEnd","color","#000","background","none",3,"content"],[3,"visible"],["text","Abilities introduced per generation",3,"font"],["position","bottom","orientation","horizontal"],[3,"categories"],["name","Ability","type","column",3,"data"],["text","Status distribution of the 4 strongest Pokemon",3,"font"],["name","HP","type","bar",3,"gap","spacing","data"],["name","Attack","type","bar",3,"data"],["name","Defense","type","bar",3,"data"],["name","SpecialAttack","type","bar",3,"data"]],template:function(i,s){i&1&&(ut(0,"div",0)(1,"kendo-chart",1),Mt(2,"kendo-chart-title",2)(3,"kendo-chart-tooltip",3),ut(4,"kendo-chart-series")(5,"kendo-chart-series-item",4),Mt(6,"kendo-chart-series-item-labels",5),_t()(),Mt(7,"kendo-chart-legend",6),_t(),ut(8,"kendo-chart",1),Mt(9,"kendo-chart-title",7)(10,"kendo-chart-tooltip")(11,"kendo-chart-legend",8),ut(12,"kendo-chart-category-axis"),Mt(13,"kendo-chart-category-axis-item",9),_t(),ut(14,"kendo-chart-series"),Mt(15,"kendo-chart-series-item",10),_t()(),ut(16,"kendo-chart",1),Mt(17,"kendo-chart-title",11)(18,"kendo-chart-tooltip")(19,"kendo-chart-legend",8),ut(20,"kendo-chart-category-axis"),Mt(21,"kendo-chart-category-axis-item",9),_t(),ut(22,"kendo-chart-series"),Mt(23,"kendo-chart-series-item",12)(24,"kendo-chart-series-item",13)(25,"kendo-chart-series-item",14)(26,"kendo-chart-series-item",15),_t()()()),i&2&&(W(),Rs("width",600,"px")("height",600,"px"),W(),j("font","bold 23px sans-serif"),W(3),j("autoFit",s.autofit)("data",s.donutChartTypeData),W(),j("content",s.labelContent),W(),j("visible",!1),W(),Rs("width",1e3,"px")("height",600,"px"),W(),j("font","bold 23px sans-serif"),W(4),j("categories",s.columnChartAbilityCategories),W(2),j("data",s.columnChartAbilityData),W(),Rs("width",2e3,"px")("height",600,"px"),W(),j("font","bold 23px sans-serif"),W(4),j("categories",s.barChartStatsCategories),W(2),j("gap",2)("spacing",.25)("data",s.barChartStatHPData),W(),j("data",s.barChartStatAttackData),W(),j("data",s.barChartStatDefenseData),W(),j("data",s.barChartStatSpecialAttackData))},dependencies:[lC,Ur,xu,Gr,vu,jr,_n,dc,yu,bu],styles:[".chart-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-flow:row wrap}.chart-padding[_ngcontent-%COMP%]{padding:30px}"]})}}return n})();export{ist as DashboardComponent};
